import{_ as T,c as l,f as t,a as e,t as u,B as X,q as _,G as x,e as w,d as S,s as b,b as i,u as N,D as Y,r as v,o as Z,x as ee,J as se,g as te,F as g,i as y,j as k,w as L,T as D}from"./index-5h-0Ryy7.js";import{L as c}from"./localeText-D5y6HiIJ.js";import{C as ae}from"./storageMount.vue_vue_type_style_index_0_scoped_9509d7a0_lang-Ck5IkdP6.js";import{C as V,L as E,B as R,a as j,b as G,c as H,p as W,d as q,e as F,f as z,P as A,i as J,g as M}from"./index-BEmLUqdG.js";import{d as oe}from"./dayjs.min-BmZOQTD4.js";const le={class:"mb-1 d-flex gap-5"},re={class:"title"},ie={class:"ms-auto"},ne={__name:"process",props:["process","cpu"],setup(a){return(m,p)=>(t(),l("div",le,[e("small",re,[p[0]||(p[0]=e("i",{class:"bi bi-code-square me-2"},null,-1)),e("samp",null,u(a.process.command?a.process.command:a.process.name),1)]),e("small",ie,u(Math.round((a.process.percent+Number.EPSILON)*10)/10)+"% ",1)]))}},O=T(ne,[["__scopeId","data-v-ffe5ad8f"]]),ce={class:"col-sm-6 fadeIn d-flex gap-2 flex-column"},de={class:"d-flex mb-2"},ue={class:"mb-0"},he={class:"mb-0 ms-auto d-flex gap-2"},me={class:"text-info"},pe={class:"text-warning"},_e={class:"progress",role:"progressbar",style:{height:"10px"}},be={class:"card rounded-3"},fe={class:"card-header d-flex align-items-center gap-3"},ve={class:"text-info ms-auto"},ge={class:"text-warning"},ye={class:"card-body"},xe=X({__name:"networkInterface",props:["historicalChartTimestamp","historicalNetworkSpeed","interfaceName","interface"],setup(a){V.register(E,R,j,G,H,W,q,F,z,A,J);const m=a,p=_(()=>({responsive:!0,plugins:{legend:{display:!0},tooltip:{callbacks:{label:h=>`${h.formattedValue} MB/s`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(h,n)=>`${Math.round(h*1e4)/1e4} MB/s`},grid:{display:!1}}}})),s=_(()=>{let h=[],n=[];return m.historicalNetworkSpeed.bytes_recv&&m.historicalNetworkSpeed.bytes_sent&&(h=[...m.historicalNetworkSpeed.bytes_recv],n=[...m.historicalNetworkSpeed.bytes_sent]),{labels:[...m.historicalChartTimestamp],datasets:[{label:x("Real Time Received Data Usage"),data:h,fill:"origin",borderColor:"#0dcaf0",backgroundColor:"#0dcaf090",tension:0,pointRadius:2,borderWidth:1},{label:x("Real Time Sent Data Usage"),data:n,fill:"origin",backgroundColor:"#ffc10790",borderColor:"#ffc107",tension:0,pointRadius:2,borderWidth:1}]}});return(h,n)=>(t(),l("div",ce,[e("div",null,[e("div",de,[e("h6",ue,[e("samp",null,u(a.interfaceName),1)]),e("h6",he,[e("span",me,[n[0]||(n[0]=e("i",{class:"bi bi-arrow-down"},null,-1)),w(" "+u(Math.round((a.interface.bytes_recv/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)]),e("span",pe,[n[1]||(n[1]=e("i",{class:"bi bi-arrow-up"},null,-1)),w(" "+u(Math.round((a.interface.bytes_sent/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)])])]),e("div",_e,[a.interface.bytes_recv>0?(t(),l("div",{key:0,class:"progress-bar bg-info",style:b({width:`${a.interface.bytes_recv/(a.interface.bytes_sent+a.interface.bytes_recv)*100}%`})},null,4)):S("",!0),a.interface.bytes_sent>0?(t(),l("div",{key:1,class:"progress-bar bg-warning",style:b({width:`${a.interface.bytes_sent/(a.interface.bytes_sent+a.interface.bytes_recv)*100}%`})},null,4)):S("",!0)])]),e("div",be,[e("div",fe,[e("small",null,[i(c,{t:"Realtime Speed"})]),e("small",ve,[n[2]||(n[2]=e("i",{class:"bi bi-arrow-down-circle me-2"},null,-1)),w(" "+u(a.historicalNetworkSpeed.bytes_recv[a.historicalNetworkSpeed.bytes_recv.length-1])+" MB/s ",1)]),e("small",ge,[n[3]||(n[3]=e("i",{class:"bi bi-arrow-up-circle me-2"},null,-1)),w(" "+u(a.historicalNetworkSpeed.bytes_sent[a.historicalNetworkSpeed.bytes_sent.length-1])+" MB/s ",1)])]),e("div",ye,[i(N(M),{options:p.value,data:s.value,style:{width:"100%",height:"300px","max-height":"300px"}},null,8,["options","data"])])])]))}}),we={class:"text-body row g-2 mb-2"},ke={class:"col-sm-6"},Se={class:"card rounded-3 h-100 shadow"},Ce={class:"card-body p-4"},Ne={class:"d-flex flex-column gap-3"},Me={class:"d-flex flex-column gap-3",style:{height:"130px"}},$e={class:"d-flex align-items-center"},Pe={class:"text-muted mb-0"},Ie={class:"ms-auto mb-0"},Ue={key:0},Be={key:1,class:"spinner-border"},Le={class:"progress",role:"progressbar",style:{height:"10px"}},De={class:"d-flex gap-1"},Oe={class:"d-flex align-items-center"},Te={class:"mb-0"},Ve={class:"mb-0 ms-auto text-muted"},Ee={class:"position-relative"},Re={class:"col-sm-6"},je={class:"card rounded-3 h-100 shadow"},Ge={class:"card-body p-4"},He={class:"d-flex flex-column gap-3"},We={class:"d-flex flex-column gap-3",style:{height:"130px"}},qe={class:"d-flex align-items-center"},Fe={class:"text-muted"},ze={class:"ms-auto"},Ae={key:0},Je={key:1,class:"spinner-border"},Ke={class:"progress",role:"progressbar",style:{height:"10px"}},Qe={class:"d-flex align-items-center"},Xe={class:"mb-0"},Ye={class:"mb-0 ms-auto"},Ze={class:"progress",role:"progressbar",style:{height:"10px"}},es={class:"d-flex align-items-center"},ss={class:"mb-0"},ts={class:"mb-0 ms-auto text-muted"},as={class:"position-relative"},os={class:"col-sm-12"},ls={class:"card rounded-3 h-100 shadow"},rs={class:"card-body p-4 d-flex gap-3 flex-column"},is={class:"d-flex align-items-center gap-3"},ns={class:"text-muted mb-0"},cs={class:"ms-auto mb-0"},ds={key:0},us={key:1,class:"spinner-border"},hs={key:0,class:"row g-4"},ms={class:"col-sm-12"},ps={class:"card rounded-3 h-100 shadow"},_s={class:"card-body p-4 d-flex gap-3 flex-column"},bs={class:"d-flex align-items-center"},fs={class:"text-muted mb-0"},vs={class:"ms-auto mb-0"},gs={key:0},ys={key:1,class:"spinner-border"},xs={class:"row g-3"},ws={class:"col-sm-6 fadeIn"},ks={class:"d-flex mb-2"},Ss={class:"mb-0"},Cs={class:"mb-0 ms-auto d-flex gap-2"},Ns={class:"text-success"},Ms={class:"progress",role:"progressbar",style:{height:"20px"}},$s={__name:"systemStatus",setup(a){const m=Y(),p=v(!1),s=_(()=>p.value?m.SystemStatus:void 0);let h=null;V.register(E,R,j,G,H,W,q,F,z,A,J),Z(()=>{U(),h=setInterval(()=>{U()},5e3)}),ee(()=>{clearInterval(h)});const n=v([]),$=v([]),P=v([]),I=v([]),f=se({}),U=async()=>{await te("/api/systemStatus",{},d=>{n.value.push(oe().format("HH:mm:ss A")),m.SystemStatus=d.data,$.value.push(d.data.CPU.cpu_percent),P.value.push(d.data.Memory.VirtualMemory.percent),I.value.push(d.data.Memory.SwapMemory.percent);for(let o of Object.keys(d.data.NetworkInterfaces))Object.keys(f).includes(o)||(f[o]={bytes_recv:[],bytes_sent:[]}),f[o].bytes_recv.push(d.data.NetworkInterfaces[o].realtime.recv),f[o].bytes_sent.push(d.data.NetworkInterfaces[o].realtime.sent);p.value=!0})},B=_(()=>({responsive:!0,plugins:{legend:{display:!0},tooltip:{callbacks:{label:d=>`${d.formattedValue}%`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(d,o)=>`${d}%`},grid:{display:!1}}}})),K=_(()=>({labels:[...n.value],datasets:[{label:x("CPU Usage"),data:[...$.value],fill:"start",backgroundColor:"#0d6efd90",borderColor:"#0d6efd",tension:0,pointRadius:2,borderWidth:1}]})),Q=_(()=>({labels:[...n.value],datasets:[{label:x("Memory Usage"),data:[...P.value],fill:1,borderColor:"#0dcaf0",backgroundColor:"#0dcaf090",tension:0,pointRadius:2,borderWidth:1},{label:x("Swap Memory Usage"),data:[...I.value],fill:"start",backgroundColor:"#ffc10790",borderColor:"#ffc107",tension:0,pointRadius:2,borderWidth:1}]}));return(d,o)=>(t(),l("div",we,[e("div",ke,[e("div",Se,[e("div",Ce,[e("div",Ne,[e("div",Me,[e("div",$e,[e("h3",Pe,[o[0]||(o[0]=e("i",{class:"bi bi-cpu-fill me-2"},null,-1)),i(c,{t:"CPU"})]),e("h3",Ie,[s.value?(t(),l("span",Ue,u(s.value.CPU.cpu_percent)+"% ",1)):(t(),l("span",Be))])]),e("div",Le,[e("div",{class:"progress-bar",style:b({width:`${s.value?.CPU.cpu_percent}%`})},null,4)]),e("div",De,[(t(!0),l(g,null,y(s.value?.CPU.cpu_percent_per_cpu,(r,C)=>(t(),k(ae,{square:!0,key:C,align:C+1>Math.round(s.value?.CPU.cpu_percent_per_cpu.length/2),core_number:C,percentage:r},null,8,["align","core_number","percentage"]))),128))])]),i(N(M),{options:B.value,data:K.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),e("div",Oe,[e("h5",Te,[i(c,{t:"Processes"})]),e("h6",Ve,[e("small",null,[i(c,{t:"CPU Usage"})])])]),o[1]||(o[1]=e("hr",{class:"my-1"},null,-1)),e("div",Ee,[i(D,{name:"process"},{default:L(()=>[(t(!0),l(g,null,y(s.value?.Processes.cpu_top_10,r=>(t(),k(O,{key:r.pid,cpu:!0,process:r},null,8,["process"]))),128))]),_:1})])])])])]),e("div",Re,[e("div",je,[e("div",Ge,[e("div",He,[e("div",We,[e("div",qe,[e("h3",Fe,[o[2]||(o[2]=e("i",{class:"bi bi-memory me-2"},null,-1)),i(c,{t:"Memory"})]),e("h3",ze,[s.value?(t(),l("span",Ae,u(s.value?.Memory.VirtualMemory.percent)+"% ",1)):(t(),l("span",Je))])]),e("div",Ke,[e("div",{class:"progress-bar bg-info",style:b({width:`${s.value?.Memory.VirtualMemory.percent}%`})},null,4)]),e("div",Qe,[e("h6",Xe,[i(c,{t:"Swap Memory"})]),e("h6",Ye,u(s.value?.Memory.SwapMemory.percent)+"%",1)]),e("div",Ze,[e("div",{class:"progress-bar bg-info-subtle",style:b({width:`${s.value?.Memory.SwapMemory.percent}%`})},null,4)])]),i(N(M),{options:B.value,data:Q.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),e("div",es,[e("h5",ss,[i(c,{t:"Processes"})]),e("h6",ts,[e("small",null,[i(c,{t:"Memory Usage"})])])]),o[3]||(o[3]=e("hr",{class:"my-1"},null,-1)),e("div",as,[i(D,{name:"process"},{default:L(()=>[(t(!0),l(g,null,y(s.value?.Processes.memory_top_10,r=>(t(),k(O,{key:r.pid,process:r},null,8,["process"]))),128))]),_:1})])])])])]),e("div",os,[e("div",ls,[e("div",rs,[e("div",is,[e("h3",ns,[o[4]||(o[4]=e("i",{class:"bi bi-ethernet me-2"},null,-1)),i(c,{t:"Network"})]),e("h3",cs,[s.value?(t(),l("span",ds,[i(c,{t:Object.keys(s.value.NetworkInterfaces).length+" Interface"+(Object.keys(s.value.NetworkInterfaces).length>1?"s":"")},null,8,["t"])])):(t(),l("span",us))])]),o[5]||(o[5]=e("div",null,null,-1)),s.value?(t(),l("div",hs,[(t(!0),l(g,null,y(Object.keys(s.value.NetworkInterfaces).sort(),r=>(t(),k(xe,{interface:s.value.NetworkInterfaces[r],interfaceName:r,historicalChartTimestamp:n.value,historicalNetworkSpeed:f[r],key:r},null,8,["interface","interfaceName","historicalChartTimestamp","historicalNetworkSpeed"]))),128))])):S("",!0)])])]),e("div",ms,[e("div",ps,[e("div",_s,[e("div",bs,[e("h3",fs,[o[6]||(o[6]=e("i",{class:"bi bi-device-ssd-fill me-2"},null,-1)),i(c,{t:"Storage"})]),e("h3",vs,[s.value?(t(),l("span",gs,[i(c,{t:s.value.Disks.length+" Partition"+(s.value.Disks.length>1?"s":"")},null,8,["t"])])):(t(),l("span",ys))])]),e("div",xs,[s.value?(t(!0),l(g,{key:0},y(s.value.Disks,r=>(t(),l("div",ws,[e("div",ks,[e("h6",Ss,[e("samp",null,u(r.mountPoint),1)]),e("h6",Cs,[e("span",Ns,[i(c,{t:Math.round((r.used/1024e6+Number.EPSILON)*100)/100+" / "+Math.round((r.total/1024e6+Number.EPSILON)*100)/100+" GB Used"},null,8,["t"])])])]),e("div",Ms,[e("div",{class:"progress-bar bg-success",style:b({width:`${r.percent}%`})},u(r.percent)+"% ",5)])]))),256)):S("",!0)])])])])]))}},Ds=T($s,[["__scopeId","data-v-d762a6a8"]]);export{Ds as default};
