import{_ as f,h as k,c as n,f as d,a as e,m as h,b as o,e as g,y as v,n as b,W as $,D as I,v as A,w as M,F as K,i as O,t as P,T as U,I as j,d as y,G as T,r as C,$ as N,g as D,L as E,E as F,H as G,j as S,q as R,z as q}from"./index-BCgxBvDt.js";import{L as p}from"./localeText-ZTaDi7ZY.js";const W={name:"endpointAllowedIps",components:{LocaleText:p},props:{data:Object,saving:Boolean},setup(){const a=$(),t=I();return{store:a,dashboardStore:t}},data(){return{endpointAllowedIps:JSON.parse(JSON.stringify(this.data.endpoint_allowed_ip)),error:!1}},methods:{checkAllowedIP(){let a=this.endpointAllowedIps.split(",").map(t=>t.replaceAll(" ",""));for(let t in a)if(!this.store.checkCIDR(a[t])){this.error||this.dashboardStore.newMessage("WGDashboard","Endpoint Allowed IPs format is incorrect","danger"),this.data.endpoint_allowed_ip="",this.error=!0;return}this.error=!1,this.data.endpoint_allowed_ip=this.endpointAllowedIps}},watch:{endpointAllowedIps(){this.checkAllowedIP()}}},J={for:"peer_endpoint_allowed_ips",class:"form-label"},z={class:"text-muted"},H=["disabled"];function Q(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",null,[e("label",J,[e("small",z,[o(l,{t:"Endpoint Allowed IPs"}),t[2]||(t[2]=g()),e("code",null,[o(l,{t:"(Required)"})])])]),h(e("input",{type:"text",class:b(["form-control form-control-sm rounded-3",{"is-invalid":u.error}]),disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.endpointAllowedIps=s),onBlur:t[1]||(t[1]=s=>this.checkAllowedIP()),id:"peer_endpoint_allowed_ips"},null,42,H),[[v,this.endpointAllowedIps]])])}const Y=f(W,[["render",Q]]),Z={name:"allowedIPsInput",components:{LocaleText:p},props:{data:Object,saving:Boolean,bulk:Boolean,availableIp:void 0},data(){return{allowedIp:[],availableIpSearchString:"",customAvailableIp:"",allowedIpFormatError:!1}},setup(a){const t=$(),r=I(),c=C("");return Object.keys(a.availableIp).length>0&&(c.value=Object.keys(a.availableIp)[0]),{store:t,dashboardStore:r,selectedSubnet:c}},computed:{searchAvailableIps(){return this.availableIpSearchString?this.availableIp[this.selectedSubnet].filter(a=>a.includes(this.availableIpSearchString)&&!this.data.allowed_ips.includes(a)):this.availableIp[this.selectedSubnet].filter(a=>!this.data.allowed_ips.includes(a))},inputGetLocale(){return T("Enter IP Address/CIDR")}},methods:{addAllowedIp(a){let t=a.split(",");for(let r=0;r<t.length;r++){let c=t[r].trim();if(this.store.checkCIDR(c))this.data.allowed_ips.push(c);else return this.allowedIpFormatError=!0,this.dashboardStore.newMessage("WGDashboard",`This Allowed IP address is invalid: ${c}`,"danger"),!1}return this.customAvailableIp="",!0}},watch:{customAvailableIp(){this.allowedIpFormatError=!1}},mounted(){if(this.availableIp!==void 0&&Object.keys(this.availableIp).length>0&&this.data.allowed_ips.length===0)for(let a in this.availableIp)this.availableIp[a].length>0&&this.addAllowedIp(this.availableIp[a][0])}},X={class:"d-flex flex-column flex-md-row mb-2"},ee={for:"peer_allowed_ip_textbox",class:"form-label mb-0"},te={class:"text-muted"},se={class:"form-check form-switch ms-md-auto"},ae={class:"form-check-label",for:"disableIPValidation"},le={class:"d-flex"},oe=["onClick"],ie={class:"d-flex gap-2 align-items-center"},de={class:"input-group"},ne=["placeholder","disabled"],re=["disabled"],ce={class:"text-muted"},ue={class:"dropdown flex-grow-1"},pe=["disabled"],he={key:0,class:"dropdown-menu mt-2 shadow w-100 dropdown-menu-end rounded-3 pb-0",style:{width:"300px !important"}},be={class:"px-3 d-flex gap-3 align-items-center"},me={class:"px-3 overflow-x-scroll d-flex overflow-x-scroll overflow-y-hidden align-items-center gap-2"},_e=["onClick"],ve={class:"overflow-y-scroll",style:{height:"270px"}},fe=["onClick"],ke={class:"me-auto"},ye={key:0,class:"px-3 py-2"},ge={key:0,class:"text-muted"},we={key:1,class:"text-muted"};function xe(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",{class:b({inactiveField:this.bulk})},[e("div",X,[e("label",ee,[e("small",te,[o(l,{t:"Allowed IPs"}),t[5]||(t[5]=g()),e("code",null,[o(l,{t:"(Required)"})])])]),e("div",se,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>this.data.allowed_ips_validation=s),role:"switch",id:"disableIPValidation"},null,512),[[A,this.data.allowed_ips_validation]]),e("label",ae,[e("small",null,[o(l,{t:"Allowed IPs Validation"})])])])]),e("div",le,[e("div",{class:b(["d-flex gap-2 flex-wrap",{"mb-2":this.data.allowed_ips.length>0}])},[o(U,{name:"list"},{default:M(()=>[(d(!0),n(K,null,O(this.data.allowed_ips,(s,w)=>(d(),n("span",{class:"badge rounded-pill text-bg-success",key:s},[g(P(s)+" ",1),e("a",{role:"button",onClick:L=>this.data.allowed_ips.splice(w,1)},[...t[6]||(t[6]=[e("i",{class:"bi bi-x-circle-fill ms-1"},null,-1)])],8,oe)]))),128))]),_:1})],2)]),e("div",ie,[e("div",de,[h(e("input",{type:"text",class:b(["form-control form-control-sm rounded-start-3",{"is-invalid":this.allowedIpFormatError}]),placeholder:this.inputGetLocale,onKeyup:t[1]||(t[1]=j(s=>this.customAvailableIp?this.addAllowedIp(this.customAvailableIp):void 0,["enter"])),"onUpdate:modelValue":t[2]||(t[2]=s=>u.customAvailableIp=s),id:"peer_allowed_ip_textbox",disabled:r.bulk},null,42,ne),[[v,u.customAvailableIp]]),e("button",{class:b(["btn btn-sm rounded-end-3",[this.customAvailableIp?"btn-success":"btn-outline-success"]]),disabled:r.bulk||!this.customAvailableIp,onClick:t[3]||(t[3]=s=>this.addAllowedIp(this.customAvailableIp)),type:"button",id:"button-addon2"},[...t[7]||(t[7]=[e("i",{class:"bi bi-plus-lg"},null,-1)])],10,re)]),e("small",ce,[o(l,{t:"or"})]),e("div",ue,[e("button",{class:"btn btn-outline-secondary btn-sm dropdown-toggle rounded-3 w-100",disabled:!r.availableIp||r.bulk,"data-bs-auto-close":"outside",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t[8]||(t[8]=e("i",{class:"bi bi-filter-circle me-2"},null,-1)),o(l,{t:"Pick Available IP"})],8,pe),this.availableIp?(d(),n("ul",he,[e("li",null,[e("div",be,[t[9]||(t[9]=e("label",{for:"availableIpSearchString",class:"text-muted"},[e("i",{class:"bi bi-search"})],-1)),h(e("input",{id:"availableIpSearchString",class:"form-control form-control-sm rounded-3","onUpdate:modelValue":t[4]||(t[4]=s=>this.availableIpSearchString=s)},null,512),[[v,this.availableIpSearchString]])]),t[11]||(t[11]=e("hr",{class:"my-2"},null,-1)),e("div",me,[t[10]||(t[10]=e("small",{class:"text-muted"},"Subnet",-1)),(d(!0),n(K,null,O(Object.keys(this.availableIp),s=>(d(),n("button",{key:s,onClick:w=>this.selectedSubnet=s,class:b([{"bg-primary-subtle":this.selectedSubnet===s},"btn btn-sm text-primary-emphasis rounded-3"])},P(s),11,_e))),128))]),t[12]||(t[12]=e("hr",{class:"mt-2 mb-0"},null,-1))]),e("li",null,[e("div",ve,[(d(!0),n(K,null,O(this.searchAvailableIps,s=>(d(),n("div",{style:{},key:s},[e("a",{class:"dropdown-item d-flex",role:"button",onClick:w=>this.addAllowedIp(s)},[e("span",ke,[e("small",null,P(s),1)])],8,fe)]))),128)),this.searchAvailableIps.length===0?(d(),n("div",ye,[this.availableIpSearchString?(d(),n("small",ge,[o(l,{t:"No available IP containing"}),g('"'+P(this.availableIpSearchString)+'"',1)])):(d(),n("small",we,[o(l,{t:"No more IP address available in this subnet"})]))])):y("",!0)])])])):y("",!0)])])],2)}const $e=f(Z,[["render",xe],["__scopeId","data-v-ed72944d"]]),Ie={name:"dnsInput",components:{LocaleText:p},props:{data:Object,saving:Boolean},data(){return{error:!1,dns:JSON.parse(JSON.stringify(this.data.DNS))}},setup(){const a=$(),t=I();return{store:a,dashboardStore:t}},methods:{checkDNS(){if(this.dns){let a=this.dns.split(",").map(t=>t.replaceAll(" ",""));for(let t in a)if(!this.store.regexCheckIP(a[t])){this.error||this.dashboardStore.newMessage("WGDashboard","DNS format is incorrect","danger"),this.error=!0,this.data.DNS="";return}this.error=!1,this.data.DNS=this.dns}}},watch:{dns(){this.checkDNS()}}},Ae={for:"peer_DNS_textbox",class:"form-label"},Pe={class:"text-muted"},Se=["disabled"];function Ke(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",null,[e("label",Ae,[e("small",Pe,[o(l,{t:"DNS"})])]),h(e("input",{type:"text",class:b(["form-control form-control-sm rounded-3",{"is-invalid":this.error}]),disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.dns=s),id:"peer_DNS_textbox"},null,10,Se),[[v,this.dns]])])}const Ce=f(Ie,[["render",Ke]]),Le={name:"nameInput",components:{LocaleText:p},props:{bulk:Boolean,data:Object,saving:Boolean}},Oe={for:"peer_name_textbox",class:"form-label"},Ne={class:"text-muted"},Te=["disabled"];function De(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",{class:b({inactiveField:this.bulk})},[e("label",Oe,[e("small",Ne,[o(l,{t:"Name"})])]),h(e("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving||this.bulk,"onUpdate:modelValue":t[0]||(t[0]=s=>this.data.name=s),id:"peer_name_textbox",placeholder:""},null,8,Te),[[v,this.data.name]])],2)}const Be=f(Le,[["render",De]]),Ve={name:"privatePublicKeyInput",components:{LocaleText:p},props:{data:Object,saving:Boolean,bulk:Boolean},setup(){const a=I(),t=$();return{dashboardStore:a,wgStore:t}},data(){return{keypair:{publicKey:"",privateKey:"",presharedKey:""},view:!1,editKey:!1,error:!1}},methods:{genKeyPair(){this.editKey=!1,this.keypair=window.wireguard.generateKeypair(),this.data.private_key=this.keypair.privateKey,this.data.public_key=this.keypair.publicKey},testKey(a){return/^[A-Za-z0-9+/]{43}=?=?$/.test(a)},checkMatching(){try{this.keypair.privateKey&&this.wgStore.checkWGKeyLength(this.keypair.privateKey)&&(this.keypair.publicKey=window.wireguard.generatePublicKey(this.keypair.privateKey),window.wireguard.generatePublicKey(this.keypair.privateKey)!==this.keypair.publicKey?(this.error=!0,this.dashboardStore.newMessage("WGDashboard","Private key does not match with the public key","danger")):(this.data.private_key=this.keypair.privateKey,this.data.public_key=this.keypair.publicKey))}catch{this.error=!0,this.data.private_key="",this.data.public_key=""}}},mounted(){this.genKeyPair()},watch:{keypair:{deep:!0,handler(){this.error=!1,this.checkMatching()}}}},Me={for:"peer_private_key_textbox",class:"form-label d-flex align-items-center"},Ue={class:"text-muted"},je={class:"input-group"},Ee=["type","disabled"],Fe=["disabled"],Ge={class:"d-flex flex-column flex-md-row mb-2"},Re={for:"public_key",class:"form-label mb-0"},qe={class:"text-muted"},We={class:"form-check form-switch ms-md-auto"},Je=["disabled"],ze={class:"form-check-label",for:"enablePublicKeyEdit"},He=["disabled","type"];function Qe(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",{class:b(["d-flex gap-2 flex-column",{inactiveField:this.bulk}])},[e("div",null,[e("label",Me,[e("small",Ue,[o(l,{t:"Private Key"}),t[7]||(t[7]=g()),e("code",null,[o(l,{t:"(Required for QR Code and Download)"})])]),e("a",{role:"button",class:"ms-auto text-decoration-none text-body",onClick:t[0]||(t[0]=s=>this.view=!this.view)},[e("small",null,[e("i",{class:b(["bi me-2",[this.view?"bi-eye-slash-fill":"bi-eye-fill"]])},null,2),o(l,{t:this.view?"Hide Keys":"Show Keys"},null,8,["t"])])])]),e("div",je,[h(e("input",{type:this.view?"text":"password",class:b(["form-control form-control-sm rounded-start-3",{"is-invalid":this.error,"rounded-3":!this.view}]),"onUpdate:modelValue":t[1]||(t[1]=s=>this.keypair.privateKey=s),disabled:!this.editKey||this.bulk,onBlur:t[2]||(t[2]=s=>this.checkMatching()),id:"peer_private_key_textbox"},null,42,Ee),[[N,this.keypair.privateKey]]),this.view?(d(),n("button",{key:0,class:"btn btn-outline-info btn-sm rounded-end-3",onClick:t[3]||(t[3]=s=>this.genKeyPair()),disabled:this.bulk,type:"button",id:"button-addon2"},[...t[8]||(t[8]=[e("i",{class:"bi bi-arrow-repeat"},null,-1)])],8,Fe)):y("",!0)])]),e("div",null,[e("div",Ge,[e("label",Re,[e("small",qe,[o(l,{t:"Public Key"}),t[9]||(t[9]=g()),e("code",null,[o(l,{t:"(Required)"})])])]),e("div",We,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:this.bulk,id:"enablePublicKeyEdit","onUpdate:modelValue":t[4]||(t[4]=s=>this.editKey=s)},null,8,Je),[[A,this.editKey]]),e("label",ze,[e("small",null,[o(l,{t:"Use your own Private and Public Key"})])])])]),h(e("input",{class:b(["form-control-sm form-control rounded-3",{"is-invalid":this.error}]),"onUpdate:modelValue":t[5]||(t[5]=s=>this.keypair.publicKey=s),onBlur:t[6]||(t[6]=s=>this.checkMatching()),disabled:!this.editKey||this.bulk,type:this.view?"text":"password",id:"public_key"},null,42,He),[[N,this.keypair.publicKey]])])],2)}const Ye=f(Ve,[["render",Qe]]),Ze={name:"bulkAdd",components:{LocaleText:p},props:{saving:Boolean,data:Object,availableIp:void 0},data(){return{numberOfAvailableIPs:null}},computed:{bulkAddGetLocale(){return T("How many peers you want to add?")},getNumberOfAvailableIPs(){return this.numberOfAvailableIPs?Object.values(this.numberOfAvailableIPs).reduce((a,t)=>a+t):"..."}},watch:{"data.bulkAdd":{immediate:!0,handler(a){a&&D("/api/getNumberOfAvailableIPs/"+this.$route.params.id,{},t=>{t.status&&(this.numberOfAvailableIPs=t.data)})}}}},Xe={class:"form-check form-switch"},et=["disabled"],tt={class:"form-check-label me-2",for:"bulk_add"},st={class:"text-muted d-block"},at={key:0,class:"form-group"},lt=["max","placeholder"],ot={class:"text-muted"};function it(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",null,[e("div",Xe,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:!this.availableIp,id:"bulk_add","onUpdate:modelValue":t[0]||(t[0]=s=>this.data.bulkAdd=s)},null,8,et),[[A,this.data.bulkAdd]]),e("label",tt,[e("small",null,[e("strong",null,[o(l,{t:"Bulk Add"})])])])]),e("p",{class:b({"mb-0":!this.data.bulkAdd})},[e("small",st,[o(l,{t:"By adding peers by bulk, each peer's name will be auto generated, and Allowed IP will be assign to the next available IP."})])],2),this.data.bulkAdd?(d(),n("div",at,[h(e("input",{class:"form-control form-control-sm rounded-3 mb-1",type:"number",min:"1",id:"bulk_add_count",max:this.availableIp.length,"onUpdate:modelValue":t[1]||(t[1]=s=>this.data.bulkAddAmount=s),placeholder:this.bulkAddGetLocale},null,8,lt),[[v,this.data.bulkAddAmount]]),e("small",ot,[o(l,{t:"You can add up to "+i.getNumberOfAvailableIPs+" peers"},null,8,["t"])])])):y("",!0)])}const dt=f(Ze,[["render",it]]),nt={name:"presharedKeyInput",components:{LocaleText:p},props:{data:Object,saving:Boolean},data(){return{enable:!1}},watch:{enable(){this.enable?this.data.preshared_key=window.wireguard.generateKeypair().presharedKey:this.data.preshared_key=""}}},rt={class:"d-flex align-items-start"},ct={for:"peer_preshared_key_textbox",class:"form-label"},ut={class:"text-muted"},pt={class:"form-check form-switch ms-auto"},ht=["disabled"];function bt(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",null,[e("div",rt,[e("label",ct,[e("small",ut,[o(l,{t:"Pre-Shared Key"})])]),e("div",pt,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":t[0]||(t[0]=s=>this.enable=s),id:"peer_preshared_key_switch"},null,512),[[A,this.enable]])])]),h(e("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving||!this.enable,"onUpdate:modelValue":t[1]||(t[1]=s=>this.data.preshared_key=s),id:"peer_preshared_key_textbox"},null,8,ht),[[v,this.data.preshared_key]])])}const mt=f(nt,[["render",bt]]),_t={name:"mtuInput",components:{LocaleText:p},props:{data:Object,saving:Boolean}},vt={for:"peer_mtu",class:"form-label"},ft={class:"text-muted"},kt=["disabled"];function yt(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",null,[e("label",vt,[e("small",ft,[o(l,{t:"MTU"})])]),h(e("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.data.mtu=s),min:"0",id:"peer_mtu"},null,8,kt),[[v,this.data.mtu]])])}const gt=f(_t,[["render",yt]]),wt={name:"persistentKeepAliveInput",components:{LocaleText:p},props:{data:Object,saving:Boolean}},xt={for:"peer_keep_alive",class:"form-label"},$t={class:"text-muted"},It=["disabled"];function At(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",null,[e("label",xt,[e("small",$t,[o(l,{t:"Persistent Keepalive"})])]),h(e("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":t[0]||(t[0]=s=>this.data.keepalive=s),id:"peer_keep_alive"},null,8,It),[[v,this.data.keepalive]])])}const Pt=f(wt,[["render",At]]),St={name:"notesInput",components:{LocaleText:p},props:{bulk:Boolean,data:Object,saving:Boolean}},Kt={for:"peer_notes_textbox",class:"form-label"},Ct={class:"text-muted"},Lt=["disabled"];function Ot(a,t,r,c,u,i){const l=k("LocaleText");return d(),n("div",{class:b({inactiveField:this.bulk})},[e("label",Kt,[e("small",Ct,[o(l,{t:"Notes"})])]),h(e("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving||this.bulk,"onUpdate:modelValue":t[0]||(t[0]=s=>this.data.notes=s),id:"peer_notes_textbox",placeholder:""},null,8,Lt),[[v,this.data.notes]])],2)}const Nt=f(St,[["render",Ot]]),Tt={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll",ref:"editConfigurationContainer"},Dt={class:"container d-flex h-100 w-100"},Bt={class:"m-auto modal-dialog-centered dashboardModal",style:{width:"1000px"}},Vt={class:"card rounded-3 shadow flex-grow-1"},Mt={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4"},Ut={class:"mb-0"},jt={class:"card-body px-4 pb-4"},Et={class:"d-flex flex-column gap-2"},Ft={class:"accordion mb-3",id:"peerAddModalAccordion"},Gt={class:"accordion-item"},Rt={class:"accordion-header"},qt={class:"accordion-button collapsed rounded-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#peerAddModalAccordionAdvancedOptions"},Wt={id:"peerAddModalAccordionAdvancedOptions",class:"accordion-collapse collapse collapsed","data-bs-parent":"#peerAddModalAccordion"},Jt={class:"accordion-body rounded-bottom-3"},zt={class:"d-flex flex-column gap-2"},Ht={class:"row gy-3"},Qt={key:0,class:"col-sm"},Yt={class:"col-sm"},Zt={class:"col-sm"},Xt={key:1,class:"col-12"},es={class:"form-check form-switch"},ts={class:"form-check-label",for:"bullAdd_PresharedKey_Switch"},ss={class:"fw-bold"},as={class:"d-flex mt-2"},ls=["disabled"],os={key:0,class:"bi bi-plus-circle-fill me-2"},ns={__name:"peerAddModal",emits:["close","addedPeers"],async setup(a,{emit:t}){let r,c;const u=I();$();const i=C({bulkAdd:!1,bulkAddAmount:0,name:"",allowed_ips:[],private_key:"",public_key:"",DNS:u.Configuration.Peers.peer_global_dns,endpoint_allowed_ip:u.Configuration.Peers.peer_endpoint_allowed_ip,notes:"",keepalive:parseInt(u.Configuration.Peers.peer_keep_alive),mtu:parseInt(u.Configuration.Peers.peer_mtu),preshared_key:"",preshared_key_bulkAdd:!1,allowed_ips_validation:!0}),l=C([]),s=C(!1),w=E();[r,c]=F(()=>D("/api/getAvailableIPs/"+w.params.id,{},_=>{_.status&&(l.value=_.data)})),await r,c();const L=t,B=R(()=>{let _=!0;return i.value.bulkAdd?(i.value.bulkAddAmount.length===0||i.value.bulkAddAmount>l.value.length)&&(_=!1):["allowed_ips","private_key","public_key","endpoint_allowed_ip","keepalive","mtu"].forEach(x=>{i.value[x].length===0&&(_=!1)}),_}),V=()=>{s.value=!0,q("/api/addPeers/"+w.params.id,i.value,_=>{_.status?(u.newMessage("Server","Peer created successfully","success"),L("addedPeers")):u.newMessage("Server",_.message,"danger"),s.value=!1})};return G(()=>i.value.bulkAddAmount,()=>{i.value.bulkAddAmount>l.value.length&&(i.value.bulkAddAmount=l.value.length)}),(_,m)=>(d(),n("div",Tt,[e("div",Dt,[e("div",Bt,[e("div",Vt,[e("div",Mt,[e("h4",Ut,[o(p,{t:"Add Peers"})]),e("button",{type:"button",class:"btn-close ms-auto",onClick:m[0]||(m[0]=x=>L("close"))})]),e("div",jt,[e("div",Et,[o(dt,{saving:s.value,data:i.value,availableIp:l.value},null,8,["saving","data","availableIp"]),i.value.bulkAdd?y("",!0):(d(),n(K,{key:0},[m[3]||(m[3]=e("hr",{class:"mb-0 mt-2"},null,-1)),o(Be,{saving:s.value,data:i.value},null,8,["saving","data"]),o(Nt,{saving:s.value,data:i.value},null,8,["saving","data"]),o(Ye,{saving:s.value,data:i.value},null,8,["saving","data"]),o($e,{availableIp:l.value,saving:s.value,data:i.value},null,8,["availableIp","saving","data"])],64))]),m[5]||(m[5]=e("hr",null,null,-1)),e("div",Ft,[e("div",Gt,[e("h2",Rt,[e("button",qt,[o(p,{t:"Advanced Options"})])]),e("div",Wt,[e("div",Jt,[e("div",zt,[o(Ce,{saving:s.value,data:i.value},null,8,["saving","data"]),o(Y,{saving:s.value,data:i.value},null,8,["saving","data"]),e("div",Ht,[i.value.bulkAdd?y("",!0):(d(),n("div",Qt,[o(mt,{saving:s.value,data:i.value,bulk:i.value.bulkAdd},null,8,["saving","data","bulk"])])),e("div",Yt,[o(gt,{saving:s.value,data:i.value},null,8,["saving","data"])]),e("div",Zt,[o(Pt,{saving:s.value,data:i.value},null,8,["saving","data"])]),i.value.bulkAdd?(d(),n("div",Xt,[e("div",es,[h(e("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":m[1]||(m[1]=x=>i.value.preshared_key_bulkAdd=x),id:"bullAdd_PresharedKey_Switch",checked:""},null,512),[[A,i.value.preshared_key_bulkAdd]]),e("label",ts,[e("small",ss,[o(p,{t:"Pre-Shared Key"}),m[4]||(m[4]=g()),i.value.preshared_key_bulkAdd?(d(),S(p,{key:0,t:"Enabled"})):(d(),S(p,{key:1,t:"Disabled"}))])])])])):y("",!0)])])])])])]),e("div",as,[e("button",{class:"ms-auto btn btn-dark btn-brand rounded-3 px-3 py-2 shadow",disabled:!B.value||s.value,onClick:m[2]||(m[2]=x=>V())},[s.value?y("",!0):(d(),n("i",os)),s.value?(d(),S(p,{key:1,t:"Adding..."})):(d(),S(p,{key:2,t:"Add"}))],8,ls)])])])])])],512))}};export{ns as default};
