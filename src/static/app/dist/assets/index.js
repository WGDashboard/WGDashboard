(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var zM={exports:{}},ri="top",Mi="bottom",Ii="right",oi="left",ef="auto",Kl=[ri,Mi,Ii,oi],aa="start",gl="end",rx="clippingParents",Ym="viewport",Ua="popper",ox="reference",Dp=Kl.reduce(function(t,e){return t.concat([e+"-"+aa,e+"-"+gl])},[]),Hm=[].concat(Kl,[ef]).reduce(function(t,e){return t.concat([e,e+"-"+aa,e+"-"+gl])},[]),ax="beforeRead",lx="read",cx="afterRead",ux="beforeMain",dx="main",hx="afterMain",fx="beforeWrite",gx="write",px="afterWrite",mx=[ax,lx,cx,ux,dx,hx,fx,gx,px];function Ns(t){return t?(t.nodeName||"").toLowerCase():null}function Di(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function la(t){var e=Di(t).Element;return t instanceof e||t instanceof Element}function Yi(t){var e=Di(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function jm(t){if(typeof ShadowRoot>"u")return!1;var e=Di(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function YM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},s=e.attributes[n]||{},r=e.elements[n];!Yi(r)||!Ns(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function HM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Yi(s)||!Ns(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}const Km={name:"applyStyles",enabled:!0,phase:"write",fn:YM,effect:HM,requires:["computeStyles"]};function Rs(t){return t.split("-")[0]}var ea=Math.max,gh=Math.min,pl=Math.round;function Rp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _x(){return!/^((?!chrome|android).)*safari/i.test(Rp())}function ml(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),s=1,r=1;e&&Yi(t)&&(s=t.offsetWidth>0&&pl(i.width)/t.offsetWidth||1,r=t.offsetHeight>0&&pl(i.height)/t.offsetHeight||1);var o=la(t)?Di(t):window,a=o.visualViewport,l=!_x()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/s,u=(i.top+(l&&a?a.offsetTop:0))/r,d=i.width/s,f=i.height/r;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Um(t){var e=ml(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function vx(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&jm(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function _r(t){return Di(t).getComputedStyle(t)}function jM(t){return["table","td","th"].indexOf(Ns(t))>=0}function fo(t){return((la(t)?t.ownerDocument:t.document)||window.document).documentElement}function tf(t){return Ns(t)==="html"?t:t.assignedSlot||t.parentNode||(jm(t)?t.host:null)||fo(t)}function Vy(t){return!Yi(t)||_r(t).position==="fixed"?null:t.offsetParent}function KM(t){var e=/firefox/i.test(Rp()),n=/Trident/i.test(Rp());if(n&&Yi(t)){var i=_r(t);if(i.position==="fixed")return null}var s=tf(t);for(jm(s)&&(s=s.host);Yi(s)&&["html","body"].indexOf(Ns(s))<0;){var r=_r(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function $u(t){for(var e=Di(t),n=Vy(t);n&&jM(n)&&_r(n).position==="static";)n=Vy(n);return n&&(Ns(n)==="html"||Ns(n)==="body"&&_r(n).position==="static")?e:n||KM(t)||e}function Gm(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Rc(t,e,n){return ea(t,gh(e,n))}function UM(t,e,n){var i=Rc(t,e,n);return i>n?n:i}function yx(){return{top:0,right:0,bottom:0,left:0}}function bx(t){return Object.assign({},yx(),t)}function wx(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var GM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,bx(typeof e!="number"?e:wx(e,Kl))};function XM(t){var e,n=t.state,i=t.name,s=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Rs(n.placement),l=Gm(a),c=[oi,Ii].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var d=GM(s.padding,n),f=Um(r),g=l==="y"?ri:oi,p=l==="y"?Mi:Ii,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],v=o[l]-n.rects.reference[l],y=$u(r),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,E=m/2-v/2,w=d[g],b=x-f[u]-d[p],C=x/2-f[u]/2+E,k=Rc(w,C,b),T=l;n.modifiersData[i]=(e={},e[T]=k,e.centerOffset=k-C,e)}}function qM(t){var e=t.state,n=t.options,i=n.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||vx(e.elements.popper,s)&&(e.elements.arrow=s))}const xx={name:"arrow",enabled:!0,phase:"main",fn:XM,effect:qM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _l(t){return t.split("-")[1]}var ZM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JM(t,e){var n=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:pl(n*s)/s||0,y:pl(i*s)/s||0}}function Wy(t){var e,n=t.popper,i=t.popperRect,s=t.placement,r=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,g=f===void 0?0:f,p=o.y,m=p===void 0?0:p,v=typeof u=="function"?u({x:g,y:m}):{x:g,y:m};g=v.x,m=v.y;var y=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),E=oi,w=ri,b=window;if(c){var C=$u(n),k="clientHeight",T="clientWidth";if(C===Di(n)&&(C=fo(n),_r(C).position!=="static"&&a==="absolute"&&(k="scrollHeight",T="scrollWidth")),C=C,s===ri||(s===oi||s===Ii)&&r===gl){w=Mi;var A=d&&C===b&&b.visualViewport?b.visualViewport.height:C[k];m-=A-i.height,m*=l?1:-1}if(s===oi||(s===ri||s===Mi)&&r===gl){E=Ii;var I=d&&C===b&&b.visualViewport?b.visualViewport.width:C[T];g-=I-i.width,g*=l?1:-1}}var V=Object.assign({position:a},c&&ZM),Y=u===!0?JM({x:g,y:m},Di(n)):{x:g,y:m};if(g=Y.x,m=Y.y,l){var ne;return Object.assign({},V,(ne={},ne[w]=x?"0":"",ne[E]=y?"0":"",ne.transform=(b.devicePixelRatio||1)<=1?"translate("+g+"px, "+m+"px)":"translate3d("+g+"px, "+m+"px, 0)",ne))}return Object.assign({},V,(e={},e[w]=x?m+"px":"",e[E]=y?g+"px":"",e.transform="",e))}function QM(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=i===void 0?!0:i,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Rs(e.placement),variation:_l(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Wy(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Wy(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Xm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QM,data:{}};var pd={passive:!0};function eI(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Di(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,pd)}),a&&l.addEventListener("resize",n.update,pd),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,pd)}),a&&l.removeEventListener("resize",n.update,pd)}}const qm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eI,data:{}};var tI={left:"right",right:"left",bottom:"top",top:"bottom"};function th(t){return t.replace(/left|right|bottom|top/g,function(e){return tI[e]})}var nI={start:"end",end:"start"};function zy(t){return t.replace(/start|end/g,function(e){return nI[e]})}function Zm(t){var e=Di(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Jm(t){return ml(fo(t)).left+Zm(t).scrollLeft}function iI(t,e){var n=Di(t),i=fo(t),s=n.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var c=_x();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Jm(t),y:l}}function sI(t){var e,n=fo(t),i=Zm(t),s=(e=t.ownerDocument)==null?void 0:e.body,r=ea(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ea(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Jm(t),l=-i.scrollTop;return _r(s||n).direction==="rtl"&&(a+=ea(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function Qm(t){var e=_r(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function Ex(t){return["html","body","#document"].indexOf(Ns(t))>=0?t.ownerDocument.body:Yi(t)&&Qm(t)?t:Ex(tf(t))}function $c(t,e){var n;e===void 0&&(e=[]);var i=Ex(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),r=Di(i),o=s?[r].concat(r.visualViewport||[],Qm(i)?i:[]):i,a=e.concat(o);return s?a:a.concat($c(tf(o)))}function $p(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rI(t,e){var n=ml(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Yy(t,e,n){return e===Ym?$p(iI(t,n)):la(e)?rI(e,n):$p(sI(fo(t)))}function oI(t){var e=$c(tf(t)),n=["absolute","fixed"].indexOf(_r(t).position)>=0,i=n&&Yi(t)?$u(t):t;return la(i)?e.filter(function(s){return la(s)&&vx(s,i)&&Ns(s)!=="body"}):[]}function aI(t,e,n,i){var s=e==="clippingParents"?oI(t):[].concat(e),r=[].concat(s,[n]),o=r[0],a=r.reduce(function(l,c){var u=Yy(t,c,i);return l.top=ea(u.top,l.top),l.right=gh(u.right,l.right),l.bottom=gh(u.bottom,l.bottom),l.left=ea(u.left,l.left),l},Yy(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Cx(t){var e=t.reference,n=t.element,i=t.placement,s=i?Rs(i):null,r=i?_l(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case ri:l={x:o,y:e.y-n.height};break;case Mi:l={x:o,y:e.y+e.height};break;case Ii:l={x:e.x+e.width,y:a};break;case oi:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?Gm(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case aa:l[c]=l[c]-(e[u]/2-n[u]/2);break;case gl:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function vl(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=i===void 0?t.placement:i,r=n.strategy,o=r===void 0?t.strategy:r,a=n.boundary,l=a===void 0?rx:a,c=n.rootBoundary,u=c===void 0?Ym:c,d=n.elementContext,f=d===void 0?Ua:d,g=n.altBoundary,p=g===void 0?!1:g,m=n.padding,v=m===void 0?0:m,y=bx(typeof v!="number"?v:wx(v,Kl)),x=f===Ua?ox:Ua,E=t.rects.popper,w=t.elements[p?x:f],b=aI(la(w)?w:w.contextElement||fo(t.elements.popper),l,u,o),C=ml(t.elements.reference),k=Cx({reference:C,element:E,strategy:"absolute",placement:s}),T=$p(Object.assign({},E,k)),A=f===Ua?T:C,I={top:b.top-A.top+y.top,bottom:A.bottom-b.bottom+y.bottom,left:b.left-A.left+y.left,right:A.right-b.right+y.right},V=t.modifiersData.offset;if(f===Ua&&V){var Y=V[s];Object.keys(I).forEach(function(ne){var N=[Ii,Mi].indexOf(ne)>=0?1:-1,B=[ri,Mi].indexOf(ne)>=0?"y":"x";I[ne]+=Y[B]*N})}return I}function lI(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Hm:l,u=_l(i),d=u?a?Dp:Dp.filter(function(p){return _l(p)===u}):Kl,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var g=f.reduce(function(p,m){return p[m]=vl(t,{placement:m,boundary:s,rootBoundary:r,padding:o})[Rs(m)],p},{});return Object.keys(g).sort(function(p,m){return g[p]-g[m]})}function cI(t){if(Rs(t)===ef)return[];var e=th(t);return[zy(t),e,zy(e)]}function uI(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,p=g===void 0?!0:g,m=n.allowedAutoPlacements,v=e.options.placement,y=Rs(v),x=y===v,E=l||(x||!p?[th(v)]:cI(v)),w=[v].concat(E).reduce(function(D,ee){return D.concat(Rs(ee)===ef?lI(e,{placement:ee,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):ee)},[]),b=e.rects.reference,C=e.rects.popper,k=new Map,T=!0,A=w[0],I=0;I<w.length;I++){var V=w[I],Y=Rs(V),ne=_l(V)===aa,N=[ri,Mi].indexOf(Y)>=0,B=N?"width":"height",R=vl(e,{placement:V,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),W=N?ne?Ii:oi:ne?Mi:ri;b[B]>C[B]&&(W=th(W));var X=th(W),J=[];if(r&&J.push(R[Y]<=0),a&&J.push(R[W]<=0,R[X]<=0),J.every(function(D){return D})){A=V,T=!1;break}k.set(V,J)}if(T)for(var H=p?3:1,ce=function(ee){var ue=w.find(function(L){var le=k.get(L);if(le)return le.slice(0,ee).every(function(de){return de})});if(ue)return A=ue,"break"},ie=H;ie>0;ie--){var te=ce(ie);if(te==="break")break}e.placement!==A&&(e.modifiersData[i]._skip=!0,e.placement=A,e.reset=!0)}}const Sx={name:"flip",enabled:!0,phase:"main",fn:uI,requiresIfExists:["offset"],data:{_skip:!1}};function Hy(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function jy(t){return[ri,Ii,Mi,oi].some(function(e){return t[e]>=0})}function dI(t){var e=t.state,n=t.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=vl(e,{elementContext:"reference"}),a=vl(e,{altBoundary:!0}),l=Hy(o,i),c=Hy(a,s,r),u=jy(l),d=jy(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const kx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dI};function hI(t,e,n){var i=Rs(t),s=[oi,ri].indexOf(i)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[oi,Ii].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function fI(t){var e=t.state,n=t.options,i=t.name,s=n.offset,r=s===void 0?[0,0]:s,o=Hm.reduce(function(u,d){return u[d]=hI(d,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const Tx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fI};function gI(t){var e=t.state,n=t.name;e.modifiersData[n]=Cx({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const e_={name:"popperOffsets",enabled:!0,phase:"read",fn:gI,data:{}};function pI(t){return t==="x"?"y":"x"}function mI(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,g=f===void 0?!0:f,p=n.tetherOffset,m=p===void 0?0:p,v=vl(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Rs(e.placement),x=_l(e.placement),E=!x,w=Gm(y),b=pI(w),C=e.modifiersData.popperOffsets,k=e.rects.reference,T=e.rects.popper,A=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,I=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Y={x:0,y:0};if(C){if(r){var ne,N=w==="y"?ri:oi,B=w==="y"?Mi:Ii,R=w==="y"?"height":"width",W=C[w],X=W+v[N],J=W-v[B],H=g?-T[R]/2:0,ce=x===aa?k[R]:T[R],ie=x===aa?-T[R]:-k[R],te=e.elements.arrow,D=g&&te?Um(te):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:yx(),ue=ee[N],L=ee[B],le=Rc(0,k[R],D[R]),de=E?k[R]/2-H-le-ue-I.mainAxis:ce-le-ue-I.mainAxis,xe=E?-k[R]/2+H+le+L+I.mainAxis:ie+le+L+I.mainAxis,z=e.elements.arrow&&$u(e.elements.arrow),fe=z?w==="y"?z.clientTop||0:z.clientLeft||0:0,S=(ne=V?.[w])!=null?ne:0,O=W+de-S-fe,K=W+xe-S,U=Rc(g?gh(X,O):X,W,g?ea(J,K):J);C[w]=U,Y[w]=U-W}if(a){var oe,j=w==="x"?ri:oi,re=w==="x"?Mi:Ii,Q=C[b],ge=b==="y"?"height":"width",be=Q+v[j],we=Q-v[re],Me=[ri,oi].indexOf(y)!==-1,De=(oe=V?.[b])!=null?oe:0,Ye=Me?be:Q-k[ge]-T[ge]-De+I.altAxis,je=Me?Q+k[ge]+T[ge]-De-I.altAxis:we,nt=g&&Me?UM(Ye,Q,je):Rc(g?Ye:be,Q,g?je:we);C[b]=nt,Y[b]=nt-Q}e.modifiersData[i]=Y}}const Ax={name:"preventOverflow",enabled:!0,phase:"main",fn:mI,requiresIfExists:["offset"]};function _I(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function vI(t){return t===Di(t)||!Yi(t)?Zm(t):_I(t)}function yI(t){var e=t.getBoundingClientRect(),n=pl(e.width)/t.offsetWidth||1,i=pl(e.height)/t.offsetHeight||1;return n!==1||i!==1}function bI(t,e,n){n===void 0&&(n=!1);var i=Yi(e),s=Yi(e)&&yI(e),r=fo(e),o=ml(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Ns(e)!=="body"||Qm(r))&&(a=vI(e)),Yi(e)?(l=ml(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Jm(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function wI(t){var e=new Map,n=new Set,i=[];t.forEach(function(r){e.set(r.name,r)});function s(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),i.push(r)}return t.forEach(function(r){n.has(r.name)||s(r)}),i}function xI(t){var e=wI(t);return mx.reduce(function(n,i){return n.concat(e.filter(function(s){return s.phase===i}))},[])}function EI(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function CI(t){var e=t.reduce(function(n,i){var s=n[i.name];return n[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ky={placement:"bottom",modifiers:[],strategy:"absolute"};function Uy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function nf(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,s=e.defaultOptions,r=s===void 0?Ky:s;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ky,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:u,setOptions:function(y){var x=typeof y=="function"?y(u.options):y;m(),u.options=Object.assign({},r,u.options,x),u.scrollParents={reference:la(a)?$c(a):a.contextElement?$c(a.contextElement):[],popper:$c(l)};var E=xI(CI([].concat(i,u.options.modifiers)));return u.orderedModifiers=E.filter(function(w){return w.enabled}),p(),g.update()},forceUpdate:function(){if(!f){var y=u.elements,x=y.reference,E=y.popper;if(Uy(x,E)){u.rects={reference:bI(x,$u(E),u.options.strategy==="fixed"),popper:Um(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var b=u.orderedModifiers[w],C=b.fn,k=b.options,T=k===void 0?{}:k,A=b.name;typeof C=="function"&&(u=C({state:u,options:T,name:A,instance:g})||u)}}}},update:EI(function(){return new Promise(function(v){g.forceUpdate(),v(u)})}),destroy:function(){m(),f=!0}};if(!Uy(a,l))return g;g.setOptions(c).then(function(v){!f&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var y=v.name,x=v.options,E=x===void 0?{}:x,w=v.effect;if(typeof w=="function"){var b=w({state:u,name:y,instance:g,options:E}),C=function(){};d.push(b||C)}})}function m(){d.forEach(function(v){return v()}),d=[]}return g}}var SI=nf(),kI=[qm,e_,Xm,Km],TI=nf({defaultModifiers:kI}),AI=[qm,e_,Xm,Km,Tx,Sx,Ax,xx,kx],PI=nf({defaultModifiers:AI});const MI=Object.freeze(Object.defineProperty({__proto__:null,afterMain:hx,afterRead:cx,afterWrite:px,applyStyles:Km,arrow:xx,auto:ef,basePlacements:Kl,beforeMain:ux,beforeRead:ax,beforeWrite:fx,bottom:Mi,clippingParents:rx,computeStyles:Xm,createPopper:PI,createPopperBase:SI,createPopperLite:TI,detectOverflow:vl,end:gl,eventListeners:qm,flip:Sx,hide:kx,left:oi,main:dx,modifierPhases:mx,offset:Tx,placements:Hm,popper:Ua,popperGenerator:nf,popperOffsets:e_,preventOverflow:Ax,read:lx,reference:ox,right:Ii,start:aa,top:ri,variationPlacements:Dp,viewport:Ym,write:gx},Symbol.toStringTag,{value:"Module"})),II=WM(MI);/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,i){t.exports=i(II)})(sx,function(n){function i(G){const _=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(G){for(const M in G)if(M!=="default"){const q=Object.getOwnPropertyDescriptor(G,M);Object.defineProperty(_,M,q.get?q:{enumerable:!0,get:()=>G[M]})}}return _.default=G,Object.freeze(_)}const s=i(n),r=new Map,o={set(G,_,M){r.has(G)||r.set(G,new Map);const q=r.get(G);if(!q.has(_)&&q.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(q.keys())[0]}.`);return}q.set(_,M)},get(G,_){return r.has(G)&&r.get(G).get(_)||null},remove(G,_){if(!r.has(G))return;const M=r.get(G);M.delete(_),M.size===0&&r.delete(G)}},a=1e6,l=1e3,c="transitionend",u=G=>(G&&window.CSS&&window.CSS.escape&&(G=G.replace(/#([^\s"#']+)/g,(_,M)=>`#${CSS.escape(M)}`)),G),d=G=>G==null?`${G}`:Object.prototype.toString.call(G).match(/\s([a-z]+)/i)[1].toLowerCase(),f=G=>{do G+=Math.floor(Math.random()*a);while(document.getElementById(G));return G},g=G=>{if(!G)return 0;let{transitionDuration:_,transitionDelay:M}=window.getComputedStyle(G);const q=Number.parseFloat(_),ye=Number.parseFloat(M);return!q&&!ye?0:(_=_.split(",")[0],M=M.split(",")[0],(Number.parseFloat(_)+Number.parseFloat(M))*l)},p=G=>{G.dispatchEvent(new Event(c))},m=G=>!G||typeof G!="object"?!1:(typeof G.jquery<"u"&&(G=G[0]),typeof G.nodeType<"u"),v=G=>m(G)?G.jquery?G[0]:G:typeof G=="string"&&G.length>0?document.querySelector(u(G)):null,y=G=>{if(!m(G)||G.getClientRects().length===0)return!1;const _=getComputedStyle(G).getPropertyValue("visibility")==="visible",M=G.closest("details:not([open])");if(!M)return _;if(M!==G){const q=G.closest("summary");if(q&&q.parentNode!==M||q===null)return!1}return _},x=G=>!G||G.nodeType!==Node.ELEMENT_NODE||G.classList.contains("disabled")?!0:typeof G.disabled<"u"?G.disabled:G.hasAttribute("disabled")&&G.getAttribute("disabled")!=="false",E=G=>{if(!document.documentElement.attachShadow)return null;if(typeof G.getRootNode=="function"){const _=G.getRootNode();return _ instanceof ShadowRoot?_:null}return G instanceof ShadowRoot?G:G.parentNode?E(G.parentNode):null},w=()=>{},b=G=>{G.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],T=G=>{document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const _ of k)_()}),k.push(G)):G()},A=()=>document.documentElement.dir==="rtl",I=G=>{T(()=>{const _=C();if(_){const M=G.NAME,q=_.fn[M];_.fn[M]=G.jQueryInterface,_.fn[M].Constructor=G,_.fn[M].noConflict=()=>(_.fn[M]=q,G.jQueryInterface)}})},V=(G,_=[],M=G)=>typeof G=="function"?G(..._):M,Y=(G,_,M=!0)=>{if(!M){V(G);return}const ye=g(_)+5;let Oe=!1;const $e=({target:rt})=>{rt===_&&(Oe=!0,_.removeEventListener(c,$e),V(G))};_.addEventListener(c,$e),setTimeout(()=>{Oe||p(_)},ye)},ne=(G,_,M,q)=>{const ye=G.length;let Oe=G.indexOf(_);return Oe===-1?!M&&q?G[ye-1]:G[0]:(Oe+=M?1:-1,q&&(Oe=(Oe+ye)%ye),G[Math.max(0,Math.min(Oe,ye-1))])},N=/[^.]*(?=\..*)\.|.*/,B=/\..*/,R=/::\d+$/,W={};let X=1;const J={mouseenter:"mouseover",mouseleave:"mouseout"},H=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ce(G,_){return _&&`${_}::${X++}`||G.uidEvent||X++}function ie(G){const _=ce(G);return G.uidEvent=_,W[_]=W[_]||{},W[_]}function te(G,_){return function M(q){return fe(q,{delegateTarget:G}),M.oneOff&&z.off(G,q.type,_),_.apply(G,[q])}}function D(G,_,M){return function q(ye){const Oe=G.querySelectorAll(_);for(let{target:$e}=ye;$e&&$e!==this;$e=$e.parentNode)for(const rt of Oe)if(rt===$e)return fe(ye,{delegateTarget:$e}),q.oneOff&&z.off(G,ye.type,_,M),M.apply($e,[ye])}}function ee(G,_,M=null){return Object.values(G).find(q=>q.callable===_&&q.delegationSelector===M)}function ue(G,_,M){const q=typeof _=="string",ye=q?M:_||M;let Oe=xe(G);return H.has(Oe)||(Oe=G),[q,ye,Oe]}function L(G,_,M,q,ye){if(typeof _!="string"||!G)return;let[Oe,$e,rt]=ue(_,M,q);_ in J&&($e=(BM=>function(Ia){if(!Ia.relatedTarget||Ia.relatedTarget!==Ia.delegateTarget&&!Ia.delegateTarget.contains(Ia.relatedTarget))return BM.call(this,Ia)})($e));const di=ie(G),Ni=di[rt]||(di[rt]={}),kn=ee(Ni,$e,Oe?M:null);if(kn){kn.oneOff=kn.oneOff&&ye;return}const vs=ce($e,_.replace(N,"")),Qi=Oe?D(G,M,$e):te(G,$e);Qi.delegationSelector=Oe?M:null,Qi.callable=$e,Qi.oneOff=ye,Qi.uidEvent=vs,Ni[vs]=Qi,G.addEventListener(rt,Qi,Oe)}function le(G,_,M,q,ye){const Oe=ee(_[M],q,ye);Oe&&(G.removeEventListener(M,Oe,!!ye),delete _[M][Oe.uidEvent])}function de(G,_,M,q){const ye=_[M]||{};for(const[Oe,$e]of Object.entries(ye))Oe.includes(q)&&le(G,_,M,$e.callable,$e.delegationSelector)}function xe(G){return G=G.replace(B,""),J[G]||G}const z={on(G,_,M,q){L(G,_,M,q,!1)},one(G,_,M,q){L(G,_,M,q,!0)},off(G,_,M,q){if(typeof _!="string"||!G)return;const[ye,Oe,$e]=ue(_,M,q),rt=$e!==_,di=ie(G),Ni=di[$e]||{},kn=_.startsWith(".");if(typeof Oe<"u"){if(!Object.keys(Ni).length)return;le(G,di,$e,Oe,ye?M:null);return}if(kn)for(const vs of Object.keys(di))de(G,di,vs,_.slice(1));for(const[vs,Qi]of Object.entries(Ni)){const gd=vs.replace(R,"");(!rt||_.includes(gd))&&le(G,di,$e,Qi.callable,Qi.delegationSelector)}},trigger(G,_,M){if(typeof _!="string"||!G)return null;const q=C(),ye=xe(_),Oe=_!==ye;let $e=null,rt=!0,di=!0,Ni=!1;Oe&&q&&($e=q.Event(_,M),q(G).trigger($e),rt=!$e.isPropagationStopped(),di=!$e.isImmediatePropagationStopped(),Ni=$e.isDefaultPrevented());const kn=fe(new Event(_,{bubbles:rt,cancelable:!0}),M);return Ni&&kn.preventDefault(),di&&G.dispatchEvent(kn),kn.defaultPrevented&&$e&&$e.preventDefault(),kn}};function fe(G,_={}){for(const[M,q]of Object.entries(_))try{G[M]=q}catch{Object.defineProperty(G,M,{configurable:!0,get(){return q}})}return G}function S(G){if(G==="true")return!0;if(G==="false")return!1;if(G===Number(G).toString())return Number(G);if(G===""||G==="null")return null;if(typeof G!="string")return G;try{return JSON.parse(decodeURIComponent(G))}catch{return G}}function O(G){return G.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const K={setDataAttribute(G,_,M){G.setAttribute(`data-bs-${O(_)}`,M)},removeDataAttribute(G,_){G.removeAttribute(`data-bs-${O(_)}`)},getDataAttributes(G){if(!G)return{};const _={},M=Object.keys(G.dataset).filter(q=>q.startsWith("bs")&&!q.startsWith("bsConfig"));for(const q of M){let ye=q.replace(/^bs/,"");ye=ye.charAt(0).toLowerCase()+ye.slice(1,ye.length),_[ye]=S(G.dataset[q])}return _},getDataAttribute(G,_){return S(G.getAttribute(`data-bs-${O(_)}`))}};class U{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,M){const q=m(M)?K.getDataAttribute(M,"config"):{};return{...this.constructor.Default,...typeof q=="object"?q:{},...m(M)?K.getDataAttributes(M):{},...typeof _=="object"?_:{}}}_typeCheckConfig(_,M=this.constructor.DefaultType){for(const[q,ye]of Object.entries(M)){const Oe=_[q],$e=m(Oe)?"element":d(Oe);if(!new RegExp(ye).test($e))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${q}" provided type "${$e}" but expected type "${ye}".`)}}}const oe="5.3.3";class j extends U{constructor(_,M){super(),_=v(_),_&&(this._element=_,this._config=this._getConfig(M),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),z.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,M,q=!0){Y(_,M,q)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return o.get(v(_),this.DATA_KEY)}static getOrCreateInstance(_,M={}){return this.getInstance(_)||new this(_,typeof M=="object"?M:null)}static get VERSION(){return oe}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const re=G=>{let _=G.getAttribute("data-bs-target");if(!_||_==="#"){let M=G.getAttribute("href");if(!M||!M.includes("#")&&!M.startsWith("."))return null;M.includes("#")&&!M.startsWith("#")&&(M=`#${M.split("#")[1]}`),_=M&&M!=="#"?M.trim():null}return _?_.split(",").map(M=>u(M)).join(","):null},Q={find(G,_=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(_,G))},findOne(G,_=document.documentElement){return Element.prototype.querySelector.call(_,G)},children(G,_){return[].concat(...G.children).filter(M=>M.matches(_))},parents(G,_){const M=[];let q=G.parentNode.closest(_);for(;q;)M.push(q),q=q.parentNode.closest(_);return M},prev(G,_){let M=G.previousElementSibling;for(;M;){if(M.matches(_))return[M];M=M.previousElementSibling}return[]},next(G,_){let M=G.nextElementSibling;for(;M;){if(M.matches(_))return[M];M=M.nextElementSibling}return[]},focusableChildren(G){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(M=>`${M}:not([tabindex^="-"])`).join(",");return this.find(_,G).filter(M=>!x(M)&&y(M))},getSelectorFromElement(G){const _=re(G);return _&&Q.findOne(_)?_:null},getElementFromSelector(G){const _=re(G);return _?Q.findOne(_):null},getMultipleElementsFromSelector(G){const _=re(G);return _?Q.find(_):[]}},ge=(G,_="hide")=>{const M=`click.dismiss${G.EVENT_KEY}`,q=G.NAME;z.on(document,M,`[data-bs-dismiss="${q}"]`,function(ye){if(["A","AREA"].includes(this.tagName)&&ye.preventDefault(),x(this))return;const Oe=Q.getElementFromSelector(this)||this.closest(`.${q}`);G.getOrCreateInstance(Oe)[_]()})},be="alert",Me=".bs.alert",De=`close${Me}`,Ye=`closed${Me}`,je="fade",nt="show";class et extends j{static get NAME(){return be}close(){if(z.trigger(this._element,De).defaultPrevented)return;this._element.classList.remove(nt);const M=this._element.classList.contains(je);this._queueCallback(()=>this._destroyElement(),this._element,M)}_destroyElement(){this._element.remove(),z.trigger(this._element,Ye),this.dispose()}static jQueryInterface(_){return this.each(function(){const M=et.getOrCreateInstance(this);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_](this)}})}}ge(et,"close"),I(et);const Jt="button",gn=".bs.button",Gt=".data-api",Ci="active",qi='[data-bs-toggle="button"]',Qt=`click${gn}${Gt}`;class ae extends j{static get NAME(){return Jt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Ci))}static jQueryInterface(_){return this.each(function(){const M=ae.getOrCreateInstance(this);_==="toggle"&&M[_]()})}}z.on(document,Qt,qi,G=>{G.preventDefault();const _=G.target.closest(qi);ae.getOrCreateInstance(_).toggle()}),I(ae);const Te="swipe",he=".bs.swipe",Ae=`touchstart${he}`,Ne=`touchmove${he}`,Xt=`touchend${he}`,pn=`pointerdown${he}`,$i=`pointerup${he}`,zs="touch",mn="pen",Cn="pointer-event",Sn=40,li={endCallback:null,leftCallback:null,rightCallback:null},ci={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ui extends U{constructor(_,M){super(),this._element=_,!(!_||!ui.isSupported())&&(this._config=this._getConfig(M),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return li}static get DefaultType(){return ci}static get NAME(){return Te}dispose(){z.off(this._element,he)}_start(_){if(!this._supportPointerEvents){this._deltaX=_.touches[0].clientX;return}this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX)}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),V(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=Sn)return;const M=_/this._deltaX;this._deltaX=0,M&&V(M>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(z.on(this._element,pn,_=>this._start(_)),z.on(this._element,$i,_=>this._end(_)),this._element.classList.add(Cn)):(z.on(this._element,Ae,_=>this._start(_)),z.on(this._element,Ne,_=>this._move(_)),z.on(this._element,Xt,_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&(_.pointerType===mn||_.pointerType===zs)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Zi="carousel",zt=".bs.carousel",Li=".data-api",ig="ArrowLeft",EA="ArrowRight",CA=500,ec="next",Ca="prev",Sa="left",sd="right",SA=`slide${zt}`,sg=`slid${zt}`,kA=`keydown${zt}`,TA=`mouseenter${zt}`,AA=`mouseleave${zt}`,PA=`dragstart${zt}`,MA=`load${zt}${Li}`,IA=`click${zt}${Li}`,ey="carousel",rd="active",DA="slide",RA="carousel-item-end",$A="carousel-item-start",LA="carousel-item-next",OA="carousel-item-prev",ty=".active",ny=".carousel-item",NA=ty+ny,FA=".carousel-item img",BA=".carousel-indicators",VA="[data-bs-slide], [data-bs-slide-to]",WA='[data-bs-ride="carousel"]',zA={[ig]:sd,[EA]:Sa},YA={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},HA={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ka extends j{constructor(_,M){super(_,M),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(BA,this._element),this._addEventListeners(),this._config.ride===ey&&this.cycle()}static get Default(){return YA}static get DefaultType(){return HA}static get NAME(){return Zi}next(){this._slide(ec)}nextWhenVisible(){!document.hidden&&y(this._element)&&this.next()}prev(){this._slide(Ca)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){z.one(this._element,sg,()=>this.cycle());return}this.cycle()}}to(_){const M=this._getItems();if(_>M.length-1||_<0)return;if(this._isSliding){z.one(this._element,sg,()=>this.to(_));return}const q=this._getItemIndex(this._getActive());if(q===_)return;const ye=_>q?ec:Ca;this._slide(ye,M[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&z.on(this._element,kA,_=>this._keydown(_)),this._config.pause==="hover"&&(z.on(this._element,TA,()=>this.pause()),z.on(this._element,AA,()=>this._maybeEnableCycle())),this._config.touch&&ui.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const q of Q.find(FA,this._element))z.on(q,PA,ye=>ye.preventDefault());const M={leftCallback:()=>this._slide(this._directionToOrder(Sa)),rightCallback:()=>this._slide(this._directionToOrder(sd)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),CA+this._config.interval))}};this._swipeHelper=new ui(this._element,M)}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const M=zA[_.key];M&&(_.preventDefault(),this._slide(this._directionToOrder(M)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const M=Q.findOne(ty,this._indicatorsElement);M.classList.remove(rd),M.removeAttribute("aria-current");const q=Q.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);q&&(q.classList.add(rd),q.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const M=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=M||this._config.defaultInterval}_slide(_,M=null){if(this._isSliding)return;const q=this._getActive(),ye=_===ec,Oe=M||ne(this._getItems(),q,ye,this._config.wrap);if(Oe===q)return;const $e=this._getItemIndex(Oe),rt=gd=>z.trigger(this._element,gd,{relatedTarget:Oe,direction:this._orderToDirection(_),from:this._getItemIndex(q),to:$e});if(rt(SA).defaultPrevented||!q||!Oe)return;const Ni=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement($e),this._activeElement=Oe;const kn=ye?$A:RA,vs=ye?LA:OA;Oe.classList.add(vs),b(Oe),q.classList.add(kn),Oe.classList.add(kn);const Qi=()=>{Oe.classList.remove(kn,vs),Oe.classList.add(rd),q.classList.remove(rd,vs,kn),this._isSliding=!1,rt(sg)};this._queueCallback(Qi,q,this._isAnimated()),Ni&&this.cycle()}_isAnimated(){return this._element.classList.contains(DA)}_getActive(){return Q.findOne(NA,this._element)}_getItems(){return Q.find(ny,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return A()?_===Sa?Ca:ec:_===Sa?ec:Ca}_orderToDirection(_){return A()?_===Ca?Sa:sd:_===Ca?sd:Sa}static jQueryInterface(_){return this.each(function(){const M=ka.getOrCreateInstance(this,_);if(typeof _=="number"){M.to(_);return}if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_]()}})}}z.on(document,IA,VA,function(G){const _=Q.getElementFromSelector(this);if(!_||!_.classList.contains(ey))return;G.preventDefault();const M=ka.getOrCreateInstance(_),q=this.getAttribute("data-bs-slide-to");if(q){M.to(q),M._maybeEnableCycle();return}if(K.getDataAttribute(this,"slide")==="next"){M.next(),M._maybeEnableCycle();return}M.prev(),M._maybeEnableCycle()}),z.on(window,MA,()=>{const G=Q.find(WA);for(const _ of G)ka.getOrCreateInstance(_)}),I(ka);const jA="collapse",tc=".bs.collapse",KA=".data-api",UA=`show${tc}`,GA=`shown${tc}`,XA=`hide${tc}`,qA=`hidden${tc}`,ZA=`click${tc}${KA}`,rg="show",Ta="collapse",od="collapsing",JA="collapsed",QA=`:scope .${Ta} .${Ta}`,e2="collapse-horizontal",t2="width",n2="height",i2=".collapse.show, .collapse.collapsing",og='[data-bs-toggle="collapse"]',s2={parent:null,toggle:!0},r2={parent:"(null|element)",toggle:"boolean"};class Aa extends j{constructor(_,M){super(_,M),this._isTransitioning=!1,this._triggerArray=[];const q=Q.find(og);for(const ye of q){const Oe=Q.getSelectorFromElement(ye),$e=Q.find(Oe).filter(rt=>rt===this._element);Oe!==null&&$e.length&&this._triggerArray.push(ye)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return s2}static get DefaultType(){return r2}static get NAME(){return jA}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(i2).filter(rt=>rt!==this._element).map(rt=>Aa.getOrCreateInstance(rt,{toggle:!1}))),_.length&&_[0]._isTransitioning||z.trigger(this._element,UA).defaultPrevented)return;for(const rt of _)rt.hide();const q=this._getDimension();this._element.classList.remove(Ta),this._element.classList.add(od),this._element.style[q]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ye=()=>{this._isTransitioning=!1,this._element.classList.remove(od),this._element.classList.add(Ta,rg),this._element.style[q]="",z.trigger(this._element,GA)},$e=`scroll${q[0].toUpperCase()+q.slice(1)}`;this._queueCallback(ye,this._element,!0),this._element.style[q]=`${this._element[$e]}px`}hide(){if(this._isTransitioning||!this._isShown()||z.trigger(this._element,XA).defaultPrevented)return;const M=this._getDimension();this._element.style[M]=`${this._element.getBoundingClientRect()[M]}px`,b(this._element),this._element.classList.add(od),this._element.classList.remove(Ta,rg);for(const ye of this._triggerArray){const Oe=Q.getElementFromSelector(ye);Oe&&!this._isShown(Oe)&&this._addAriaAndCollapsedClass([ye],!1)}this._isTransitioning=!0;const q=()=>{this._isTransitioning=!1,this._element.classList.remove(od),this._element.classList.add(Ta),z.trigger(this._element,qA)};this._element.style[M]="",this._queueCallback(q,this._element,!0)}_isShown(_=this._element){return _.classList.contains(rg)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=v(_.parent),_}_getDimension(){return this._element.classList.contains(e2)?t2:n2}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(og);for(const M of _){const q=Q.getElementFromSelector(M);q&&this._addAriaAndCollapsedClass([M],this._isShown(q))}}_getFirstLevelChildren(_){const M=Q.find(QA,this._config.parent);return Q.find(_,this._config.parent).filter(q=>!M.includes(q))}_addAriaAndCollapsedClass(_,M){if(_.length)for(const q of _)q.classList.toggle(JA,!M),q.setAttribute("aria-expanded",M)}static jQueryInterface(_){const M={};return typeof _=="string"&&/show|hide/.test(_)&&(M.toggle=!1),this.each(function(){const q=Aa.getOrCreateInstance(this,M);if(typeof _=="string"){if(typeof q[_]>"u")throw new TypeError(`No method named "${_}"`);q[_]()}})}}z.on(document,ZA,og,function(G){(G.target.tagName==="A"||G.delegateTarget&&G.delegateTarget.tagName==="A")&&G.preventDefault();for(const _ of Q.getMultipleElementsFromSelector(this))Aa.getOrCreateInstance(_,{toggle:!1}).toggle()}),I(Aa);const iy="dropdown",ko=".bs.dropdown",ag=".data-api",o2="Escape",sy="Tab",a2="ArrowUp",ry="ArrowDown",l2=2,c2=`hide${ko}`,u2=`hidden${ko}`,d2=`show${ko}`,h2=`shown${ko}`,oy=`click${ko}${ag}`,ay=`keydown${ko}${ag}`,f2=`keyup${ko}${ag}`,Pa="show",g2="dropup",p2="dropend",m2="dropstart",_2="dropup-center",v2="dropdown-center",To='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',y2=`${To}.${Pa}`,ad=".dropdown-menu",b2=".navbar",w2=".navbar-nav",x2=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",E2=A()?"top-end":"top-start",C2=A()?"top-start":"top-end",S2=A()?"bottom-end":"bottom-start",k2=A()?"bottom-start":"bottom-end",T2=A()?"left-start":"right-start",A2=A()?"right-start":"left-start",P2="top",M2="bottom",I2={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},D2={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ji extends j{constructor(_,M){super(_,M),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,ad)[0]||Q.prev(this._element,ad)[0]||Q.findOne(ad,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return I2}static get DefaultType(){return D2}static get NAME(){return iy}toggle(){return this._isShown()?this.hide():this.show()}show(){if(x(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!z.trigger(this._element,d2,_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(w2))for(const q of[].concat(...document.body.children))z.on(q,"mouseover",w);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pa),this._element.classList.add(Pa),z.trigger(this._element,h2,_)}}hide(){if(x(this._element)||!this._isShown())return;const _={relatedTarget:this._element};this._completeHide(_)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!z.trigger(this._element,c2,_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const q of[].concat(...document.body.children))z.off(q,"mouseover",w);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pa),this._element.classList.remove(Pa),this._element.setAttribute("aria-expanded","false"),K.removeDataAttribute(this._menu,"popper"),z.trigger(this._element,u2,_)}}_getConfig(_){if(_=super._getConfig(_),typeof _.reference=="object"&&!m(_.reference)&&typeof _.reference.getBoundingClientRect!="function")throw new TypeError(`${iy.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(typeof s>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=this._parent:m(this._config.reference)?_=v(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const M=this._getPopperConfig();this._popper=s.createPopper(_,this._menu,M)}_isShown(){return this._menu.classList.contains(Pa)}_getPlacement(){const _=this._parent;if(_.classList.contains(p2))return T2;if(_.classList.contains(m2))return A2;if(_.classList.contains(_2))return P2;if(_.classList.contains(v2))return M2;const M=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return _.classList.contains(g2)?M?C2:E2:M?k2:S2}_detectNavbar(){return this._element.closest(b2)!==null}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(M=>Number.parseInt(M,10)):typeof _=="function"?M=>_(M,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(K.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,...V(this._config.popperConfig,[_])}}_selectMenuItem({key:_,target:M}){const q=Q.find(x2,this._menu).filter(ye=>y(ye));q.length&&ne(q,M,_===ry,!q.includes(M)).focus()}static jQueryInterface(_){return this.each(function(){const M=Ji.getOrCreateInstance(this,_);if(typeof _=="string"){if(typeof M[_]>"u")throw new TypeError(`No method named "${_}"`);M[_]()}})}static clearMenus(_){if(_.button===l2||_.type==="keyup"&&_.key!==sy)return;const M=Q.find(y2);for(const q of M){const ye=Ji.getInstance(q);if(!ye||ye._config.autoClose===!1)continue;const Oe=_.composedPath(),$e=Oe.includes(ye._menu);if(Oe.includes(ye._element)||ye._config.autoClose==="inside"&&!$e||ye._config.autoClose==="outside"&&$e||ye._menu.contains(_.target)&&(_.type==="keyup"&&_.key===sy||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const rt={relatedTarget:ye._element};_.type==="click"&&(rt.clickEvent=_),ye._completeHide(rt)}}static dataApiKeydownHandler(_){const M=/input|textarea/i.test(_.target.tagName),q=_.key===o2,ye=[a2,ry].includes(_.key);if(!ye&&!q||M&&!q)return;_.preventDefault();const Oe=this.matches(To)?this:Q.prev(this,To)[0]||Q.next(this,To)[0]||Q.findOne(To,_.delegateTarget.parentNode),$e=Ji.getOrCreateInstance(Oe);if(ye){_.stopPropagation(),$e.show(),$e._selectMenuItem(_);return}$e._isShown()&&(_.stopPropagation(),$e.hide(),Oe.focus())}}z.on(document,ay,To,Ji.dataApiKeydownHandler),z.on(document,ay,ad,Ji.dataApiKeydownHandler),z.on(document,oy,Ji.clearMenus),z.on(document,f2,Ji.clearMenus),z.on(document,oy,To,function(G){G.preventDefault(),Ji.getOrCreateInstance(this).toggle()}),I(Ji);const ly="backdrop",R2="fade",cy="show",uy=`mousedown.bs.${ly}`,$2={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},L2={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class dy extends U{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return $2}static get DefaultType(){return L2}static get NAME(){return ly}show(_){if(!this._config.isVisible){V(_);return}this._append();const M=this._getElement();this._config.isAnimated&&b(M),M.classList.add(cy),this._emulateAnimation(()=>{V(_)})}hide(_){if(!this._config.isVisible){V(_);return}this._getElement().classList.remove(cy),this._emulateAnimation(()=>{this.dispose(),V(_)})}dispose(){this._isAppended&&(z.off(this._element,uy),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add(R2),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=v(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),z.on(_,uy,()=>{V(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){Y(_,this._getElement(),this._config.isAnimated)}}const O2="focustrap",ld=".bs.focustrap",N2=`focusin${ld}`,F2=`keydown.tab${ld}`,B2="Tab",V2="forward",hy="backward",W2={autofocus:!0,trapElement:null},z2={autofocus:"boolean",trapElement:"element"};class fy extends U{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return W2}static get DefaultType(){return z2}static get NAME(){return O2}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),z.off(document,ld),z.on(document,N2,_=>this._handleFocusin(_)),z.on(document,F2,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,z.off(document,ld))}_handleFocusin(_){const{trapElement:M}=this._config;if(_.target===document||_.target===M||M.contains(_.target))return;const q=Q.focusableChildren(M);q.length===0?M.focus():this._lastTabNavDirection===hy?q[q.length-1].focus():q[0].focus()}_handleKeydown(_){_.key===B2&&(this._lastTabNavDirection=_.shiftKey?hy:V2)}}const gy=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",py=".sticky-top",cd="padding-right",my="margin-right";class lg{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,cd,M=>M+_),this._setElementAttributes(gy,cd,M=>M+_),this._setElementAttributes(py,my,M=>M-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,cd),this._resetElementAttributes(gy,cd),this._resetElementAttributes(py,my)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,M,q){const ye=this.getWidth(),Oe=$e=>{if($e!==this._element&&window.innerWidth>$e.clientWidth+ye)return;this._saveInitialAttribute($e,M);const rt=window.getComputedStyle($e).getPropertyValue(M);$e.style.setProperty(M,`${q(Number.parseFloat(rt))}px`)};this._applyManipulationCallback(_,Oe)}_saveInitialAttribute(_,M){const q=_.style.getPropertyValue(M);q&&K.setDataAttribute(_,M,q)}_resetElementAttributes(_,M){const q=ye=>{const Oe=K.getDataAttribute(ye,M);if(Oe===null){ye.style.removeProperty(M);return}K.removeDataAttribute(ye,M),ye.style.setProperty(M,Oe)};this._applyManipulationCallback(_,q)}_applyManipulationCallback(_,M){if(m(_)){M(_);return}for(const q of Q.find(_,this._element))M(q)}}const Y2="modal",Oi=".bs.modal",H2=".data-api",j2="Escape",K2=`hide${Oi}`,U2=`hidePrevented${Oi}`,_y=`hidden${Oi}`,vy=`show${Oi}`,G2=`shown${Oi}`,X2=`resize${Oi}`,q2=`click.dismiss${Oi}`,Z2=`mousedown.dismiss${Oi}`,J2=`keydown.dismiss${Oi}`,Q2=`click${Oi}${H2}`,yy="modal-open",eP="fade",by="show",cg="modal-static",tP=".modal.show",nP=".modal-dialog",iP=".modal-body",sP='[data-bs-toggle="modal"]',rP={backdrop:!0,focus:!0,keyboard:!0},oP={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ao extends j{constructor(_,M){super(_,M),this._dialog=Q.findOne(nP,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new lg,this._addEventListeners()}static get Default(){return rP}static get DefaultType(){return oP}static get NAME(){return Y2}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||z.trigger(this._element,vy,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(yy),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){!this._isShown||this._isTransitioning||z.trigger(this._element,K2).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(by),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){z.off(window,Oi),z.off(this._dialog,Oi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new dy({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new fy({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const M=Q.findOne(iP,this._dialog);M&&(M.scrollTop=0),b(this._element),this._element.classList.add(by);const q=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,z.trigger(this._element,G2,{relatedTarget:_})};this._queueCallback(q,this._dialog,this._isAnimated())}_addEventListeners(){z.on(this._element,J2,_=>{if(_.key===j2){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),z.on(window,X2,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),z.on(this._element,Z2,_=>{z.one(this._element,q2,M=>{if(!(this._element!==_.target||this._element!==M.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yy),this._resetAdjustments(),this._scrollBar.reset(),z.trigger(this._element,_y)})}_isAnimated(){return this._element.classList.contains(eP)}_triggerBackdropTransition(){if(z.trigger(this._element,U2).defaultPrevented)return;const M=this._element.scrollHeight>document.documentElement.clientHeight,q=this._element.style.overflowY;q==="hidden"||this._element.classList.contains(cg)||(M||(this._element.style.overflowY="hidden"),this._element.classList.add(cg),this._queueCallback(()=>{this._element.classList.remove(cg),this._queueCallback(()=>{this._element.style.overflowY=q},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),q=M>0;if(q&&!_){const ye=A()?"paddingLeft":"paddingRight";this._element.style[ye]=`${M}px`}if(!q&&_){const ye=A()?"paddingRight":"paddingLeft";this._element.style[ye]=`${M}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,M){return this.each(function(){const q=Ao.getOrCreateInstance(this,_);if(typeof _=="string"){if(typeof q[_]>"u")throw new TypeError(`No method named "${_}"`);q[_](M)}})}}z.on(document,Q2,sP,function(G){const _=Q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&G.preventDefault(),z.one(_,vy,ye=>{ye.defaultPrevented||z.one(_,_y,()=>{y(this)&&this.focus()})});const M=Q.findOne(tP);M&&Ao.getInstance(M).hide(),Ao.getOrCreateInstance(_).toggle(this)}),ge(Ao),I(Ao);const aP="offcanvas",Ys=".bs.offcanvas",wy=".data-api",lP=`load${Ys}${wy}`,cP="Escape",xy="show",Ey="showing",Cy="hiding",uP="offcanvas-backdrop",Sy=".offcanvas.show",dP=`show${Ys}`,hP=`shown${Ys}`,fP=`hide${Ys}`,ky=`hidePrevented${Ys}`,Ty=`hidden${Ys}`,gP=`resize${Ys}`,pP=`click${Ys}${wy}`,mP=`keydown.dismiss${Ys}`,_P='[data-bs-toggle="offcanvas"]',vP={backdrop:!0,keyboard:!0,scroll:!1},yP={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Hs extends j{constructor(_,M){super(_,M),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vP}static get DefaultType(){return yP}static get NAME(){return aP}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){if(this._isShown||z.trigger(this._element,dP,{relatedTarget:_}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new lg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ey);const q=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(xy),this._element.classList.remove(Ey),z.trigger(this._element,hP,{relatedTarget:_})};this._queueCallback(q,this._element,!0)}hide(){if(!this._isShown||z.trigger(this._element,fP).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Cy),this._backdrop.hide();const M=()=>{this._element.classList.remove(xy,Cy),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new lg().reset(),z.trigger(this._element,Ty)};this._queueCallback(M,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=()=>{if(this._config.backdrop==="static"){z.trigger(this._element,ky);return}this.hide()},M=!!this._config.backdrop;return new dy({className:uP,isVisible:M,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:M?_:null})}_initializeFocusTrap(){return new fy({trapElement:this._element})}_addEventListeners(){z.on(this._element,mP,_=>{if(_.key===cP){if(this._config.keyboard){this.hide();return}z.trigger(this._element,ky)}})}static jQueryInterface(_){return this.each(function(){const M=Hs.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_](this)}})}}z.on(document,pP,_P,function(G){const _=Q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&G.preventDefault(),x(this))return;z.one(_,Ty,()=>{y(this)&&this.focus()});const M=Q.findOne(Sy);M&&M!==_&&Hs.getInstance(M).hide(),Hs.getOrCreateInstance(_).toggle(this)}),z.on(window,lP,()=>{for(const G of Q.find(Sy))Hs.getOrCreateInstance(G).show()}),z.on(window,gP,()=>{for(const G of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(G).position!=="fixed"&&Hs.getOrCreateInstance(G).hide()}),ge(Hs),I(Hs);const Ay={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},bP=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xP=(G,_)=>{const M=G.nodeName.toLowerCase();return _.includes(M)?bP.has(M)?!!wP.test(G.nodeValue):!0:_.filter(q=>q instanceof RegExp).some(q=>q.test(M))};function EP(G,_,M){if(!G.length)return G;if(M&&typeof M=="function")return M(G);const ye=new window.DOMParser().parseFromString(G,"text/html"),Oe=[].concat(...ye.body.querySelectorAll("*"));for(const $e of Oe){const rt=$e.nodeName.toLowerCase();if(!Object.keys(_).includes(rt)){$e.remove();continue}const di=[].concat(...$e.attributes),Ni=[].concat(_["*"]||[],_[rt]||[]);for(const kn of di)xP(kn,Ni)||$e.removeAttribute(kn.nodeName)}return ye.body.innerHTML}const CP="TemplateFactory",SP={allowList:Ay,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},kP={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},TP={entry:"(string|element|function|null)",selector:"(string|element)"};class AP extends U{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return SP}static get DefaultType(){return kP}static get NAME(){return CP}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[ye,Oe]of Object.entries(this._config.content))this._setContent(_,Oe,ye);const M=_.children[0],q=this._resolvePossibleFunction(this._config.extraClass);return q&&M.classList.add(...q.split(" ")),M}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[M,q]of Object.entries(_))super._typeCheckConfig({selector:M,entry:q},TP)}_setContent(_,M,q){const ye=Q.findOne(q,_);if(ye){if(M=this._resolvePossibleFunction(M),!M){ye.remove();return}if(m(M)){this._putElementInTemplate(v(M),ye);return}if(this._config.html){ye.innerHTML=this._maybeSanitize(M);return}ye.textContent=M}}_maybeSanitize(_){return this._config.sanitize?EP(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return V(_,[this])}_putElementInTemplate(_,M){if(this._config.html){M.innerHTML="",M.append(_);return}M.textContent=_.textContent}}const PP="tooltip",MP=new Set(["sanitize","allowList","sanitizeFn"]),ug="fade",IP="modal",ud="show",DP=".tooltip-inner",Py=`.${IP}`,My="hide.bs.modal",nc="hover",dg="focus",RP="click",$P="manual",LP="hide",OP="hidden",NP="show",FP="shown",BP="inserted",VP="click",WP="focusin",zP="focusout",YP="mouseenter",HP="mouseleave",jP={AUTO:"auto",TOP:"top",RIGHT:A()?"left":"right",BOTTOM:"bottom",LEFT:A()?"right":"left"},KP={allowList:Ay,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},UP={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Po extends j{constructor(_,M){if(typeof s>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(_,M),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return KP}static get DefaultType(){return UP}static get NAME(){return PP}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),z.off(this._element.closest(Py),My,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const _=z.trigger(this._element,this.constructor.eventName(NP)),q=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!q)return;this._disposePopper();const ye=this._getTipElement();this._element.setAttribute("aria-describedby",ye.getAttribute("id"));const{container:Oe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Oe.append(ye),z.trigger(this._element,this.constructor.eventName(BP))),this._popper=this._createPopper(ye),ye.classList.add(ud),"ontouchstart"in document.documentElement)for(const rt of[].concat(...document.body.children))z.on(rt,"mouseover",w);const $e=()=>{z.trigger(this._element,this.constructor.eventName(FP)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback($e,this.tip,this._isAnimated())}hide(){if(!this._isShown()||z.trigger(this._element,this.constructor.eventName(LP)).defaultPrevented)return;if(this._getTipElement().classList.remove(ud),"ontouchstart"in document.documentElement)for(const ye of[].concat(...document.body.children))z.off(ye,"mouseover",w);this._activeTrigger[RP]=!1,this._activeTrigger[dg]=!1,this._activeTrigger[nc]=!1,this._isHovered=null;const q=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),z.trigger(this._element,this.constructor.eventName(OP)))};this._queueCallback(q,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const M=this._getTemplateFactory(_).toHtml();if(!M)return null;M.classList.remove(ug,ud),M.classList.add(`bs-${this.constructor.NAME}-auto`);const q=f(this.constructor.NAME).toString();return M.setAttribute("id",q),this._isAnimated()&&M.classList.add(ug),M}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new AP({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[DP]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ug)}_isShown(){return this.tip&&this.tip.classList.contains(ud)}_createPopper(_){const M=V(this._config.placement,[this,_,this._element]),q=jP[M.toUpperCase()];return s.createPopper(this._element,_,this._getPopperConfig(q))}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(M=>Number.parseInt(M,10)):typeof _=="function"?M=>_(M,this._element):_}_resolvePossibleFunction(_){return V(_,[this._element])}_getPopperConfig(_){const M={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:q=>{this._getTipElement().setAttribute("data-popper-placement",q.state.placement)}}]};return{...M,...V(this._config.popperConfig,[M])}}_setListeners(){const _=this._config.trigger.split(" ");for(const M of _)if(M==="click")z.on(this._element,this.constructor.eventName(VP),this._config.selector,q=>{this._initializeOnDelegatedTarget(q).toggle()});else if(M!==$P){const q=M===nc?this.constructor.eventName(YP):this.constructor.eventName(WP),ye=M===nc?this.constructor.eventName(HP):this.constructor.eventName(zP);z.on(this._element,q,this._config.selector,Oe=>{const $e=this._initializeOnDelegatedTarget(Oe);$e._activeTrigger[Oe.type==="focusin"?dg:nc]=!0,$e._enter()}),z.on(this._element,ye,this._config.selector,Oe=>{const $e=this._initializeOnDelegatedTarget(Oe);$e._activeTrigger[Oe.type==="focusout"?dg:nc]=$e._element.contains(Oe.relatedTarget),$e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},z.on(this._element.closest(Py),My,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,M){clearTimeout(this._timeout),this._timeout=setTimeout(_,M)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const M=K.getDataAttributes(this._element);for(const q of Object.keys(M))MP.has(q)&&delete M[q];return _={...M,...typeof _=="object"&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=_.container===!1?document.body:v(_.container),typeof _.delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const[M,q]of Object.entries(this._config))this.constructor.Default[M]!==q&&(_[M]=q);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(_){return this.each(function(){const M=Po.getOrCreateInstance(this,_);if(typeof _=="string"){if(typeof M[_]>"u")throw new TypeError(`No method named "${_}"`);M[_]()}})}}I(Po);const GP="popover",XP=".popover-header",qP=".popover-body",ZP={...Po.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},JP={...Po.DefaultType,content:"(null|string|element|function)"};class dd extends Po{static get Default(){return ZP}static get DefaultType(){return JP}static get NAME(){return GP}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[XP]:this._getTitle(),[qP]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const M=dd.getOrCreateInstance(this,_);if(typeof _=="string"){if(typeof M[_]>"u")throw new TypeError(`No method named "${_}"`);M[_]()}})}}I(dd);const QP="scrollspy",hg=".bs.scrollspy",eM=".data-api",tM=`activate${hg}`,Iy=`click${hg}`,nM=`load${hg}${eM}`,iM="dropdown-item",Ma="active",sM='[data-bs-spy="scroll"]',fg="[href]",rM=".nav, .list-group",Dy=".nav-link",oM=`${Dy}, .nav-item > ${Dy}, .list-group-item`,aM=".dropdown",lM=".dropdown-toggle",cM={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},uM={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ic extends j{constructor(_,M){super(_,M),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cM}static get DefaultType(){return uM}static get NAME(){return QP}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=v(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,typeof _.threshold=="string"&&(_.threshold=_.threshold.split(",").map(M=>Number.parseFloat(M))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(z.off(this._config.target,Iy),z.on(this._config.target,Iy,fg,_=>{const M=this._observableSections.get(_.target.hash);if(M){_.preventDefault();const q=this._rootElement||window,ye=M.offsetTop-this._element.offsetTop;if(q.scrollTo){q.scrollTo({top:ye,behavior:"smooth"});return}q.scrollTop=ye}}))}_getNewObserver(){const _={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(M=>this._observerCallback(M),_)}_observerCallback(_){const M=$e=>this._targetLinks.get(`#${$e.target.id}`),q=$e=>{this._previousScrollData.visibleEntryTop=$e.target.offsetTop,this._process(M($e))},ye=(this._rootElement||document.documentElement).scrollTop,Oe=ye>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ye;for(const $e of _){if(!$e.isIntersecting){this._activeTarget=null,this._clearActiveClass(M($e));continue}const rt=$e.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Oe&&rt){if(q($e),!ye)return;continue}!Oe&&!rt&&q($e)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=Q.find(fg,this._config.target);for(const M of _){if(!M.hash||x(M))continue;const q=Q.findOne(decodeURI(M.hash),this._element);y(q)&&(this._targetLinks.set(decodeURI(M.hash),M),this._observableSections.set(M.hash,q))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(Ma),this._activateParents(_),z.trigger(this._element,tM,{relatedTarget:_}))}_activateParents(_){if(_.classList.contains(iM)){Q.findOne(lM,_.closest(aM)).classList.add(Ma);return}for(const M of Q.parents(_,rM))for(const q of Q.prev(M,oM))q.classList.add(Ma)}_clearActiveClass(_){_.classList.remove(Ma);const M=Q.find(`${fg}.${Ma}`,_);for(const q of M)q.classList.remove(Ma)}static jQueryInterface(_){return this.each(function(){const M=ic.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_]()}})}}z.on(window,nM,()=>{for(const G of Q.find(sM))ic.getOrCreateInstance(G)}),I(ic);const dM="tab",Mo=".bs.tab",hM=`hide${Mo}`,fM=`hidden${Mo}`,gM=`show${Mo}`,pM=`shown${Mo}`,mM=`click${Mo}`,_M=`keydown${Mo}`,vM=`load${Mo}`,yM="ArrowLeft",Ry="ArrowRight",bM="ArrowUp",$y="ArrowDown",gg="Home",Ly="End",Io="active",Oy="fade",pg="show",wM="dropdown",Ny=".dropdown-toggle",xM=".dropdown-menu",mg=`:not(${Ny})`,EM='.list-group, .nav, [role="tablist"]',CM=".nav-item, .list-group-item",SM=`.nav-link${mg}, .list-group-item${mg}, [role="tab"]${mg}`,Fy='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',_g=`${SM}, ${Fy}`,kM=`.${Io}[data-bs-toggle="tab"], .${Io}[data-bs-toggle="pill"], .${Io}[data-bs-toggle="list"]`;class Do extends j{constructor(_){super(_),this._parent=this._element.closest(EM),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),z.on(this._element,_M,M=>this._keydown(M)))}static get NAME(){return dM}show(){const _=this._element;if(this._elemIsActive(_))return;const M=this._getActiveElem(),q=M?z.trigger(M,hM,{relatedTarget:_}):null;z.trigger(_,gM,{relatedTarget:M}).defaultPrevented||q&&q.defaultPrevented||(this._deactivate(M,_),this._activate(_,M))}_activate(_,M){if(!_)return;_.classList.add(Io),this._activate(Q.getElementFromSelector(_));const q=()=>{if(_.getAttribute("role")!=="tab"){_.classList.add(pg);return}_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),z.trigger(_,pM,{relatedTarget:M})};this._queueCallback(q,_,_.classList.contains(Oy))}_deactivate(_,M){if(!_)return;_.classList.remove(Io),_.blur(),this._deactivate(Q.getElementFromSelector(_));const q=()=>{if(_.getAttribute("role")!=="tab"){_.classList.remove(pg);return}_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),z.trigger(_,fM,{relatedTarget:M})};this._queueCallback(q,_,_.classList.contains(Oy))}_keydown(_){if(![yM,Ry,bM,$y,gg,Ly].includes(_.key))return;_.stopPropagation(),_.preventDefault();const M=this._getChildren().filter(ye=>!x(ye));let q;if([gg,Ly].includes(_.key))q=M[_.key===gg?0:M.length-1];else{const ye=[Ry,$y].includes(_.key);q=ne(M,_.target,ye,!0)}q&&(q.focus({preventScroll:!0}),Do.getOrCreateInstance(q).show())}_getChildren(){return Q.find(_g,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,M){this._setAttributeIfNotExists(_,"role","tablist");for(const q of M)this._setInitialAttributesOnChild(q)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const M=this._elemIsActive(_),q=this._getOuterElement(_);_.setAttribute("aria-selected",M),q!==_&&this._setAttributeIfNotExists(q,"role","presentation"),M||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const M=Q.getElementFromSelector(_);M&&(this._setAttributeIfNotExists(M,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(M,"aria-labelledby",`${_.id}`))}_toggleDropDown(_,M){const q=this._getOuterElement(_);if(!q.classList.contains(wM))return;const ye=(Oe,$e)=>{const rt=Q.findOne(Oe,q);rt&&rt.classList.toggle($e,M)};ye(Ny,Io),ye(xM,pg),q.setAttribute("aria-expanded",M)}_setAttributeIfNotExists(_,M,q){_.hasAttribute(M)||_.setAttribute(M,q)}_elemIsActive(_){return _.classList.contains(Io)}_getInnerElement(_){return _.matches(_g)?_:Q.findOne(_g,_)}_getOuterElement(_){return _.closest(CM)||_}static jQueryInterface(_){return this.each(function(){const M=Do.getOrCreateInstance(this);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_]()}})}}z.on(document,mM,Fy,function(G){["A","AREA"].includes(this.tagName)&&G.preventDefault(),!x(this)&&Do.getOrCreateInstance(this).show()}),z.on(window,vM,()=>{for(const G of Q.find(kM))Do.getOrCreateInstance(G)}),I(Do);const TM="toast",Sr=".bs.toast",AM=`mouseover${Sr}`,PM=`mouseout${Sr}`,MM=`focusin${Sr}`,IM=`focusout${Sr}`,DM=`hide${Sr}`,RM=`hidden${Sr}`,$M=`show${Sr}`,LM=`shown${Sr}`,OM="fade",By="hide",hd="show",fd="showing",NM={animation:"boolean",autohide:"boolean",delay:"number"},FM={animation:!0,autohide:!0,delay:5e3};class sc extends j{constructor(_,M){super(_,M),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return FM}static get DefaultType(){return NM}static get NAME(){return TM}show(){if(z.trigger(this._element,$M).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(OM);const M=()=>{this._element.classList.remove(fd),z.trigger(this._element,LM),this._maybeScheduleHide()};this._element.classList.remove(By),b(this._element),this._element.classList.add(hd,fd),this._queueCallback(M,this._element,this._config.animation)}hide(){if(!this.isShown()||z.trigger(this._element,DM).defaultPrevented)return;const M=()=>{this._element.classList.add(By),this._element.classList.remove(fd,hd),z.trigger(this._element,RM)};this._element.classList.add(fd),this._queueCallback(M,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hd),super.dispose()}isShown(){return this._element.classList.contains(hd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,M){switch(_.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=M;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=M;break}}if(M){this._clearTimeout();return}const q=_.relatedTarget;this._element===q||this._element.contains(q)||this._maybeScheduleHide()}_setListeners(){z.on(this._element,AM,_=>this._onInteraction(_,!0)),z.on(this._element,PM,_=>this._onInteraction(_,!1)),z.on(this._element,MM,_=>this._onInteraction(_,!0)),z.on(this._element,IM,_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const M=sc.getOrCreateInstance(this,_);if(typeof _=="string"){if(typeof M[_]>"u")throw new TypeError(`No method named "${_}"`);M[_](this)}})}}return ge(sc),I(sc),{Alert:et,Button:ae,Carousel:ka,Collapse:Aa,Dropdown:Ji,Modal:Ao,Offcanvas:Hs,Popover:dd,ScrollSpy:ic,Tab:Do,Toast:sc,Tooltip:Po}})})(zM);/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function t_(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Mt={},rl=[],$s=()=>{},DI=()=>!1,sf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),n_=t=>t.startsWith("onUpdate:"),vn=Object.assign,i_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},RI=Object.prototype.hasOwnProperty,xt=(t,e)=>RI.call(t,e),Ke=Array.isArray,ol=t=>Lu(t)==="[object Map]",Ul=t=>Lu(t)==="[object Set]",Gy=t=>Lu(t)==="[object Date]",Je=t=>typeof t=="function",Kt=t=>typeof t=="string",Fs=t=>typeof t=="symbol",It=t=>t!==null&&typeof t=="object",Px=t=>(It(t)||Je(t))&&Je(t.then)&&Je(t.catch),Mx=Object.prototype.toString,Lu=t=>Mx.call(t),$I=t=>Lu(t).slice(8,-1),Ix=t=>Lu(t)==="[object Object]",s_=t=>Kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Lc=t_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},LI=/-(\w)/g,Ui=rf(t=>t.replace(LI,(e,n)=>n?n.toUpperCase():"")),OI=/\B([A-Z])/g,go=rf(t=>t.replace(OI,"-$1").toLowerCase()),of=rf(t=>t.charAt(0).toUpperCase()+t.slice(1)),vg=rf(t=>t?`on${of(t)}`:""),so=(t,e)=>!Object.is(t,e),nh=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Dx=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},ph=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Rx=t=>{const e=Kt(t)?Number(t):NaN;return isNaN(e)?t:e};let Xy;const $x=()=>Xy||(Xy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mn(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Kt(i)?VI(i):Mn(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Kt(t)||It(t))return t}const NI=/;(?![^(]*\))/g,FI=/:([^]+)/,BI=/\/\*[^]*?\*\//g;function VI(t){const e={};return t.replace(BI,"").split(NI).forEach(n=>{if(n){const i=n.split(FI);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ee(t){let e="";if(Kt(t))e=t;else if(Ke(t))for(let n=0;n<t.length;n++){const i=Ee(t[n]);i&&(e+=i+" ")}else if(It(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function In(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Kt(e)&&(t.class=Ee(e)),n&&(t.style=Mn(n)),t}const WI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zI=t_(WI);function Lx(t){return!!t||t===""}function YI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=ca(t[i],e[i]);return n}function ca(t,e){if(t===e)return!0;let n=Gy(t),i=Gy(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Fs(t),i=Fs(e),n||i)return t===e;if(n=Ke(t),i=Ke(e),n||i)return n&&i?YI(t,e):!1;if(n=It(t),i=It(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ca(t[o],e[o]))return!1}}return String(t)===String(e)}function r_(t,e){return t.findIndex(n=>ca(n,e))}const Ox=t=>!!(t&&t.__v_isRef===!0),pe=t=>Kt(t)?t:t==null?"":Ke(t)||It(t)&&(t.toString===Mx||!Je(t.toString))?Ox(t)?pe(t.value):JSON.stringify(t,Nx,2):String(t),Nx=(t,e)=>Ox(e)?Nx(t,e.value):ol(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[yg(i,r)+" =>"]=s,n),{})}:Ul(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>yg(n))}:Fs(e)?yg(e):It(e)&&!Ke(e)&&!Ix(e)?String(e):e,yg=(t,e="")=>{var n;return Fs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ei;class Fx{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ei,!e&&ei&&(this.index=(ei.scopes||(ei.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ei;try{return ei=this,e()}finally{ei=n}}}on(){ei=this}off(){ei=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Bx(t){return new Fx(t)}function af(){return ei}function o_(t,e=!1){ei&&ei.cleanups.push(t)}let Rt;const bg=new WeakSet;class Vx{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ei&&ei.active&&ei.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bg.has(this)&&(bg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zx(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qy(this),Yx(this);const e=Rt,n=us;Rt=this,us=!0;try{return this.fn()}finally{Hx(this),Rt=e,us=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)c_(e);this.deps=this.depsTail=void 0,qy(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Lp(this)&&this.run()}get dirty(){return Lp(this)}}let Wx=0,Oc,Nc;function zx(t,e=!1){if(t.flags|=8,e){t.next=Nc,Nc=t;return}t.next=Oc,Oc=t}function a_(){Wx++}function l_(){if(--Wx>0)return;if(Nc){let e=Nc;for(Nc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Oc;){let e=Oc;for(Oc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function Yx(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Hx(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),c_(i),HI(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Lp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(jx(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function jx(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Qc))return;t.globalVersion=Qc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Lp(t)){t.flags&=-3;return}const n=Rt,i=us;Rt=t,us=!0;try{Yx(t);const s=t.fn(t._value);(e.version===0||so(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Rt=n,us=i,Hx(t),t.flags&=-3}}function c_(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i),!n.subs&&n.computed){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)c_(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function HI(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let us=!0;const Kx=[];function po(){Kx.push(us),us=!1}function mo(){const t=Kx.pop();us=t===void 0?!0:t}function qy(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Rt;Rt=void 0;try{e()}finally{Rt=n}}}let Qc=0;class jI{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class u_{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Rt||!us||Rt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Rt)n=this.activeLink=new jI(Rt,this),Rt.deps?(n.prevDep=Rt.depsTail,Rt.depsTail.nextDep=n,Rt.depsTail=n):Rt.deps=Rt.depsTail=n,Ux(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Rt.depsTail,n.nextDep=void 0,Rt.depsTail.nextDep=n,Rt.depsTail=n,Rt.deps===n&&(Rt.deps=i)}return n}trigger(e){this.version++,Qc++,this.notify(e)}notify(e){a_();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{l_()}}}function Ux(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Ux(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const mh=new WeakMap,ta=Symbol(""),Op=Symbol(""),eu=Symbol("");function qn(t,e,n){if(us&&Rt){let i=mh.get(t);i||mh.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new u_),s.map=i,s.key=n),s.track()}}function dr(t,e,n,i,s,r){const o=mh.get(t);if(!o){Qc++;return}const a=l=>{l&&l.trigger()};if(a_(),e==="clear")o.forEach(a);else{const l=Ke(t),c=l&&s_(n);if(l&&n==="length"){const u=Number(i);o.forEach((d,f)=>{(f==="length"||f===eu||!Fs(f)&&f>=u)&&a(d)})}else switch(n!==void 0&&a(o.get(n)),c&&a(o.get(eu)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ta)),ol(t)&&a(o.get(Op)));break;case"delete":l||(a(o.get(ta)),ol(t)&&a(o.get(Op)));break;case"set":ol(t)&&a(o.get(ta));break}}l_()}function KI(t,e){const n=mh.get(t);return n&&n.get(e)}function Da(t){const e=lt(t);return e===t?e:(qn(e,"iterate",eu),Hi(t)?e:e.map(Kn))}function lf(t){return qn(t=lt(t),"iterate",eu),t}const UI={__proto__:null,[Symbol.iterator](){return wg(this,Symbol.iterator,Kn)},concat(...t){return Da(this).concat(...t.map(e=>Ke(e)?Da(e):e))},entries(){return wg(this,"entries",t=>(t[1]=Kn(t[1]),t))},every(t,e){return js(this,"every",t,e,void 0,arguments)},filter(t,e){return js(this,"filter",t,e,n=>n.map(Kn),arguments)},find(t,e){return js(this,"find",t,e,Kn,arguments)},findIndex(t,e){return js(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return js(this,"findLast",t,e,Kn,arguments)},findLastIndex(t,e){return js(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return js(this,"forEach",t,e,void 0,arguments)},includes(...t){return xg(this,"includes",t)},indexOf(...t){return xg(this,"indexOf",t)},join(t){return Da(this).join(t)},lastIndexOf(...t){return xg(this,"lastIndexOf",t)},map(t,e){return js(this,"map",t,e,void 0,arguments)},pop(){return rc(this,"pop")},push(...t){return rc(this,"push",t)},reduce(t,...e){return Zy(this,"reduce",t,e)},reduceRight(t,...e){return Zy(this,"reduceRight",t,e)},shift(){return rc(this,"shift")},some(t,e){return js(this,"some",t,e,void 0,arguments)},splice(...t){return rc(this,"splice",t)},toReversed(){return Da(this).toReversed()},toSorted(t){return Da(this).toSorted(t)},toSpliced(...t){return Da(this).toSpliced(...t)},unshift(...t){return rc(this,"unshift",t)},values(){return wg(this,"values",Kn)}};function wg(t,e,n){const i=lf(t),s=i[e]();return i!==t&&!Hi(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const GI=Array.prototype;function js(t,e,n,i,s,r){const o=lf(t),a=o!==t&&!Hi(t),l=o[e];if(l!==GI[e]){const d=l.apply(t,r);return a?Kn(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,Kn(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,i);return a&&s?s(u):u}function Zy(t,e,n,i){const s=lf(t);let r=n;return s!==t&&(Hi(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,Kn(a),l,t)}),s[e](r,...i)}function xg(t,e,n){const i=lt(t);qn(i,"iterate",eu);const s=i[e](...n);return(s===-1||s===!1)&&Ou(n[0])?(n[0]=lt(n[0]),i[e](...n)):s}function rc(t,e,n=[]){po(),a_();const i=lt(t)[e].apply(t,n);return l_(),mo(),i}const XI=t_("__proto__,__v_isRef,__isVue"),Gx=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fs));function qI(t){Fs(t)||(t=String(t));const e=lt(this);return qn(e,"has",t),e.hasOwnProperty(t)}class Xx{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?cD:Qx:r?Jx:Zx).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Ke(e);if(!s){let l;if(o&&(l=UI[n]))return l;if(n==="hasOwnProperty")return qI}const a=Reflect.get(e,n,Ht(e)?e:i);return(Fs(n)?Gx.has(n):XI(n))||(s||qn(e,"get",n),r)?a:Ht(a)?o&&s_(n)?a:a.value:It(a)?s?tE(a):Ei(a):a}}class qx extends Xx{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=ua(r);if(!Hi(i)&&!ua(i)&&(r=lt(r),i=lt(i)),!Ke(e)&&Ht(r)&&!Ht(i))return l?!1:(r.value=i,!0)}const o=Ke(e)&&s_(n)?Number(n)<e.length:xt(e,n),a=Reflect.set(e,n,i,Ht(e)?e:s);return e===lt(s)&&(o?so(i,r)&&dr(e,"set",n,i):dr(e,"add",n,i)),a}deleteProperty(e,n){const i=xt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&dr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Fs(n)||!Gx.has(n))&&qn(e,"has",n),i}ownKeys(e){return qn(e,"iterate",Ke(e)?"length":ta),Reflect.ownKeys(e)}}class ZI extends Xx{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const JI=new qx,QI=new ZI,eD=new qx(!0);const d_=t=>t,cf=t=>Reflect.getPrototypeOf(t);function md(t,e,n=!1,i=!1){t=t.__v_raw;const s=lt(t),r=lt(e);n||(so(e,r)&&qn(s,"get",e),qn(s,"get",r));const{has:o}=cf(s),a=i?d_:n?g_:Kn;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function _d(t,e=!1){const n=this.__v_raw,i=lt(n),s=lt(t);return e||(so(t,s)&&qn(i,"has",t),qn(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function vd(t,e=!1){return t=t.__v_raw,!e&&qn(lt(t),"iterate",ta),Reflect.get(t,"size",t)}function Jy(t,e=!1){!e&&!Hi(t)&&!ua(t)&&(t=lt(t));const n=lt(this);return cf(n).has.call(n,t)||(n.add(t),dr(n,"add",t,t)),this}function Qy(t,e,n=!1){!n&&!Hi(e)&&!ua(e)&&(e=lt(e));const i=lt(this),{has:s,get:r}=cf(i);let o=s.call(i,t);o||(t=lt(t),o=s.call(i,t));const a=r.call(i,t);return i.set(t,e),o?so(e,a)&&dr(i,"set",t,e):dr(i,"add",t,e),this}function eb(t){const e=lt(this),{has:n,get:i}=cf(e);let s=n.call(e,t);s||(t=lt(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&dr(e,"delete",t,void 0),r}function tb(){const t=lt(this),e=t.size!==0,n=t.clear();return e&&dr(t,"clear",void 0,void 0),n}function yd(t,e){return function(i,s){const r=this,o=r.__v_raw,a=lt(o),l=e?d_:t?g_:Kn;return!t&&qn(a,"iterate",ta),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function bd(t,e,n){return function(...i){const s=this.__v_raw,r=lt(s),o=ol(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?d_:e?g_:Kn;return!e&&qn(r,"iterate",l?Op:ta),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function kr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tD(){const t={get(r){return md(this,r)},get size(){return vd(this)},has:_d,add:Jy,set:Qy,delete:eb,clear:tb,forEach:yd(!1,!1)},e={get(r){return md(this,r,!1,!0)},get size(){return vd(this)},has:_d,add(r){return Jy.call(this,r,!0)},set(r,o){return Qy.call(this,r,o,!0)},delete:eb,clear:tb,forEach:yd(!1,!0)},n={get(r){return md(this,r,!0)},get size(){return vd(this,!0)},has(r){return _d.call(this,r,!0)},add:kr("add"),set:kr("set"),delete:kr("delete"),clear:kr("clear"),forEach:yd(!0,!1)},i={get(r){return md(this,r,!0,!0)},get size(){return vd(this,!0)},has(r){return _d.call(this,r,!0)},add:kr("add"),set:kr("set"),delete:kr("delete"),clear:kr("clear"),forEach:yd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=bd(r,!1,!1),n[r]=bd(r,!0,!1),e[r]=bd(r,!1,!0),i[r]=bd(r,!0,!0)}),[t,n,e,i]}const[nD,iD,sD,rD]=tD();function h_(t,e){const n=e?t?rD:sD:t?iD:nD;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(xt(n,s)&&s in i?n:i,s,r)}const oD={get:h_(!1,!1)},aD={get:h_(!1,!0)},lD={get:h_(!0,!1)};const Zx=new WeakMap,Jx=new WeakMap,Qx=new WeakMap,cD=new WeakMap;function uD(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dD(t){return t.__v_skip||!Object.isExtensible(t)?0:uD($I(t))}function Ei(t){return ua(t)?t:f_(t,!1,JI,oD,Zx)}function eE(t){return f_(t,!1,eD,aD,Jx)}function tE(t){return f_(t,!0,QI,lD,Qx)}function f_(t,e,n,i,s){if(!It(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=dD(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function Qr(t){return ua(t)?Qr(t.__v_raw):!!(t&&t.__v_isReactive)}function ua(t){return!!(t&&t.__v_isReadonly)}function Hi(t){return!!(t&&t.__v_isShallow)}function Ou(t){return t?!!t.__v_raw:!1}function lt(t){const e=t&&t.__v_raw;return e?lt(e):t}function uf(t){return!xt(t,"__v_skip")&&Object.isExtensible(t)&&Dx(t,"__v_skip",!0),t}const Kn=t=>It(t)?Ei(t):t,g_=t=>It(t)?tE(t):t;function Ht(t){return t?t.__v_isRef===!0:!1}function me(t){return nE(t,!1)}function df(t){return nE(t,!0)}function nE(t,e){return Ht(t)?t:new hD(t,e)}class hD{constructor(e,n){this.dep=new u_,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:lt(e),this._value=n?e:Kn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Hi(e)||ua(e);e=i?e:lt(e),so(e,n)&&(this._rawValue=e,this._value=i?e:Kn(e),this.dep.trigger())}}function Z(t){return Ht(t)?t.value:t}const fD={get:(t,e,n)=>e==="__v_raw"?t:Z(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Ht(s)&&!Ht(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function iE(t){return Qr(t)?t:new Proxy(t,fD)}function gD(t){const e=Ke(t)?new Array(t.length):{};for(const n in t)e[n]=sE(t,n);return e}class pD{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return KI(lt(this._object),this._key)}}class mD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tu(t,e,n){return Ht(t)?t:Je(t)?new mD(t):It(t)&&arguments.length>1?sE(t,e,n):me(t)}function sE(t,e,n){const i=t[e];return Ht(i)?i:new pD(t,e,n)}class _D{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new u_(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Rt!==this)return zx(this,!0),!0}get value(){const e=this.dep.track();return jx(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function vD(t,e,n=!1){let i,s;return Je(t)?i=t:(i=t.get,s=t.set),new _D(i,s,n)}const wd={},_h=new WeakMap;let zo;function yD(t,e=!1,n=zo){if(n){let i=_h.get(n);i||_h.set(n,i=[]),i.push(t)}}function bD(t,e,n=Mt){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:l}=n,c=w=>s?w:Hi(w)||s===!1||s===0?rr(w,1):rr(w);let u,d,f,g,p=!1,m=!1;if(Ht(t)?(d=()=>t.value,p=Hi(t)):Qr(t)?(d=()=>c(t),p=!0):Ke(t)?(m=!0,p=t.some(w=>Qr(w)||Hi(w)),d=()=>t.map(w=>{if(Ht(w))return w.value;if(Qr(w))return c(w);if(Je(w))return l?l(w,2):w()})):Je(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){po();try{f()}finally{mo()}}const w=zo;zo=u;try{return l?l(t,3,[g]):t(g)}finally{zo=w}}:d=$s,e&&s){const w=d,b=s===!0?1/0:s;d=()=>rr(w(),b)}const v=af(),y=()=>{u.stop(),v&&i_(v.effects,u)};if(r&&e){const w=e;e=(...b)=>{w(...b),y()}}let x=m?new Array(t.length).fill(wd):wd;const E=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const b=u.run();if(s||p||(m?b.some((C,k)=>so(C,x[k])):so(b,x))){f&&f();const C=zo;zo=u;try{const k=[b,x===wd?void 0:m&&x[0]===wd?[]:x,g];l?l(e,3,k):e(...k),x=b}finally{zo=C}}}else u.run()};return a&&a(E),u=new Vx(d),u.scheduler=o?()=>o(E,!1):E,g=w=>yD(w,!1,u),f=u.onStop=()=>{const w=_h.get(u);if(w){if(l)l(w,4);else for(const b of w)b();_h.delete(u)}},e?i?E(!0):x=u.run():o?o(E.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function rr(t,e=1/0,n){if(e<=0||!It(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ht(t))rr(t.value,e,n);else if(Ke(t))for(let i=0;i<t.length;i++)rr(t[i],e,n);else if(Ul(t)||ol(t))t.forEach(i=>{rr(i,e,n)});else if(Ix(t)){for(const i in t)rr(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&rr(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nu(t,e,n,i){try{return i?t(...i):t()}catch(s){Fu(s,e,n)}}function fs(t,e,n,i){if(Je(t)){const s=Nu(t,e,n,i);return s&&Px(s)&&s.catch(r=>{Fu(r,e,n)}),s}if(Ke(t)){const s=[];for(let r=0;r<t.length;r++)s.push(fs(t[r],e,n,i));return s}}function Fu(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Mt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){po(),Nu(r,null,10,[t,l,c]),mo();return}}wD(t,n,s,i,o)}function wD(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const ti=[];let ws=-1;const al=[];let Vr=null,Ga=0;const rE=Promise.resolve();let vh=null;function Rn(t){const e=vh||rE;return t?e.then(this?t.bind(this):t):e}function xD(t){let e=ws+1,n=ti.length;for(;e<n;){const i=e+n>>>1,s=ti[i],r=nu(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function p_(t){if(!(t.flags&1)){const e=nu(t),n=ti[ti.length-1];!n||!(t.flags&2)&&e>=nu(n)?ti.push(t):ti.splice(xD(e),0,t),t.flags|=1,oE()}}function oE(){vh||(vh=rE.then(lE))}function Np(t){Ke(t)?al.push(...t):Vr&&t.id===-1?Vr.splice(Ga+1,0,t):t.flags&1||(al.push(t),t.flags|=1),oE()}function nb(t,e,n=ws+1){for(;n<ti.length;n++){const i=ti[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;ti.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function aE(t){if(al.length){const e=[...new Set(al)].sort((n,i)=>nu(n)-nu(i));if(al.length=0,Vr){Vr.push(...e);return}for(Vr=e,Ga=0;Ga<Vr.length;Ga++){const n=Vr[Ga];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Vr=null,Ga=0}}const nu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lE(t){try{for(ws=0;ws<ti.length;ws++){const e=ti[ws];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Nu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ws<ti.length;ws++){const e=ti[ws];e&&(e.flags&=-2)}ws=-1,ti.length=0,aE(),vh=null,(ti.length||al.length)&&lE()}}let wn=null,cE=null;function yh(t){const e=wn;return wn=t,cE=t&&t.type.__scopeId||null,e}function Pe(t,e=wn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&pb(-1);const r=yh(e);let o;try{o=t(...s)}finally{yh(r),i._d&&pb(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Re(t,e){if(wn===null)return t;const n=_f(wn),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=Mt]=e[s];r&&(Je(r)&&(r={mounted:r,updated:r}),r.deep&&rr(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ro(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(po(),fs(l,n,8,[t.el,a,t,e]),mo())}}const uE=Symbol("_vte"),dE=t=>t.__isTeleport,Fc=t=>t&&(t.disabled||t.disabled===""),ED=t=>t&&(t.defer||t.defer===""),ib=t=>typeof SVGElement<"u"&&t instanceof SVGElement,sb=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Fp=(t,e)=>{const n=t&&t.to;return Kt(n)?e?e(n):null:n},CD={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:g,querySelector:p,createText:m,createComment:v}}=c,y=Fc(e.props);let{shapeFlag:x,children:E,dynamicChildren:w}=e;if(t==null){const b=e.el=m(""),C=e.anchor=m("");g(b,n,i),g(C,n,i);const k=(A,I)=>{x&16&&(s&&s.isCE&&(s.ce._teleportTarget=A),u(E,A,I,s,r,o,a,l))},T=()=>{const A=e.target=Fp(e.props,p),I=hE(A,e,m,g);A&&(o!=="svg"&&ib(A)?o="svg":o!=="mathml"&&sb(A)&&(o="mathml"),y||(k(A,I),ih(e)))};y&&(k(n,C),ih(e)),ED(e.props)?fi(T,r):T()}else{e.el=t.el,e.targetStart=t.targetStart;const b=e.anchor=t.anchor,C=e.target=t.target,k=e.targetAnchor=t.targetAnchor,T=Fc(t.props),A=T?n:C,I=T?b:k;if(o==="svg"||ib(C)?o="svg":(o==="mathml"||sb(C))&&(o="mathml"),w?(f(t.dynamicChildren,w,A,s,r,o,a),y_(t,e,!0)):l||d(t,e,A,I,s,r,o,a,!1),y)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):xd(e,n,b,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=Fp(e.props,p);V&&xd(e,V,null,c,0)}else T&&xd(e,C,k,c,1);ih(e)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),r&&s(l),o&16){const g=r||!Fc(f);for(let p=0;p<a.length;p++){const m=a[p];i(m,e,n,g,!!m.dynamicChildren)}}},move:xd,hydrate:SD};function xd(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&i(o,e,n),(!d||Fc(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&i(a,e,n)}function SD(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=Fp(e.props,l);if(f){const g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(Fc(e.props))e.anchor=d(o(t),e,a(t),n,i,s,r),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let p=g;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}p=o(p)}e.targetAnchor||hE(f,e,u,c),d(g&&o(g),e,f,n,i,s,r)}ih(e)}return e.anchor&&o(e.anchor)}const kD=CD;function ih(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function hE(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[uE]=r,t&&(i(s,t),i(r,t)),r}const Wr=Symbol("_leaveCb"),Ed=Symbol("_enterCb");function fE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{t.isMounted=!0}),EE(()=>{t.isUnmounting=!0}),t}const Fi=[Function,Array],gE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fi,onEnter:Fi,onAfterEnter:Fi,onEnterCancelled:Fi,onBeforeLeave:Fi,onLeave:Fi,onAfterLeave:Fi,onLeaveCancelled:Fi,onBeforeAppear:Fi,onAppear:Fi,onAfterAppear:Fi,onAppearCancelled:Fi},pE=t=>{const e=t.subTree;return e.component?pE(e.component):e},TD={name:"BaseTransition",props:gE,setup(t,{slots:e}){const n=Bu(),i=fE();return()=>{const s=e.default&&m_(e.default(),!0);if(!s||!s.length)return;const r=mE(s),o=lt(t),{mode:a}=o;if(i.isLeaving)return Eg(r);const l=rb(r);if(!l)return Eg(r);let c=iu(l,o,i,n,f=>c=f);l.type!==Nn&&da(l,c);const u=n.subTree,d=u&&rb(u);if(d&&d.type!==Nn&&!Es(l,d)&&pE(n).type!==Nn){const f=iu(d,o,i,n);if(da(d,f),a==="out-in"&&l.type!==Nn)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},Eg(r);a==="in-out"&&l.type!==Nn&&(f.delayLeave=(g,p,m)=>{const v=_E(i,d);v[String(d.key)]=d,g[Wr]=()=>{p(),g[Wr]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return r}}};function mE(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Nn){e=n;break}}return e}const AD=TD;function _E(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function iu(t,e,n,i,s){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:g,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:x,onAppearCancelled:E}=e,w=String(t.key),b=_E(n,t),C=(A,I)=>{A&&fs(A,i,9,I)},k=(A,I)=>{const V=I[1];C(A,I),Ke(A)?A.every(Y=>Y.length<=1)&&V():A.length<=1&&V()},T={mode:o,persisted:a,beforeEnter(A){let I=l;if(!n.isMounted)if(r)I=v||l;else return;A[Wr]&&A[Wr](!0);const V=b[w];V&&Es(t,V)&&V.el[Wr]&&V.el[Wr](),C(I,[A])},enter(A){let I=c,V=u,Y=d;if(!n.isMounted)if(r)I=y||c,V=x||u,Y=E||d;else return;let ne=!1;const N=A[Ed]=B=>{ne||(ne=!0,B?C(Y,[A]):C(V,[A]),T.delayedLeave&&T.delayedLeave(),A[Ed]=void 0)};I?k(I,[A,N]):N()},leave(A,I){const V=String(t.key);if(A[Ed]&&A[Ed](!0),n.isUnmounting)return I();C(f,[A]);let Y=!1;const ne=A[Wr]=N=>{Y||(Y=!0,I(),N?C(m,[A]):C(p,[A]),A[Wr]=void 0,b[V]===t&&delete b[V])};b[V]=t,g?k(g,[A,ne]):ne()},clone(A){const I=iu(A,e,n,i,s);return s&&s(I),I}};return T}function Eg(t){if(hf(t))return t=ro(t),t.children=null,t}function rb(t){if(!hf(t))return dE(t.type)&&t.children?mE(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Je(n.default))return n.default()}}function da(t,e){t.shapeFlag&6&&t.component?(t.transition=e,da(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function m_(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ie?(o.patchFlag&128&&s++,i=i.concat(m_(o.children,e,a))):(e||o.type!==Nn)&&i.push(a!=null?ro(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function fn(t,e){return Je(t)?vn({name:t.name},e,{setup:t}):t}function vE(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Bp(t){const e=Bu(),n=df(null);if(e){const s=e.refs===Mt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Vp(t,e,n,i,s=!1){if(Ke(t)){t.forEach((p,m)=>Vp(p,e&&(Ke(e)?e[m]:e),n,i,s));return}if(ll(i)&&!s)return;const r=i.shapeFlag&4?_f(i.component):i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Mt?a.refs={}:a.refs,d=a.setupState,f=lt(d),g=d===Mt?()=>!1:p=>xt(f,p);if(c!=null&&c!==l&&(Kt(c)?(u[c]=null,g(c)&&(d[c]=null)):Ht(c)&&(c.value=null)),Je(l))Nu(l,a,12,[o,u]);else{const p=Kt(l),m=Ht(l);if(p||m){const v=()=>{if(t.f){const y=p?g(l)?d[l]:u[l]:l.value;s?Ke(y)&&i_(y,r):Ke(y)?y.includes(r)||y.push(r):p?(u[l]=[r],g(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,g(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(v.id=-1,fi(v,n)):v()}}}const ll=t=>!!t.type.__asyncLoader,hf=t=>t.type.__isKeepAlive;function PD(t,e){yE(t,"a",e)}function MD(t,e){yE(t,"da",e)}function yE(t,e,n=Pn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(ff(e,i,n),n){let s=n.parent;for(;s&&s.parent;)hf(s.parent.vnode)&&ID(i,e,n,s),s=s.parent}}function ID(t,e,n,i){const s=ff(e,t,i,!0);_o(()=>{i_(i[e],s)},n)}function ff(t,e,n=Pn,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{po();const a=Vu(n),l=fs(e,n,t,o);return a(),mo(),l});return i?s.unshift(r):s.push(r),r}}const wr=t=>(e,n=Pn)=>{(!mf||t==="sp")&&ff(t,(...i)=>e(...i),n)},bE=wr("bm"),Vt=wr("m"),wE=wr("bu"),xE=wr("u"),EE=wr("bum"),_o=wr("um"),DD=wr("sp"),RD=wr("rtg"),$D=wr("rtc");function LD(t,e=Pn){ff("ec",t,e)}const CE="components";function Se(t,e){return kE(CE,t,!0,e)||t}const SE=Symbol.for("v-ndc");function _a(t){return Kt(t)?kE(CE,t,!1)||t:t||SE}function kE(t,e,n=!0,i=!1){const s=wn||Pn;if(s){const r=s.type;{const a=kR(r,!1);if(a&&(a===e||a===Ui(e)||a===of(Ui(e))))return r}const o=ob(s[t]||r[t],e)||ob(s.appContext[t],e);return!o&&i?r:o}}function ob(t,e){return t&&(t[e]||t[Ui(e)]||t[of(Ui(e))])}function Ge(t,e,n,i){let s;const r=n,o=Ke(t);if(o||Kt(t)){const a=o&&Qr(t);let l=!1;a&&(l=!Hi(t),t=lf(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?Kn(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,r)}else if(It(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,r)}}else s=[];return s}function Xn(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Ke(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return t}function Fe(t,e,n={},i,s){if(wn.ce||wn.parent&&ll(wn.parent)&&wn.parent.ce)return e!=="default"&&(n.name=e),P(),Ce(Ie,null,[$("slot",n,i)],64);let r=t[e];r&&r._c&&(r._d=!1),P();const o=r&&TE(r(n)),a=Ce(Ie,{key:(n.key||o&&o.key||`_${e}`)+(!o&&i?"_fb":"")},o||[],o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function TE(t){return t.some(e=>bl(e)?!(e.type===Nn||e.type===Ie&&!TE(e.children)):!0)?t:null}const Wp=t=>t?GE(t)?_f(t):Wp(t.parent):null,Bc=vn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wp(t.parent),$root:t=>Wp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>__(t),$forceUpdate:t=>t.f||(t.f=()=>{p_(t.update)}),$nextTick:t=>t.n||(t.n=Rn.bind(t.proxy)),$watch:t=>rR.bind(t)}),Cg=(t,e)=>t!==Mt&&!t.__isScriptSetup&&xt(t,e),OD={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(Cg(i,e))return o[e]=1,i[e];if(s!==Mt&&xt(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&xt(c,e))return o[e]=3,r[e];if(n!==Mt&&xt(n,e))return o[e]=4,n[e];zp&&(o[e]=0)}}const u=Bc[e];let d,f;if(u)return e==="$attrs"&&qn(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Mt&&xt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,xt(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return Cg(s,e)?(s[e]=n,!0):i!==Mt&&xt(i,e)?(i[e]=n,!0):xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==Mt&&xt(t,o)||Cg(e,o)||(a=r[0])&&xt(a,o)||xt(i,o)||xt(Bc,o)||xt(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function va(){return AE().slots}function ND(){return AE().attrs}function AE(){const t=Bu();return t.setupContext||(t.setupContext=qE(t))}function ab(t){return Ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let zp=!0;function FD(t){const e=__(t),n=t.proxy,i=t.ctx;zp=!1,e.beforeCreate&&lb(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:g,updated:p,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:x,destroyed:E,unmounted:w,render:b,renderTracked:C,renderTriggered:k,errorCaptured:T,serverPrefetch:A,expose:I,inheritAttrs:V,components:Y,directives:ne,filters:N}=e;if(c&&BD(c,i,null),o)for(const W in o){const X=o[W];Je(X)&&(i[W]=X.bind(n))}if(s){const W=s.call(n,n);It(W)&&(t.data=Ei(W))}if(zp=!0,r)for(const W in r){const X=r[W],J=Je(X)?X.bind(n,n):Je(X.get)?X.get.bind(n,n):$s,H=!Je(X)&&Je(X.set)?X.set.bind(n):$s,ce=ve({get:J,set:H});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>ce.value,set:ie=>ce.value=ie})}if(a)for(const W in a)PE(a[W],i,n,W);if(l){const W=Je(l)?l.call(n):l;Reflect.ownKeys(W).forEach(X=>{sh(X,W[X])})}u&&lb(u,t,"c");function R(W,X){Ke(X)?X.forEach(J=>W(J.bind(n))):X&&W(X.bind(n))}if(R(bE,d),R(Vt,f),R(wE,g),R(xE,p),R(PD,m),R(MD,v),R(LD,T),R($D,C),R(RD,k),R(EE,x),R(_o,w),R(DD,A),Ke(I))if(I.length){const W=t.exposed||(t.exposed={});I.forEach(X=>{Object.defineProperty(W,X,{get:()=>n[X],set:J=>n[X]=J})})}else t.exposed||(t.exposed={});b&&t.render===$s&&(t.render=b),V!=null&&(t.inheritAttrs=V),Y&&(t.components=Y),ne&&(t.directives=ne),A&&vE(t)}function BD(t,e,n=$s){Ke(t)&&(t=Yp(t));for(const i in t){const s=t[i];let r;It(s)?"default"in s?r=ji(s.from||i,s.default,!0):r=ji(s.from||i):r=ji(s),Ht(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function lb(t,e,n){fs(Ke(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function PE(t,e,n,i){let s=i.includes(".")?WE(n,i):()=>n[i];if(Kt(t)){const r=e[t];Je(r)&&jt(s,r)}else if(Je(t))jt(s,t.bind(n));else if(It(t))if(Ke(t))t.forEach(r=>PE(r,e,n,i));else{const r=Je(t.handler)?t.handler.bind(n):e[t.handler];Je(r)&&jt(s,r,t)}}function __(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>bh(l,c,o,!0)),bh(l,e,o)),It(e)&&r.set(e,l),l}function bh(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&bh(t,r,n,!0),s&&s.forEach(o=>bh(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=VD[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const VD={data:cb,props:ub,emits:ub,methods:wc,computed:wc,beforeCreate:Jn,created:Jn,beforeMount:Jn,mounted:Jn,beforeUpdate:Jn,updated:Jn,beforeDestroy:Jn,beforeUnmount:Jn,destroyed:Jn,unmounted:Jn,activated:Jn,deactivated:Jn,errorCaptured:Jn,serverPrefetch:Jn,components:wc,directives:wc,watch:zD,provide:cb,inject:WD};function cb(t,e){return e?t?function(){return vn(Je(t)?t.call(this,this):t,Je(e)?e.call(this,this):e)}:e:t}function WD(t,e){return wc(Yp(t),Yp(e))}function Yp(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Jn(t,e){return t?[...new Set([].concat(t,e))]:e}function wc(t,e){return t?vn(Object.create(null),t,e):e}function ub(t,e){return t?Ke(t)&&Ke(e)?[...new Set([...t,...e])]:vn(Object.create(null),ab(t),ab(e??{})):e}function zD(t,e){if(!t)return e;if(!e)return t;const n=vn(Object.create(null),t);for(const i in e)n[i]=Jn(t[i],e[i]);return n}function ME(){return{app:null,config:{isNativeTag:DI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let YD=0;function HD(t,e){return function(i,s=null){Je(i)||(i=vn({},i)),s!=null&&!It(s)&&(s=null);const r=ME(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:YD++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:ZE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&Je(u.install)?(o.add(u),u.install(c,...d)):Je(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const g=c._ceVNode||$(i,s);return g.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(g,u):t(g,u,f),l=!0,c._container=u,u.__vue_app__=c,_f(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(fs(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=na;na=c;try{return u()}finally{na=d}}};return c}}let na=null;function sh(t,e){if(Pn){let n=Pn.provides;const i=Pn.parent&&Pn.parent.provides;i===n&&(n=Pn.provides=Object.create(i)),n[t]=e}}function ji(t,e,n=!1){const i=Pn||wn;if(i||na){const s=na?na._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Je(e)?e.call(i&&i.proxy):e}}function jD(){return!!(Pn||wn||na)}const IE={},DE=()=>Object.create(IE),RE=t=>Object.getPrototypeOf(t)===IE;function KD(t,e,n,i=!1){const s={},r=DE();t.propsDefaults=Object.create(null),$E(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:eE(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function UD(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=lt(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(gf(t.emitsOptions,f))continue;const g=e[f];if(l)if(xt(r,f))g!==r[f]&&(r[f]=g,c=!0);else{const p=Ui(f);s[p]=Hp(l,a,p,g,t,!1)}else g!==r[f]&&(r[f]=g,c=!0)}}}else{$E(t,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!xt(e,d)&&((u=go(d))===d||!xt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=Hp(l,a,d,void 0,t,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!xt(e,d))&&(delete r[d],c=!0)}c&&dr(t.attrs,"set","")}function $E(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Lc(l))continue;const c=e[l];let u;s&&xt(s,u=Ui(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:gf(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=lt(n),c=a||Mt;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Hp(s,l,d,c[d],t,!xt(c,d))}}return o}function Hp(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=xt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Je(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=Vu(s);i=c[n]=l.call(null,e),u()}}else i=l;s.ce&&s.ce._setProp(n,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===go(n))&&(i=!0))}return i}const GD=new WeakMap;function LE(t,e,n=!1){const i=n?GD:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!Je(t)){const u=d=>{l=!0;const[f,g]=LE(d,e,!0);vn(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return It(t)&&i.set(t,rl),rl;if(Ke(r))for(let u=0;u<r.length;u++){const d=Ui(r[u]);db(d)&&(o[d]=Mt)}else if(r)for(const u in r){const d=Ui(u);if(db(d)){const f=r[u],g=o[d]=Ke(f)||Je(f)?{type:f}:vn({},f),p=g.type;let m=!1,v=!0;if(Ke(p))for(let y=0;y<p.length;++y){const x=p[y],E=Je(x)&&x.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(v=!1)}else m=Je(p)&&p.name==="Boolean";g[0]=m,g[1]=v,(m||xt(g,"default"))&&a.push(d)}}const c=[o,a];return It(t)&&i.set(t,c),c}function db(t){return t[0]!=="$"&&!Lc(t)}const OE=t=>t[0]==="_"||t==="$stable",v_=t=>Ke(t)?t.map(is):[is(t)],XD=(t,e,n)=>{if(e._n)return e;const i=Pe((...s)=>v_(e(...s)),n);return i._c=!1,i},NE=(t,e,n)=>{const i=t._ctx;for(const s in t){if(OE(s))continue;const r=t[s];if(Je(r))e[s]=XD(s,r,i);else if(r!=null){const o=v_(r);e[s]=()=>o}}},FE=(t,e)=>{const n=v_(e);t.slots.default=()=>n},BE=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},qD=(t,e,n)=>{const i=t.slots=DE();if(t.vnode.shapeFlag&32){const s=e._;s?(BE(i,e,n),n&&Dx(i,"_",s,!0)):NE(e,i)}else e&&FE(t,e)},ZD=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=Mt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:BE(s,e,n):(r=!e.$stable,NE(e,s)),o=e}else e&&(FE(t,e),o={default:1});if(r)for(const a in s)!OE(a)&&o[a]==null&&delete s[a]},fi=_R;function JD(t){return QD(t)}function QD(t,e){const n=$x();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:g=$s,insertStaticContent:p}=t,m=(S,O,K,U=null,oe=null,j=null,re=void 0,Q=null,ge=!!O.dynamicChildren)=>{if(S===O)return;S&&!Es(S,O)&&(U=L(S),ie(S,oe,j,!0),S=null),O.patchFlag===-2&&(ge=!1,O.dynamicChildren=null);const{type:be,ref:we,shapeFlag:Me}=O;switch(be){case pf:v(S,O,K,U);break;case Nn:y(S,O,K,U);break;case rh:S==null&&x(O,K,U,re);break;case Ie:Y(S,O,K,U,oe,j,re,Q,ge);break;default:Me&1?b(S,O,K,U,oe,j,re,Q,ge):Me&6?ne(S,O,K,U,oe,j,re,Q,ge):(Me&64||Me&128)&&be.process(S,O,K,U,oe,j,re,Q,ge,xe)}we!=null&&oe&&Vp(we,S&&S.ref,j,O||S,!O)},v=(S,O,K,U)=>{if(S==null)i(O.el=a(O.children),K,U);else{const oe=O.el=S.el;O.children!==S.children&&c(oe,O.children)}},y=(S,O,K,U)=>{S==null?i(O.el=l(O.children||""),K,U):O.el=S.el},x=(S,O,K,U)=>{[S.el,S.anchor]=p(S.children,O,K,U,S.el,S.anchor)},E=({el:S,anchor:O},K,U)=>{let oe;for(;S&&S!==O;)oe=f(S),i(S,K,U),S=oe;i(O,K,U)},w=({el:S,anchor:O})=>{let K;for(;S&&S!==O;)K=f(S),s(S),S=K;s(O)},b=(S,O,K,U,oe,j,re,Q,ge)=>{O.type==="svg"?re="svg":O.type==="math"&&(re="mathml"),S==null?C(O,K,U,oe,j,re,Q,ge):A(S,O,oe,j,re,Q,ge)},C=(S,O,K,U,oe,j,re,Q)=>{let ge,be;const{props:we,shapeFlag:Me,transition:De,dirs:Ye}=S;if(ge=S.el=o(S.type,j,we&&we.is,we),Me&8?u(ge,S.children):Me&16&&T(S.children,ge,null,U,oe,Sg(S,j),re,Q),Ye&&Ro(S,null,U,"created"),k(ge,S,S.scopeId,re,U),we){for(const nt in we)nt!=="value"&&!Lc(nt)&&r(ge,nt,null,we[nt],j,U);"value"in we&&r(ge,"value",null,we.value,j),(be=we.onVnodeBeforeMount)&&ys(be,U,S)}Ye&&Ro(S,null,U,"beforeMount");const je=eR(oe,De);je&&De.beforeEnter(ge),i(ge,O,K),((be=we&&we.onVnodeMounted)||je||Ye)&&fi(()=>{be&&ys(be,U,S),je&&De.enter(ge),Ye&&Ro(S,null,U,"mounted")},oe)},k=(S,O,K,U,oe)=>{if(K&&g(S,K),U)for(let j=0;j<U.length;j++)g(S,U[j]);if(oe){let j=oe.subTree;if(O===j||YE(j.type)&&(j.ssContent===O||j.ssFallback===O)){const re=oe.vnode;k(S,re,re.scopeId,re.slotScopeIds,oe.parent)}}},T=(S,O,K,U,oe,j,re,Q,ge=0)=>{for(let be=ge;be<S.length;be++){const we=S[be]=Q?zr(S[be]):is(S[be]);m(null,we,O,K,U,oe,j,re,Q)}},A=(S,O,K,U,oe,j,re)=>{const Q=O.el=S.el;let{patchFlag:ge,dynamicChildren:be,dirs:we}=O;ge|=S.patchFlag&16;const Me=S.props||Mt,De=O.props||Mt;let Ye;if(K&&$o(K,!1),(Ye=De.onVnodeBeforeUpdate)&&ys(Ye,K,O,S),we&&Ro(O,S,K,"beforeUpdate"),K&&$o(K,!0),(Me.innerHTML&&De.innerHTML==null||Me.textContent&&De.textContent==null)&&u(Q,""),be?I(S.dynamicChildren,be,Q,K,U,Sg(O,oe),j):re||X(S,O,Q,null,K,U,Sg(O,oe),j,!1),ge>0){if(ge&16)V(Q,Me,De,K,oe);else if(ge&2&&Me.class!==De.class&&r(Q,"class",null,De.class,oe),ge&4&&r(Q,"style",Me.style,De.style,oe),ge&8){const je=O.dynamicProps;for(let nt=0;nt<je.length;nt++){const et=je[nt],Jt=Me[et],Wt=De[et];(Wt!==Jt||et==="value")&&r(Q,et,Jt,Wt,oe,K)}}ge&1&&S.children!==O.children&&u(Q,O.children)}else!re&&be==null&&V(Q,Me,De,K,oe);((Ye=De.onVnodeUpdated)||we)&&fi(()=>{Ye&&ys(Ye,K,O,S),we&&Ro(O,S,K,"updated")},U)},I=(S,O,K,U,oe,j,re)=>{for(let Q=0;Q<O.length;Q++){const ge=S[Q],be=O[Q],we=ge.el&&(ge.type===Ie||!Es(ge,be)||ge.shapeFlag&70)?d(ge.el):K;m(ge,be,we,null,U,oe,j,re,!0)}},V=(S,O,K,U,oe)=>{if(O!==K){if(O!==Mt)for(const j in O)!Lc(j)&&!(j in K)&&r(S,j,O[j],null,oe,U);for(const j in K){if(Lc(j))continue;const re=K[j],Q=O[j];re!==Q&&j!=="value"&&r(S,j,Q,re,oe,U)}"value"in K&&r(S,"value",O.value,K.value,oe)}},Y=(S,O,K,U,oe,j,re,Q,ge)=>{const be=O.el=S?S.el:a(""),we=O.anchor=S?S.anchor:a("");let{patchFlag:Me,dynamicChildren:De,slotScopeIds:Ye}=O;Ye&&(Q=Q?Q.concat(Ye):Ye),S==null?(i(be,K,U),i(we,K,U),T(O.children||[],K,we,oe,j,re,Q,ge)):Me>0&&Me&64&&De&&S.dynamicChildren?(I(S.dynamicChildren,De,K,oe,j,re,Q),(O.key!=null||oe&&O===oe.subTree)&&y_(S,O,!0)):X(S,O,K,we,oe,j,re,Q,ge)},ne=(S,O,K,U,oe,j,re,Q,ge)=>{O.slotScopeIds=Q,S==null?O.shapeFlag&512?oe.ctx.activate(O,K,U,re,ge):N(O,K,U,oe,j,re,ge):B(S,O,ge)},N=(S,O,K,U,oe,j,re)=>{const Q=S.component=xR(S,U,oe);if(hf(S)&&(Q.ctx.renderer=xe),ER(Q,!1,re),Q.asyncDep){if(oe&&oe.registerDep(Q,R,re),!S.el){const ge=Q.subTree=$(Nn);y(null,ge,O,K)}}else R(Q,S,O,K,oe,j,re)},B=(S,O,K)=>{const U=O.component=S.component;if(dR(S,O,K))if(U.asyncDep&&!U.asyncResolved){W(U,O,K);return}else U.next=O,U.update();else O.el=S.el,U.vnode=O},R=(S,O,K,U,oe,j,re)=>{const Q=()=>{if(S.isMounted){let{next:Me,bu:De,u:Ye,parent:je,vnode:nt}=S;{const Gt=VE(S);if(Gt){Me&&(Me.el=nt.el,W(S,Me,re)),Gt.asyncDep.then(()=>{S.isUnmounted||Q()});return}}let et=Me,Jt;$o(S,!1),Me?(Me.el=nt.el,W(S,Me,re)):Me=nt,De&&nh(De),(Jt=Me.props&&Me.props.onVnodeBeforeUpdate)&&ys(Jt,je,Me,nt),$o(S,!0);const Wt=kg(S),gn=S.subTree;S.subTree=Wt,m(gn,Wt,d(gn.el),L(gn),S,oe,j),Me.el=Wt.el,et===null&&w_(S,Wt.el),Ye&&fi(Ye,oe),(Jt=Me.props&&Me.props.onVnodeUpdated)&&fi(()=>ys(Jt,je,Me,nt),oe)}else{let Me;const{el:De,props:Ye}=O,{bm:je,m:nt,parent:et,root:Jt,type:Wt}=S,gn=ll(O);if($o(S,!1),je&&nh(je),!gn&&(Me=Ye&&Ye.onVnodeBeforeMount)&&ys(Me,et,O),$o(S,!0),De&&fe){const Gt=()=>{S.subTree=kg(S),fe(De,S.subTree,S,oe,null)};gn&&Wt.__asyncHydrate?Wt.__asyncHydrate(De,S,Gt):Gt()}else{Jt.ce&&Jt.ce._injectChildStyle(Wt);const Gt=S.subTree=kg(S);m(null,Gt,K,U,S,oe,j),O.el=Gt.el}if(nt&&fi(nt,oe),!gn&&(Me=Ye&&Ye.onVnodeMounted)){const Gt=O;fi(()=>ys(Me,et,Gt),oe)}(O.shapeFlag&256||et&&ll(et.vnode)&&et.vnode.shapeFlag&256)&&S.a&&fi(S.a,oe),S.isMounted=!0,O=K=U=null}};S.scope.on();const ge=S.effect=new Vx(Q);S.scope.off();const be=S.update=ge.run.bind(ge),we=S.job=ge.runIfDirty.bind(ge);we.i=S,we.id=S.uid,ge.scheduler=()=>p_(we),$o(S,!0),be()},W=(S,O,K)=>{O.component=S;const U=S.vnode.props;S.vnode=O,S.next=null,UD(S,O.props,U,K),ZD(S,O.children,K),po(),nb(S),mo()},X=(S,O,K,U,oe,j,re,Q,ge=!1)=>{const be=S&&S.children,we=S?S.shapeFlag:0,Me=O.children,{patchFlag:De,shapeFlag:Ye}=O;if(De>0){if(De&128){H(be,Me,K,U,oe,j,re,Q,ge);return}else if(De&256){J(be,Me,K,U,oe,j,re,Q,ge);return}}Ye&8?(we&16&&ue(be,oe,j),Me!==be&&u(K,Me)):we&16?Ye&16?H(be,Me,K,U,oe,j,re,Q,ge):ue(be,oe,j,!0):(we&8&&u(K,""),Ye&16&&T(Me,K,U,oe,j,re,Q,ge))},J=(S,O,K,U,oe,j,re,Q,ge)=>{S=S||rl,O=O||rl;const be=S.length,we=O.length,Me=Math.min(be,we);let De;for(De=0;De<Me;De++){const Ye=O[De]=ge?zr(O[De]):is(O[De]);m(S[De],Ye,K,null,oe,j,re,Q,ge)}be>we?ue(S,oe,j,!0,!1,Me):T(O,K,U,oe,j,re,Q,ge,Me)},H=(S,O,K,U,oe,j,re,Q,ge)=>{let be=0;const we=O.length;let Me=S.length-1,De=we-1;for(;be<=Me&&be<=De;){const Ye=S[be],je=O[be]=ge?zr(O[be]):is(O[be]);if(Es(Ye,je))m(Ye,je,K,null,oe,j,re,Q,ge);else break;be++}for(;be<=Me&&be<=De;){const Ye=S[Me],je=O[De]=ge?zr(O[De]):is(O[De]);if(Es(Ye,je))m(Ye,je,K,null,oe,j,re,Q,ge);else break;Me--,De--}if(be>Me){if(be<=De){const Ye=De+1,je=Ye<we?O[Ye].el:U;for(;be<=De;)m(null,O[be]=ge?zr(O[be]):is(O[be]),K,je,oe,j,re,Q,ge),be++}}else if(be>De)for(;be<=Me;)ie(S[be],oe,j,!0),be++;else{const Ye=be,je=be,nt=new Map;for(be=je;be<=De;be++){const Qt=O[be]=ge?zr(O[be]):is(O[be]);Qt.key!=null&&nt.set(Qt.key,be)}let et,Jt=0;const Wt=De-je+1;let gn=!1,Gt=0;const Ci=new Array(Wt);for(be=0;be<Wt;be++)Ci[be]=0;for(be=Ye;be<=Me;be++){const Qt=S[be];if(Jt>=Wt){ie(Qt,oe,j,!0);continue}let ae;if(Qt.key!=null)ae=nt.get(Qt.key);else for(et=je;et<=De;et++)if(Ci[et-je]===0&&Es(Qt,O[et])){ae=et;break}ae===void 0?ie(Qt,oe,j,!0):(Ci[ae-je]=be+1,ae>=Gt?Gt=ae:gn=!0,m(Qt,O[ae],K,null,oe,j,re,Q,ge),Jt++)}const qi=gn?tR(Ci):rl;for(et=qi.length-1,be=Wt-1;be>=0;be--){const Qt=je+be,ae=O[Qt],Te=Qt+1<we?O[Qt+1].el:U;Ci[be]===0?m(null,ae,K,Te,oe,j,re,Q,ge):gn&&(et<0||be!==qi[et]?ce(ae,K,Te,2):et--)}}},ce=(S,O,K,U,oe=null)=>{const{el:j,type:re,transition:Q,children:ge,shapeFlag:be}=S;if(be&6){ce(S.component.subTree,O,K,U);return}if(be&128){S.suspense.move(O,K,U);return}if(be&64){re.move(S,O,K,xe);return}if(re===Ie){i(j,O,K);for(let Me=0;Me<ge.length;Me++)ce(ge[Me],O,K,U);i(S.anchor,O,K);return}if(re===rh){E(S,O,K);return}if(U!==2&&be&1&&Q)if(U===0)Q.beforeEnter(j),i(j,O,K),fi(()=>Q.enter(j),oe);else{const{leave:Me,delayLeave:De,afterLeave:Ye}=Q,je=()=>i(j,O,K),nt=()=>{Me(j,()=>{je(),Ye&&Ye()})};De?De(j,je,nt):nt()}else i(j,O,K)},ie=(S,O,K,U=!1,oe=!1)=>{const{type:j,props:re,ref:Q,children:ge,dynamicChildren:be,shapeFlag:we,patchFlag:Me,dirs:De,cacheIndex:Ye}=S;if(Me===-2&&(oe=!1),Q!=null&&Vp(Q,null,K,S,!0),Ye!=null&&(O.renderCache[Ye]=void 0),we&256){O.ctx.deactivate(S);return}const je=we&1&&De,nt=!ll(S);let et;if(nt&&(et=re&&re.onVnodeBeforeUnmount)&&ys(et,O,S),we&6)ee(S.component,K,U);else{if(we&128){S.suspense.unmount(K,U);return}je&&Ro(S,null,O,"beforeUnmount"),we&64?S.type.remove(S,O,K,xe,U):be&&!be.hasOnce&&(j!==Ie||Me>0&&Me&64)?ue(be,O,K,!1,!0):(j===Ie&&Me&384||!oe&&we&16)&&ue(ge,O,K),U&&te(S)}(nt&&(et=re&&re.onVnodeUnmounted)||je)&&fi(()=>{et&&ys(et,O,S),je&&Ro(S,null,O,"unmounted")},K)},te=S=>{const{type:O,el:K,anchor:U,transition:oe}=S;if(O===Ie){D(K,U);return}if(O===rh){w(S);return}const j=()=>{s(K),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(S.shapeFlag&1&&oe&&!oe.persisted){const{leave:re,delayLeave:Q}=oe,ge=()=>re(K,j);Q?Q(S.el,j,ge):ge()}else j()},D=(S,O)=>{let K;for(;S!==O;)K=f(S),s(S),S=K;s(O)},ee=(S,O,K)=>{const{bum:U,scope:oe,job:j,subTree:re,um:Q,m:ge,a:be}=S;hb(ge),hb(be),U&&nh(U),oe.stop(),j&&(j.flags|=8,ie(re,S,O,K)),Q&&fi(Q,O),fi(()=>{S.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},ue=(S,O,K,U=!1,oe=!1,j=0)=>{for(let re=j;re<S.length;re++)ie(S[re],O,K,U,oe)},L=S=>{if(S.shapeFlag&6)return L(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const O=f(S.anchor||S.el),K=O&&O[uE];return K?f(K):O};let le=!1;const de=(S,O,K)=>{S==null?O._vnode&&ie(O._vnode,null,null,!0):m(O._vnode||null,S,O,null,null,null,K),O._vnode=S,le||(le=!0,nb(),aE(),le=!1)},xe={p:m,um:ie,m:ce,r:te,mt:N,mc:T,pc:X,pbc:I,n:L,o:t};let z,fe;return{render:de,hydrate:z,createApp:HD(de,z)}}function Sg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $o({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function eR(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function y_(t,e,n=!1){const i=t.children,s=e.children;if(Ke(i)&&Ke(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=zr(s[r]),a.el=o.el),!n&&a.patchFlag!==-2&&y_(o,a)),a.type===pf&&(a.el=o.el)}}function tR(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function VE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:VE(e)}function hb(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const nR=Symbol.for("v-scx"),iR=()=>ji(nR);function sR(t,e){return b_(t,null,{flush:"post"})}function jt(t,e,n){return b_(t,e,n)}function b_(t,e,n=Mt){const{immediate:i,deep:s,flush:r,once:o}=n,a=vn({},n);let l;if(mf)if(r==="sync"){const f=iR();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!e||i)a.once=!0;else{const f=()=>{};return f.stop=$s,f.resume=$s,f.pause=$s,f}const c=Pn;a.call=(f,g,p)=>fs(f,c,g,p);let u=!1;r==="post"?a.scheduler=f=>{fi(f,c&&c.suspense)}:r!=="sync"&&(u=!0,a.scheduler=(f,g)=>{g?f():p_(f)}),a.augmentJob=f=>{e&&(f.flags|=4),u&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const d=bD(t,e,a);return l&&l.push(d),d}function rR(t,e,n){const i=this.proxy,s=Kt(t)?t.includes(".")?WE(i,t):()=>i[t]:t.bind(i,i);let r;Je(e)?r=e:(r=e.handler,n=e);const o=Vu(this),a=b_(s,r.bind(i),n);return o(),a}function WE(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const oR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ui(e)}Modifiers`]||t[`${go(e)}Modifiers`];function aR(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Mt;let s=n;const r=e.startsWith("update:"),o=r&&oR(i,e.slice(7));o&&(o.trim&&(s=n.map(u=>Kt(u)?u.trim():u)),o.number&&(s=n.map(ph)));let a,l=i[a=vg(e)]||i[a=vg(Ui(e))];!l&&r&&(l=i[a=vg(go(e))]),l&&fs(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,fs(c,t,6,s)}}function zE(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!Je(t)){const l=c=>{const u=zE(c,e,!0);u&&(a=!0,vn(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(It(t)&&i.set(t,null),null):(Ke(r)?r.forEach(l=>o[l]=null):vn(o,r),It(t)&&i.set(t,o),o)}function gf(t,e){return!t||!sf(e)?!1:(e=e.slice(2).replace(/Once$/,""),xt(t,e[0].toLowerCase()+e.slice(1))||xt(t,go(e))||xt(t,e))}function kg(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:g,ctx:p,inheritAttrs:m}=t,v=yh(t);let y,x;try{if(n.shapeFlag&4){const w=s||i,b=w;y=is(c.call(b,w,u,d,g,f,p)),x=a}else{const w=e;y=is(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),x=e.props?a:cR(a)}}catch(w){Vc.length=0,Fu(w,t,1),y=$(Nn)}let E=y;if(x&&m!==!1){const w=Object.keys(x),{shapeFlag:b}=E;w.length&&b&7&&(r&&w.some(n_)&&(x=uR(x,r)),E=ro(E,x,!1,!0))}return n.dirs&&(E=ro(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&da(E,n.transition),y=E,yh(v),y}function lR(t,e=!0){let n;for(let i=0;i<t.length;i++){const s=t[i];if(bl(s)){if(s.type!==Nn||s.children==="v-if"){if(n)return;n=s}}else return}return n}const cR=t=>{let e;for(const n in t)(n==="class"||n==="style"||sf(n))&&((e||(e={}))[n]=t[n]);return e},uR=(t,e)=>{const n={};for(const i in t)(!n_(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function dR(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?fb(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!gf(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?fb(i,o,c):!0:!!o;return!1}function fb(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!gf(n,r))return!0}return!1}function w_({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const YE=t=>t.__isSuspense;let jp=0;const hR={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,o,a,l,c){if(t==null)fR(e,n,i,s,r,o,a,l,c);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}gR(t,e,n,i,s,o,a,l,c)}},hydrate:pR,normalize:mR},x_=hR;function su(t,e){const n=t.props&&t.props[e];Je(n)&&n()}function fR(t,e,n,i,s,r,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=t.suspense=HE(t,s,i,e,d,n,r,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,i,f,r,o),f.deps>0?(su(t,"onPending"),su(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,r,o),cl(f,t.ssFallback)):f.resolve(!1,!0)}function gR(t,e,n,i,s,r,o,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,g=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:v,isHydrating:y}=d;if(m)d.pendingBranch=f,Es(f,m)?(l(m,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():v&&(y||(l(p,g,n,i,s,null,r,o,a),cl(d,g)))):(d.pendingId=jp++,y?(d.isHydrating=!1,d.activeBranch=m):c(m,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),v?(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():(l(p,g,n,i,s,null,r,o,a),cl(d,g))):p&&Es(f,p)?(l(p,f,n,i,s,d,r,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0&&d.resolve()));else if(p&&Es(f,p))l(p,f,n,i,s,d,r,o,a),cl(d,f);else if(su(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=jp++,l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0)d.resolve();else{const{timeout:x,pendingId:E}=d;x>0?setTimeout(()=>{d.pendingId===E&&d.fallback(g)},x):x===0&&d.fallback(g)}}function HE(t,e,n,i,s,r,o,a,l,c,u=!1){const{p:d,m:f,um:g,n:p,o:{parentNode:m,remove:v}}=c;let y;const x=vR(t);x&&e&&e.pendingBranch&&(y=e.pendingId,e.deps++);const E=t.props?Rx(t.props.timeout):void 0,w=r,b={vnode:t,parent:e,parentComponent:n,namespace:o,container:i,hiddenContainer:s,deps:0,pendingId:jp++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(C=!1,k=!1){const{vnode:T,activeBranch:A,pendingBranch:I,pendingId:V,effects:Y,parentComponent:ne,container:N}=b;let B=!1;b.isHydrating?b.isHydrating=!1:C||(B=A&&I.transition&&I.transition.mode==="out-in",B&&(A.transition.afterLeave=()=>{V===b.pendingId&&(f(I,N,r===w?p(A):r,0),Np(Y))}),A&&(m(A.el)===N&&(r=p(A)),g(A,ne,b,!0)),B||f(I,N,r,0)),cl(b,I),b.pendingBranch=null,b.isInFallback=!1;let R=b.parent,W=!1;for(;R;){if(R.pendingBranch){R.effects.push(...Y),W=!0;break}R=R.parent}!W&&!B&&Np(Y),b.effects=[],x&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!k&&e.resolve()),su(T,"onResolve")},fallback(C){if(!b.pendingBranch)return;const{vnode:k,activeBranch:T,parentComponent:A,container:I,namespace:V}=b;su(k,"onFallback");const Y=p(T),ne=()=>{b.isInFallback&&(d(null,C,I,Y,A,null,V,a,l),cl(b,C))},N=C.transition&&C.transition.mode==="out-in";N&&(T.transition.afterLeave=ne),b.isInFallback=!0,g(T,A,null,!0),N||ne()},move(C,k,T){b.activeBranch&&f(b.activeBranch,C,k,T),b.container=C},next(){return b.activeBranch&&p(b.activeBranch)},registerDep(C,k,T){const A=!!b.pendingBranch;A&&b.deps++;const I=C.vnode.el;C.asyncDep.catch(V=>{Fu(V,C,0)}).then(V=>{if(C.isUnmounted||b.isUnmounted||b.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:Y}=C;Up(C,V,!1),I&&(Y.el=I);const ne=!I&&C.subTree.el;k(C,Y,m(I||C.subTree.el),I?null:p(C.subTree),b,o,T),ne&&v(ne),w_(C,Y.el),A&&--b.deps===0&&b.resolve()})},unmount(C,k){b.isUnmounted=!0,b.activeBranch&&g(b.activeBranch,n,C,k),b.pendingBranch&&g(b.pendingBranch,n,C,k)}};return b}function pR(t,e,n,i,s,r,o,a,l){const c=e.suspense=HE(e,i,n,t.parentNode,document.createElement("div"),null,s,r,o,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function mR(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=gb(i?n.default:n),t.ssFallback=i?gb(n.fallback):$(Nn)}function gb(t){let e;if(Je(t)){const n=yl&&t._c;n&&(t._d=!1,P()),t=t(),n&&(t._d=!0,e=bi,jE())}return Ke(t)&&(t=lR(t)),t=is(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function _R(t,e){e&&e.pendingBranch?Ke(t)?e.effects.push(...t):e.effects.push(t):Np(t)}function cl(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,i&&i.subTree===n&&(i.vnode.el=s,w_(i,s))}function vR(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ie=Symbol.for("v-fgt"),pf=Symbol.for("v-txt"),Nn=Symbol.for("v-cmt"),rh=Symbol.for("v-stc"),Vc=[];let bi=null;function P(t=!1){Vc.push(bi=t?null:[])}function jE(){Vc.pop(),bi=Vc[Vc.length-1]||null}let yl=1;function pb(t){yl+=t,t<0&&bi&&(bi.hasOnce=!0)}function KE(t){return t.dynamicChildren=yl>0?bi||rl:null,jE(),yl>0&&bi&&bi.push(t),t}function F(t,e,n,i,s,r){return KE(h(t,e,n,i,s,r,!0))}function Ce(t,e,n,i,s){return KE($(t,e,n,i,s,!0))}function bl(t){return t?t.__v_isVNode===!0:!1}function Es(t,e){return t.type===e.type&&t.key===e.key}const UE=({key:t})=>t??null,oh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Kt(t)||Ht(t)||Je(t)?{i:wn,r:t,k:e,f:!!n}:t:null);function h(t,e=null,n=null,i=0,s=null,r=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&UE(e),ref:e&&oh(e),scopeId:cE,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:wn};return a?(E_(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Kt(n)?8:16),yl>0&&!o&&bi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&bi.push(l),l}const $=yR;function yR(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===SE)&&(t=Nn),bl(t)){const a=ro(t,e,!0);return n&&E_(a,n),yl>0&&!r&&bi&&(a.shapeFlag&6?bi[bi.indexOf(t)]=a:bi.push(a)),a.patchFlag=-2,a}if(TR(t)&&(t=t.__vccOpts),e){e=ii(e);let{class:a,style:l}=e;a&&!Kt(a)&&(e.class=Ee(a)),It(l)&&(Ou(l)&&!Ke(l)&&(l=vn({},l)),e.style=Mn(l))}const o=Kt(t)?1:YE(t)?128:dE(t)?64:It(t)?4:Je(t)?2:0;return h(t,e,n,i,s,o,r,!0)}function ii(t){return t?Ou(t)||RE(t)?vn({},t):t:null}function ro(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?xn(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&UE(c),ref:e&&e.ref?n&&r?Ke(r)?r.concat(oh(e)):[r,oh(e)]:oh(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ro(t.ssContent),ssFallback:t.ssFallback&&ro(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&da(u,l.clone(u)),u}function Be(t=" ",e=0){return $(pf,null,t,e)}function se(t="",e=!1){return e?(P(),Ce(Nn,null,t)):$(Nn,null,t)}function is(t){return t==null||typeof t=="boolean"?$(Nn):Ke(t)?$(Ie,null,t.slice()):bl(t)?zr(t):$(pf,null,String(t))}function zr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ro(t)}function E_(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ke(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),E_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!RE(e)?e._ctx=wn:s===3&&wn&&(wn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Je(e)?(e={default:e,_ctx:wn},n=32):(e=String(e),i&64?(n=16,e=[Be(e)]):n=8);t.children=e,t.shapeFlag|=n}function xn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Ee([e.class,i.class]));else if(s==="style")e.style=Mn([e.style,i.style]);else if(sf(s)){const r=e[s],o=i[s];o&&r!==o&&!(Ke(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function ys(t,e,n,i=null){fs(t,e,7,[n,i])}const bR=ME();let wR=0;function xR(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||bR,r={uid:wR++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LE(i,s),emitsOptions:zE(i,s),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:i.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=aR.bind(null,r),t.ce&&t.ce(r),r}let Pn=null;const Bu=()=>Pn||wn;let wh,Kp;{const t=$x(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};wh=e("__VUE_INSTANCE_SETTERS__",n=>Pn=n),Kp=e("__VUE_SSR_SETTERS__",n=>mf=n)}const Vu=t=>{const e=Pn;return wh(t),t.scope.on(),()=>{t.scope.off(),wh(e)}},mb=()=>{Pn&&Pn.scope.off(),wh(null)};function GE(t){return t.vnode.shapeFlag&4}let mf=!1;function ER(t,e=!1,n=!1){e&&Kp(e);const{props:i,children:s}=t.vnode,r=GE(t);KD(t,i,r,e),qD(t,s,n);const o=r?CR(t,e):void 0;return e&&Kp(!1),o}function CR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,OD);const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?qE(t):null,r=Vu(t);po();const o=Nu(i,t,0,[t.props,s]);if(mo(),r(),Px(o)){if(ll(t)||vE(t),o.then(mb,mb),e)return o.then(a=>{Up(t,a,e)}).catch(a=>{Fu(a,t,0)});t.asyncDep=o}else Up(t,o,e)}else XE(t,e)}function Up(t,e,n){Je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:It(e)&&(t.setupState=iE(e)),XE(t,n)}let _b;function XE(t,e,n){const i=t.type;if(!t.render){if(!e&&_b&&!i.render){const s=i.template||__(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=vn(vn({isCustomElement:r,delimiters:a},o),l);i.render=_b(s,c)}}t.render=i.render||$s}{const s=Vu(t);po();try{FD(t)}finally{mo(),s()}}}const SR={get(t,e){return qn(t,"get",""),t[e]}};function qE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,SR),slots:t.slots,emit:t.emit,expose:e}}function _f(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(iE(uf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bc)return Bc[n](t)},has(e,n){return n in e||n in Bc}})):t.proxy}function kR(t,e=!0){return Je(t)?t.displayName||t.name:t.name||e&&t.__name}function TR(t){return Je(t)&&"__vccOpts"in t}const ve=(t,e)=>vD(t,e,mf);function ha(t,e,n){const i=arguments.length;return i===2?It(e)&&!Ke(e)?bl(e)?$(t,null,[e]):$(t,e):$(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&bl(n)&&(n=[n]),$(t,e,n))}const ZE="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gp;const vb=typeof window<"u"&&window.trustedTypes;if(vb)try{Gp=vb.createPolicy("vue",{createHTML:t=>t})}catch{}const JE=Gp?t=>Gp.createHTML(t):t=>t,AR="http://www.w3.org/2000/svg",PR="http://www.w3.org/1998/Math/MathML",tr=typeof document<"u"?document:null,yb=tr&&tr.createElement("template"),MR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?tr.createElementNS(AR,t):e==="mathml"?tr.createElementNS(PR,t):n?tr.createElement(t,{is:n}):tr.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>tr.createTextNode(t),createComment:t=>tr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{yb.innerHTML=JE(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=yb.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Tr="transition",oc="animation",wl=Symbol("_vtc"),QE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eC=vn({},gE,QE),IR=t=>(t.displayName="Transition",t.props=eC,t),vt=IR((t,{slots:e})=>ha(AD,tC(t),e)),Lo=(t,e=[])=>{Ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},bb=t=>t?Ke(t)?t.some(e=>e.length>1):t.length>1:!1;function tC(t){const e={};for(const Y in t)Y in QE||(e[Y]=t[Y]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,p=DR(s),m=p&&p[0],v=p&&p[1],{onBeforeEnter:y,onEnter:x,onEnterCancelled:E,onLeave:w,onLeaveCancelled:b,onBeforeAppear:C=y,onAppear:k=x,onAppearCancelled:T=E}=e,A=(Y,ne,N)=>{Or(Y,ne?u:a),Or(Y,ne?c:o),N&&N()},I=(Y,ne)=>{Y._isLeaving=!1,Or(Y,d),Or(Y,g),Or(Y,f),ne&&ne()},V=Y=>(ne,N)=>{const B=Y?k:x,R=()=>A(ne,Y,N);Lo(B,[ne,R]),wb(()=>{Or(ne,Y?l:r),qs(ne,Y?u:a),bb(B)||xb(ne,i,m,R)})};return vn(e,{onBeforeEnter(Y){Lo(y,[Y]),qs(Y,r),qs(Y,o)},onBeforeAppear(Y){Lo(C,[Y]),qs(Y,l),qs(Y,c)},onEnter:V(!1),onAppear:V(!0),onLeave(Y,ne){Y._isLeaving=!0;const N=()=>I(Y,ne);qs(Y,d),qs(Y,f),iC(),wb(()=>{Y._isLeaving&&(Or(Y,d),qs(Y,g),bb(w)||xb(Y,i,v,N))}),Lo(w,[Y,N])},onEnterCancelled(Y){A(Y,!1),Lo(E,[Y])},onAppearCancelled(Y){A(Y,!0),Lo(T,[Y])},onLeaveCancelled(Y){I(Y),Lo(b,[Y])}})}function DR(t){if(t==null)return null;if(It(t))return[Tg(t.enter),Tg(t.leave)];{const e=Tg(t);return[e,e]}}function Tg(t){return Rx(t)}function qs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[wl]||(t[wl]=new Set)).add(e)}function Or(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[wl];n&&(n.delete(e),n.size||(t[wl]=void 0))}function wb(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let RR=0;function xb(t,e,n,i){const s=t._endId=++RR,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=nC(t,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=g=>{g.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function nC(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),s=i(`${Tr}Delay`),r=i(`${Tr}Duration`),o=Eb(s,r),a=i(`${oc}Delay`),l=i(`${oc}Duration`),c=Eb(a,l);let u=null,d=0,f=0;e===Tr?o>0&&(u=Tr,d=o,f=r.length):e===oc?c>0&&(u=oc,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Tr:oc:null,f=u?u===Tr?r.length:l.length:0);const g=u===Tr&&/\b(transform|all)(,|$)/.test(i(`${Tr}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:g}}function Eb(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Cb(n)+Cb(t[i])))}function Cb(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function iC(){return document.body.offsetHeight}function $R(t,e,n){const i=t[wl];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xh=Symbol("_vod"),sC=Symbol("_vsh"),ah={beforeMount(t,{value:e},{transition:n}){t[xh]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ac(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),ac(t,!0),i.enter(t)):i.leave(t,()=>{ac(t,!1)}):ac(t,e))},beforeUnmount(t,{value:e}){ac(t,e)}};function ac(t,e){t.style.display=e?t[xh]:"none",t[sC]=!e}const rC=Symbol("");function oC(t){const e=Bu();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>Eh(r,s))},i=()=>{const s=t(e.proxy);e.ce?Eh(e.ce,s):Xp(e.subTree,s),n(s)};bE(()=>{sR(i)}),Vt(()=>{const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),_o(()=>s.disconnect())})}function Xp(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Xp(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Eh(t.el,e);else if(t.type===Ie)t.children.forEach(n=>Xp(n,e));else if(t.type===rh){let{el:n,anchor:i}=t;for(;n&&(Eh(n,e),n!==i);)n=n.nextSibling}}function Eh(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const s in e)n.setProperty(`--${s}`,e[s]),i+=`--${s}: ${e[s]};`;n[rC]=i}}const LR=/(^|;)\s*display\s*:/;function OR(t,e,n){const i=t.style,s=Kt(n);let r=!1;if(n&&!s){if(e)if(Kt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&lh(i,a,"")}else for(const o in e)n[o]==null&&lh(i,o,"");for(const o in n)o==="display"&&(r=!0),lh(i,o,n[o])}else if(s){if(e!==n){const o=i[rC];o&&(n+=";"+o),i.cssText=n,r=LR.test(n)}}else e&&t.removeAttribute("style");xh in t&&(t[xh]=r?i.display:"",t[sC]&&(i.display="none"))}const Sb=/\s*!important$/;function lh(t,e,n){if(Ke(n))n.forEach(i=>lh(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=NR(t,e);Sb.test(n)?t.setProperty(go(i),n.replace(Sb,""),"important"):t[i]=n}}const kb=["Webkit","Moz","ms"],Ag={};function NR(t,e){const n=Ag[e];if(n)return n;let i=Ui(e);if(i!=="filter"&&i in t)return Ag[e]=i;i=of(i);for(let s=0;s<kb.length;s++){const r=kb[s]+i;if(r in t)return Ag[e]=r}return e}const Tb="http://www.w3.org/1999/xlink";function Ab(t,e,n,i,s,r=zI(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Tb,e.slice(6,e.length)):t.setAttributeNS(Tb,e,n):n==null||r&&!Lx(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Fs(n)?String(n):n)}function Pb(t,e,n,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?JE(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let r=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Lx(n):n==null&&o==="string"?(n="",r=!0):o==="number"&&(n=0,r=!0)}try{t[e]=n}catch{}r&&t.removeAttribute(e)}function or(t,e,n,i){t.addEventListener(e,n,i)}function FR(t,e,n,i){t.removeEventListener(e,n,i)}const Mb=Symbol("_vei");function BR(t,e,n,i,s=null){const r=t[Mb]||(t[Mb]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=VR(e);if(i){const c=r[e]=YR(i,s);or(t,a,c,l)}else o&&(FR(t,a,o,l),r[e]=void 0)}}const Ib=/(?:Once|Passive|Capture)$/;function VR(t){let e;if(Ib.test(t)){e={};let i;for(;i=t.match(Ib);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):go(t.slice(2)),e]}let Pg=0;const WR=Promise.resolve(),zR=()=>Pg||(WR.then(()=>Pg=0),Pg=Date.now());function YR(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;fs(HR(i,n.value),e,5,[i])};return n.value=t,n.attached=zR(),n}function HR(t,e){if(Ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Db=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jR=(t,e,n,i,s,r)=>{const o=s==="svg";e==="class"?$R(t,i,o):e==="style"?OR(t,n,i):sf(e)?n_(e)||BR(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):KR(t,e,i,o))?(Pb(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ab(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Kt(i))?Pb(t,Ui(e),i):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Ab(t,e,i,o))};function KR(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Db(e)&&Je(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Db(e)&&Kt(n)?!1:e in t}const aC=new WeakMap,lC=new WeakMap,Ch=Symbol("_moveCb"),Rb=Symbol("_enterCb"),UR=t=>(delete t.props.mode,t),GR=UR({name:"TransitionGroup",props:vn({},eC,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Bu(),i=fE();let s,r;return xE(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!JR(s[0].el,n.vnode.el,o))return;s.forEach(XR),s.forEach(qR);const a=s.filter(ZR);iC(),a.forEach(l=>{const c=l.el,u=c.style;qs(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Ch]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[Ch]=null,Or(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=lt(t),a=tC(o);let l=o.tag||Ie;if(s=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(s.push(u),da(u,iu(u,a,i,n)),aC.set(u,u.el.getBoundingClientRect()))}r=e.default?m_(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&da(u,iu(u,a,i,n))}return $(l,null,r)}}}),vo=GR;function XR(t){const e=t.el;e[Ch]&&e[Ch](),e[Rb]&&e[Rb]()}function qR(t){lC.set(t,t.el.getBoundingClientRect())}function ZR(t){const e=aC.get(t),n=lC.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function JR(t,e,n){const i=t.cloneNode(),s=t[wl];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=nC(i);return r.removeChild(i),o}const oo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ke(e)?n=>nh(e,n):e};function QR(t){t.target.composing=!0}function $b(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ki=Symbol("_assign"),We={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Ki]=oo(s);const r=i||s.props&&s.props.type==="number";or(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=ph(a)),t[Ki](a)}),n&&or(t,"change",()=>{t.value=t.value.trim()}),e||(or(t,"compositionstart",QR),or(t,"compositionend",$b),or(t,"change",$b))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},o){if(t[Ki]=oo(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?ph(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Gn={deep:!0,created(t,e,n){t[Ki]=oo(n),or(t,"change",()=>{const i=t._modelValue,s=xl(t),r=t.checked,o=t[Ki];if(Ke(i)){const a=r_(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Ul(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(cC(t,r))})},mounted:Lb,beforeUpdate(t,e,n){t[Ki]=oo(n),Lb(t,e,n)}};function Lb(t,{value:e},n){t._modelValue=e;let i;Ke(e)?i=r_(e,n.props.value)>-1:Ul(e)?i=e.has(n.props.value):i=ca(e,cC(t,!0)),t.checked!==i&&(t.checked=i)}const e$={created(t,{value:e},n){t.checked=ca(e,n.props.value),t[Ki]=oo(n),or(t,"change",()=>{t[Ki](xl(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[Ki]=oo(i),e!==n&&(t.checked=ca(e,i.props.value))}},ch={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=Ul(e);or(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?ph(xl(o)):xl(o));t[Ki](t.multiple?s?new Set(r):r:r[0]),t._assigning=!0,Rn(()=>{t._assigning=!1})}),t[Ki]=oo(i)},mounted(t,{value:e}){Ob(t,e)},beforeUpdate(t,e,n){t[Ki]=oo(n)},updated(t,{value:e}){t._assigning||Ob(t,e)}};function Ob(t,e){const n=t.multiple,i=Ke(e);if(!(n&&!i&&!Ul(e))){for(let s=0,r=t.options.length;s<r;s++){const o=t.options[s],a=xl(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=r_(e,a)>-1}else o.selected=e.has(a);else if(ca(xl(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function xl(t){return"_value"in t?t._value:t.value}function cC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const uC={created(t,e,n){Cd(t,e,n,null,"created")},mounted(t,e,n){Cd(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){Cd(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){Cd(t,e,n,i,"updated")}};function t$(t,e){switch(t){case"SELECT":return ch;case"TEXTAREA":return We;default:switch(e){case"checkbox":return Gn;case"radio":return e$;default:return We}}}function Cd(t,e,n,i,s){const o=t$(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,i)}const n$=["ctrl","shift","alt","meta"],i$={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>n$.some(n=>t[`${n}Key`]&&!e.includes(n))},ru=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=i$[e[o]];if(a&&a(s,e))return}return t(s,...r)})},s$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dC=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=go(s.key);if(e.some(o=>o===r||s$[o]===r))return t(s)})},r$=vn({patchProp:jR},MR);let Nb;function hC(){return Nb||(Nb=JD(r$))}const Fb=(...t)=>{hC().render(...t)},o$=(...t)=>{const e=hC().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=l$(i);if(!s)return;const r=e._component;!Je(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,a$(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function a$(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function l$(t){return Kt(t)?document.querySelector(t):t}var c$=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let fC;const vf=t=>fC=t,gC=Symbol();function qp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Wc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Wc||(Wc={}));function u$(){const t=Bx(!0),e=t.run(()=>me({}));let n=[],i=[];const s=uf({install(r){vf(s),s._a=r,r.provide(gC,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return!this._a&&!c$?i.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const pC=()=>{};function Bb(t,e,n,i=pC){t.push(e);const s=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!n&&af()&&o_(s),s}function Ra(t,...e){t.slice().forEach(n=>{n(...e)})}const d$=t=>t(),Vb=Symbol(),Mg=Symbol();function Zp(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];qp(s)&&qp(i)&&t.hasOwnProperty(n)&&!Ht(i)&&!Qr(i)?t[n]=Zp(s,i):t[n]=i}return t}const h$=Symbol();function f$(t){return!qp(t)||!t.hasOwnProperty(h$)}const{assign:Nr}=Object;function g$(t){return!!(Ht(t)&&t.effect)}function p$(t,e,n,i){const{state:s,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=gD(n.state.value[t]);return Nr(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=uf(ve(()=>{vf(n);const g=n._s.get(t);return o[f].call(g,g)})),d),{}))}return l=mC(t,c,e,n,i,!0),l}function mC(t,e,n={},i,s,r){let o;const a=Nr({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],g;const p=i.state.value[t];!r&&!p&&(i.state.value[t]={}),me({});let m;function v(T){let A;c=u=!1,typeof T=="function"?(T(i.state.value[t]),A={type:Wc.patchFunction,storeId:t,events:g}):(Zp(i.state.value[t],T),A={type:Wc.patchObject,payload:T,storeId:t,events:g});const I=m=Symbol();Rn().then(()=>{m===I&&(c=!0)}),u=!0,Ra(d,A,i.state.value[t])}const y=r?function(){const{state:A}=n,I=A?A():{};this.$patch(V=>{Nr(V,I)})}:pC;function x(){o.stop(),d=[],f=[],i._s.delete(t)}const E=(T,A="")=>{if(Vb in T)return T[Mg]=A,T;const I=function(){vf(i);const V=Array.from(arguments),Y=[],ne=[];function N(W){Y.push(W)}function B(W){ne.push(W)}Ra(f,{args:V,name:I[Mg],store:b,after:N,onError:B});let R;try{R=T.apply(this&&this.$id===t?this:b,V)}catch(W){throw Ra(ne,W),W}return R instanceof Promise?R.then(W=>(Ra(Y,W),W)).catch(W=>(Ra(ne,W),Promise.reject(W))):(Ra(Y,R),R)};return I[Vb]=!0,I[Mg]=A,I},w={_p:i,$id:t,$onAction:Bb.bind(null,f),$patch:v,$reset:y,$subscribe(T,A={}){const I=Bb(d,T,A.detached,()=>V()),V=o.run(()=>jt(()=>i.state.value[t],Y=>{(A.flush==="sync"?u:c)&&T({storeId:t,type:Wc.direct,events:g},Y)},Nr({},l,A)));return I},$dispose:x},b=Ei(w);i._s.set(t,b);const k=(i._a&&i._a.runWithContext||d$)(()=>i._e.run(()=>(o=Bx()).run(()=>e({action:E}))));for(const T in k){const A=k[T];if(Ht(A)&&!g$(A)||Qr(A))r||(p&&f$(A)&&(Ht(A)?A.value=p[T]:Zp(A,p[T])),i.state.value[t][T]=A);else if(typeof A=="function"){const I=E(A,T);k[T]=I,a.actions[T]=A}}return Nr(b,k),Nr(lt(b),k),Object.defineProperty(b,"$state",{get:()=>i.state.value[t],set:T=>{v(A=>{Nr(A,T)})}}),i._p.forEach(T=>{Nr(b,o.run(()=>T({store:b,app:i._a,pinia:i,options:a})))}),p&&r&&n.hydrate&&n.hydrate(b.$state,p),c=!0,u=!0,b}function _C(t,e,n){let i,s;const r=typeof e=="function";typeof t=="string"?(i=t,s=r?n:e):(s=t,i=t.id);function o(a,l){const c=jD();return a=a||(c?ji(gC,null):null),a&&vf(a),a=fC,a._s.has(i)||(r?mC(i,e,s,a):p$(i,s,a)),a._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Xa=typeof document<"u";function vC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function m$(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&vC(t.default)}const kt=Object.assign;function Ig(t,e){const n={};for(const i in e){const s=e[i];n[i]=gs(s)?s.map(t):t(s)}return n}const zc=()=>{},gs=Array.isArray,yC=/#/g,_$=/&/g,v$=/\//g,y$=/=/g,b$=/\?/g,bC=/\+/g,w$=/%5B/g,x$=/%5D/g,wC=/%5E/g,E$=/%60/g,xC=/%7B/g,C$=/%7C/g,EC=/%7D/g,S$=/%20/g;function C_(t){return encodeURI(""+t).replace(C$,"|").replace(w$,"[").replace(x$,"]")}function k$(t){return C_(t).replace(xC,"{").replace(EC,"}").replace(wC,"^")}function Jp(t){return C_(t).replace(bC,"%2B").replace(S$,"+").replace(yC,"%23").replace(_$,"%26").replace(E$,"`").replace(xC,"{").replace(EC,"}").replace(wC,"^")}function T$(t){return Jp(t).replace(y$,"%3D")}function A$(t){return C_(t).replace(yC,"%23").replace(b$,"%3F")}function P$(t){return t==null?"":A$(t).replace(v$,"%2F")}function ou(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const M$=/\/$/,I$=t=>t.replace(M$,"");function Dg(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=L$(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:ou(o)}}function D$(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Wb(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function R$(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&El(e.matched[i],n.matched[s])&&CC(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function El(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function CC(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!$$(t[n],e[n]))return!1;return!0}function $$(t,e){return gs(t)?zb(t,e):gs(e)?zb(e,t):t===e}function zb(t,e){return gs(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function L$(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const Ar={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var au;(function(t){t.pop="pop",t.push="push"})(au||(au={}));var Yc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Yc||(Yc={}));function O$(t){if(!t)if(Xa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),I$(t)}const N$=/^[^#]+#/;function F$(t,e){return t.replace(N$,"#")+e}function B$(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const yf=()=>({left:window.scrollX,top:window.scrollY});function V$(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=B$(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Yb(t,e){return(history.state?history.state.position-e:-1)+t}const Qp=new Map;function W$(t,e){Qp.set(t,e)}function z$(t){const e=Qp.get(t);return Qp.delete(t),e}let Y$=()=>location.protocol+"//"+location.host;function SC(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Wb(l,"")}return Wb(n,t)+i+s}function H$(t,e,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const g=SC(t,location),p=n.value,m=e.value;let v=0;if(f){if(n.value=g,e.value=f,o&&o===p){o=null;return}v=m?f.position-m.position:0}else i(g);s.forEach(y=>{y(n.value,p,{delta:v,type:au.pop,direction:v?v>0?Yc.forward:Yc.back:Yc.unknown})})};function l(){o=n.value}function c(f){s.push(f);const g=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(kt({},f.state,{scroll:yf()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Hb(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?yf():null}}function j$(t){const{history:e,location:n}=window,i={value:SC(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Y$()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(l,c){const u=kt({},e.state,Hb(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=kt({},s.value,e.state,{forward:l,scroll:yf()});r(u.current,u,!0);const d=kt({},Hb(i.value,l,null),{position:u.position+1},c);r(l,d,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function K$(t){t=O$(t);const e=j$(t),n=H$(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=kt({location:"",base:t,go:i,createHref:F$.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function U$(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),K$(t)}function G$(t){return typeof t=="string"||t&&typeof t=="object"}function kC(t){return typeof t=="string"||typeof t=="symbol"}const TC=Symbol("");var jb;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(jb||(jb={}));function Cl(t,e){return kt(new Error,{type:t,[TC]:!0},e)}function Ks(t,e){return t instanceof Error&&TC in t&&(e==null||!!(t.type&e))}const Kb="[^/]+?",X$={sensitive:!1,strict:!1,start:!0,end:!0},q$=/[.+*?^${}()[\]/\\]/g;function Z$(t,e){const n=kt({},X$,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let g=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(q$,"\\$&"),g+=40;else if(f.type===1){const{value:p,repeatable:m,optional:v,regexp:y}=f;r.push({name:p,repeatable:m,optional:v});const x=y||Kb;if(x!==Kb){g+=10;try{new RegExp(`(${x})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${x}): `+w.message)}}let E=m?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;d||(E=v&&c.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),s+=E,g+=20,v&&(g+=-8),m&&(g+=-20),x===".*"&&(g+=-50)}u.push(g)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",p=r[f-1];d[p.name]=g&&p.repeatable?g.split("/"):g}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:p,repeatable:m,optional:v}=g,y=p in c?c[p]:"";if(gs(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const x=gs(y)?y.join("/"):y;if(!x)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=x}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function J$(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function AC(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=J$(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(Ub(i))return 1;if(Ub(s))return-1}return s.length-i.length}function Ub(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Q$={type:0,value:""},eL=/[a-zA-Z0-9_]/;function tL(t){if(!t)return[[]];if(t==="/")return[[Q$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:eL.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function nL(t,e,n){const i=Z$(tL(t.path),n),s=kt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function iL(t,e){const n=[],i=new Map;e=Zb({strict:!1,end:!0,sensitive:!1},e);function s(d){return i.get(d)}function r(d,f,g){const p=!g,m=Xb(d);m.aliasOf=g&&g.record;const v=Zb(e,d),y=[m];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const b of w)y.push(Xb(kt({},m,{components:g?g.record.components:m.components,path:b,aliasOf:g?g.record:m})))}let x,E;for(const w of y){const{path:b}=w;if(f&&b[0]!=="/"){const C=f.record.path,k=C[C.length-1]==="/"?"":"/";w.path=f.record.path+(b&&k+b)}if(x=nL(w,f,v),g?g.alias.push(x):(E=E||x,E!==x&&E.alias.push(x),p&&d.name&&!qb(x)&&o(d.name)),PC(x)&&l(x),m.children){const C=m.children;for(let k=0;k<C.length;k++)r(C[k],x,g&&g.children[k])}g=g||x}return E?()=>{o(E)}:zc}function o(d){if(kC(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=oL(d,n);n.splice(f,0,d),d.record.name&&!qb(d)&&i.set(d.record.name,d)}function c(d,f){let g,p={},m,v;if("name"in d&&d.name){if(g=i.get(d.name),!g)throw Cl(1,{location:d});v=g.record.name,p=kt(Gb(f.params,g.keys.filter(E=>!E.optional).concat(g.parent?g.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&Gb(d.params,g.keys.map(E=>E.name))),m=g.stringify(p)}else if(d.path!=null)m=d.path,g=n.find(E=>E.re.test(m)),g&&(p=g.parse(m),v=g.record.name);else{if(g=f.name?i.get(f.name):n.find(E=>E.re.test(f.path)),!g)throw Cl(1,{location:d,currentLocation:f});v=g.record.name,p=kt({},f.params,d.params),m=g.stringify(p)}const y=[];let x=g;for(;x;)y.unshift(x.record),x=x.parent;return{name:v,path:m,params:p,matched:y,meta:rL(y)}}t.forEach(d=>r(d));function u(){n.length=0,i.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Gb(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Xb(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:sL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function sL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function qb(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function rL(t){return t.reduce((e,n)=>kt(e,n.meta),{})}function Zb(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function oL(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;AC(t,e[r])<0?i=r:n=r+1}const s=aL(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function aL(t){let e=t;for(;e=e.parent;)if(PC(e)&&AC(t,e)===0)return e}function PC({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function lL(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(bC," "),o=r.indexOf("="),a=ou(o<0?r:r.slice(0,o)),l=o<0?null:ou(r.slice(o+1));if(a in e){let c=e[a];gs(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Jb(t){let e="";for(let n in t){const i=t[n];if(n=T$(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(gs(i)?i.map(r=>r&&Jp(r)):[i&&Jp(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function cL(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=gs(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const uL=Symbol(""),Qb=Symbol(""),bf=Symbol(""),S_=Symbol(""),em=Symbol("");function lc(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Yr(t,e,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Cl(4,{from:n,to:e})):f instanceof Error?l(f):G$(f)?l(Cl(2,{from:e,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(i&&i.instances[s],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Rg(t,e,n,i,s=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(vC(l)){const u=(l.__vccOpts||l)[e];u&&r.push(Yr(u,n,i,o,a,s))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=m$(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const g=(d.__vccOpts||d)[e];return g&&Yr(g,n,i,o,a,s)()}))}}return r}function e0(t){const e=ji(bf),n=ji(S_),i=ve(()=>{const l=Z(t.to);return e.resolve(l)}),s=ve(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(El.bind(null,u));if(f>-1)return f;const g=t0(l[c-2]);return c>1&&t0(u)===g&&d[d.length-1].path!==g?d.findIndex(El.bind(null,l[c-2])):f}),r=ve(()=>s.value>-1&&gL(n.params,i.value.params)),o=ve(()=>s.value>-1&&s.value===n.matched.length-1&&CC(n.params,i.value.params));function a(l={}){return fL(l)?e[Z(t.replace)?"replace":"push"](Z(t.to)).catch(zc):Promise.resolve()}return{route:i,href:ve(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const dL=fn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:e0,setup(t,{slots:e}){const n=Ei(e0(t)),{options:i}=ji(bf),s=ve(()=>({[n0(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[n0(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:ha("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),hL=dL;function fL(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gL(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!gs(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function t0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const n0=(t,e,n)=>t??e??n,pL=fn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=ji(em),s=ve(()=>t.route||i.value),r=ji(Qb,0),o=ve(()=>{let c=Z(r);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=ve(()=>s.value.matched[o.value]);sh(Qb,ve(()=>o.value+1)),sh(uL,a),sh(em,s);const l=me();return jt(()=>[l.value,a.value,t.name],([c,u,d],[f,g,p])=>{u&&(u.instances[d]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!El(u,g)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return i0(n.default,{Component:f,route:c});const g=d.props[u],p=g?g===!0?c.params:typeof g=="function"?g(c):g:null,v=ha(f,kt({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return i0(n.default,{Component:v,route:c})||v}}});function i0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const MC=pL;function mL(t){const e=iL(t.routes,t),n=t.parseQuery||lL,i=t.stringifyQuery||Jb,s=t.history,r=lc(),o=lc(),a=lc(),l=df(Ar);let c=Ar;Xa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ig.bind(null,L=>""+L),d=Ig.bind(null,P$),f=Ig.bind(null,ou);function g(L,le){let de,xe;return kC(L)?(de=e.getRecordMatcher(L),xe=le):xe=L,e.addRoute(xe,de)}function p(L){const le=e.getRecordMatcher(L);le&&e.removeRoute(le)}function m(){return e.getRoutes().map(L=>L.record)}function v(L){return!!e.getRecordMatcher(L)}function y(L,le){if(le=kt({},le||l.value),typeof L=="string"){const O=Dg(n,L,le.path),K=e.resolve({path:O.path},le),U=s.createHref(O.fullPath);return kt(O,K,{params:f(K.params),hash:ou(O.hash),redirectedFrom:void 0,href:U})}let de;if(L.path!=null)de=kt({},L,{path:Dg(n,L.path,le.path).path});else{const O=kt({},L.params);for(const K in O)O[K]==null&&delete O[K];de=kt({},L,{params:d(O)}),le.params=d(le.params)}const xe=e.resolve(de,le),z=L.hash||"";xe.params=u(f(xe.params));const fe=D$(i,kt({},L,{hash:k$(z),path:xe.path})),S=s.createHref(fe);return kt({fullPath:fe,hash:z,query:i===Jb?cL(L.query):L.query||{}},xe,{redirectedFrom:void 0,href:S})}function x(L){return typeof L=="string"?Dg(n,L,l.value.path):kt({},L)}function E(L,le){if(c!==L)return Cl(8,{from:le,to:L})}function w(L){return k(L)}function b(L){return w(kt(x(L),{replace:!0}))}function C(L){const le=L.matched[L.matched.length-1];if(le&&le.redirect){const{redirect:de}=le;let xe=typeof de=="function"?de(L):de;return typeof xe=="string"&&(xe=xe.includes("?")||xe.includes("#")?xe=x(xe):{path:xe},xe.params={}),kt({query:L.query,hash:L.hash,params:xe.path!=null?{}:L.params},xe)}}function k(L,le){const de=c=y(L),xe=l.value,z=L.state,fe=L.force,S=L.replace===!0,O=C(de);if(O)return k(kt(x(O),{state:typeof O=="object"?kt({},z,O.state):z,force:fe,replace:S}),le||de);const K=de;K.redirectedFrom=le;let U;return!fe&&R$(i,xe,de)&&(U=Cl(16,{to:K,from:xe}),ce(xe,xe,!0,!1)),(U?Promise.resolve(U):I(K,xe)).catch(oe=>Ks(oe)?Ks(oe,2)?oe:H(oe):X(oe,K,xe)).then(oe=>{if(oe){if(Ks(oe,2))return k(kt({replace:S},x(oe.to),{state:typeof oe.to=="object"?kt({},z,oe.to.state):z,force:fe}),le||K)}else oe=Y(K,xe,!0,S,z);return V(K,xe,oe),oe})}function T(L,le){const de=E(L,le);return de?Promise.reject(de):Promise.resolve()}function A(L){const le=D.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(L):L()}function I(L,le){let de;const[xe,z,fe]=_L(L,le);de=Rg(xe.reverse(),"beforeRouteLeave",L,le);for(const O of xe)O.leaveGuards.forEach(K=>{de.push(Yr(K,L,le))});const S=T.bind(null,L,le);return de.push(S),ue(de).then(()=>{de=[];for(const O of r.list())de.push(Yr(O,L,le));return de.push(S),ue(de)}).then(()=>{de=Rg(z,"beforeRouteUpdate",L,le);for(const O of z)O.updateGuards.forEach(K=>{de.push(Yr(K,L,le))});return de.push(S),ue(de)}).then(()=>{de=[];for(const O of fe)if(O.beforeEnter)if(gs(O.beforeEnter))for(const K of O.beforeEnter)de.push(Yr(K,L,le));else de.push(Yr(O.beforeEnter,L,le));return de.push(S),ue(de)}).then(()=>(L.matched.forEach(O=>O.enterCallbacks={}),de=Rg(fe,"beforeRouteEnter",L,le,A),de.push(S),ue(de))).then(()=>{de=[];for(const O of o.list())de.push(Yr(O,L,le));return de.push(S),ue(de)}).catch(O=>Ks(O,8)?O:Promise.reject(O))}function V(L,le,de){a.list().forEach(xe=>A(()=>xe(L,le,de)))}function Y(L,le,de,xe,z){const fe=E(L,le);if(fe)return fe;const S=le===Ar,O=Xa?history.state:{};de&&(xe||S?s.replace(L.fullPath,kt({scroll:S&&O&&O.scroll},z)):s.push(L.fullPath,z)),l.value=L,ce(L,le,de,S),H()}let ne;function N(){ne||(ne=s.listen((L,le,de)=>{if(!ee.listening)return;const xe=y(L),z=C(xe);if(z){k(kt(z,{replace:!0}),xe).catch(zc);return}c=xe;const fe=l.value;Xa&&W$(Yb(fe.fullPath,de.delta),yf()),I(xe,fe).catch(S=>Ks(S,12)?S:Ks(S,2)?(k(S.to,xe).then(O=>{Ks(O,20)&&!de.delta&&de.type===au.pop&&s.go(-1,!1)}).catch(zc),Promise.reject()):(de.delta&&s.go(-de.delta,!1),X(S,xe,fe))).then(S=>{S=S||Y(xe,fe,!1),S&&(de.delta&&!Ks(S,8)?s.go(-de.delta,!1):de.type===au.pop&&Ks(S,20)&&s.go(-1,!1)),V(xe,fe,S)}).catch(zc)}))}let B=lc(),R=lc(),W;function X(L,le,de){H(L);const xe=R.list();return xe.length?xe.forEach(z=>z(L,le,de)):console.error(L),Promise.reject(L)}function J(){return W&&l.value!==Ar?Promise.resolve():new Promise((L,le)=>{B.add([L,le])})}function H(L){return W||(W=!L,N(),B.list().forEach(([le,de])=>L?de(L):le()),B.reset()),L}function ce(L,le,de,xe){const{scrollBehavior:z}=t;if(!Xa||!z)return Promise.resolve();const fe=!de&&z$(Yb(L.fullPath,0))||(xe||!de)&&history.state&&history.state.scroll||null;return Rn().then(()=>z(L,le,fe)).then(S=>S&&V$(S)).catch(S=>X(S,L,le))}const ie=L=>s.go(L);let te;const D=new Set,ee={currentRoute:l,listening:!0,addRoute:g,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:m,resolve:y,options:t,push:w,replace:b,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:R.add,isReady:J,install(L){const le=this;L.component("RouterLink",hL),L.component("RouterView",MC),L.config.globalProperties.$router=le,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Z(l)}),Xa&&!te&&l.value===Ar&&(te=!0,w(s.location).catch(z=>{}));const de={};for(const z in Ar)Object.defineProperty(de,z,{get:()=>l.value[z],enumerable:!0});L.provide(bf,le),L.provide(S_,eE(de)),L.provide(em,l);const xe=L.unmount;D.add(L),L.unmount=function(){D.delete(L),D.size<1&&(c=Ar,ne&&ne(),ne=null,l.value=Ar,te=!1,W=!1),xe()}}};function ue(L){return L.reduce((le,de)=>le.then(()=>A(de)),Promise.resolve())}return ee}function _L(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>El(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>El(c,l))||s.push(l))}return[n,i,s]}function IC(){return ji(bf)}function Wu(t){return ji(S_)}const vL={getCookie(t){const n=`; ${document.cookie}`.split(`; ${t}=`);if(n.length===2)return n.pop().split(";").shift()}},s0="[a-fA-F\\d:]",jr=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${s0})|(?<=${s0})(?=\\s|$))`:"",ns="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",_n="[a-fA-F\\d]{1,4}",wf=`
(?:
(?:${_n}:){7}(?:${_n}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${_n}:){6}(?:${ns}|:${_n}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${_n}:){5}(?::${ns}|(?::${_n}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${_n}:){4}(?:(?::${_n}){0,1}:${ns}|(?::${_n}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${_n}:){3}(?:(?::${_n}){0,2}:${ns}|(?::${_n}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${_n}:){2}(?:(?::${_n}){0,3}:${ns}|(?::${_n}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${_n}:){1}(?:(?::${_n}){0,4}:${ns}|(?::${_n}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${_n}){0,5}:${ns}|(?::${_n}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),yL=new RegExp(`(?:^${ns}$)|(?:^${wf}$)`),bL=new RegExp(`^${ns}$`),wL=new RegExp(`^${wf}$`),xf=t=>t&&t.exact?yL:new RegExp(`(?:${jr(t)}${ns}${jr(t)})|(?:${jr(t)}${wf}${jr(t)})`,"g");xf.v4=t=>t&&t.exact?bL:new RegExp(`${jr(t)}${ns}${jr(t)}`,"g");xf.v6=t=>t&&t.exact?wL:new RegExp(`${jr(t)}${wf}${jr(t)}`,"g");const DC={exact:!1},RC=`${xf.v4().source}\\/(3[0-2]|[12]?[0-9])`,$C=`${xf.v6().source}\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])`,xL=new RegExp(`^${RC}$`),EL=new RegExp(`^${$C}$`),CL=({exact:t}=DC)=>t?xL:new RegExp(RC,"g"),SL=({exact:t}=DC)=>t?EL:new RegExp($C,"g"),LC=CL({exact:!0}),OC=SL({exact:!0}),k_=t=>LC.test(t)?4:OC.test(t)?6:0;k_.v4=t=>LC.test(t);k_.v6=t=>OC.test(t);const At=t=>{const e=Xe();if(e.Locale===null)return t;const i=Object.keys(e.Locale).filter(s=>t.match(new RegExp("^"+s+"$","gi"))!==null);return i.length===0||i.length>1?t:t.replace(new RegExp(i[0],"gi"),e.Locale[i[0]])},$n=_C("WireguardConfigurationsStore",{state:()=>({Configurations:void 0,searchString:"",ConfigurationListInterval:void 0,PeerScheduleJobs:{dropdowns:{Field:[{display:At("Total Received"),value:"total_receive",unit:"GB",type:"number"},{display:At("Total Sent"),value:"total_sent",unit:"GB",type:"number"},{display:At("Total Usage"),value:"total_data",unit:"GB",type:"number"},{display:At("Date"),value:"date",type:"date"}],Operator:[{display:At("larger than"),value:"lgt"}],Action:[{display:At("Restrict Peer"),value:"restrict"},{display:At("Delete Peer"),value:"delete"}]}}}),actions:{async getConfigurations(){await Pt("/api/getWireguardConfigurations",{},t=>{t.status&&(this.Configurations=t.data)})},regexCheckIP(t){return/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))/.test(t)},checkCIDR(t){return k_(t)!==0},checkWGKeyLength(t){return console.log(t),/^[A-Za-z0-9+/]{43}=?=?$/.test(t)}}}),ze=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},kL={name:"localeText",props:{t:""},computed:{getLocaleText(){return At(this.t)}}};function TL(t,e,n,i,s,r){return pe(this.getLocaleText)}const Le=ze(kL,[["render",TL]]),AL={name:"navbar",components:{LocaleText:Le},setup(){const t=$n(),e=Xe();return{wireguardConfigurationsStore:t,dashboardConfigurationStore:e}},data(){return{updateAvailable:!1,updateMessage:"Checking for update...",updateUrl:""}},mounted(){Pt("/api/getDashboardUpdate",{},t=>{t.status?(t.data&&(this.updateAvailable=!0,this.updateUrl=t.data),this.updateMessage=t.message):(this.updateMessage=At("Failed to check available update"),console.log(`Failed to get update: ${t.message}`))})}},PL=["data-bs-theme"],ML={id:"sidebarMenu",class:"bg-body-tertiary sidebar border h-100 rounded-3 shadow overflow-y-scroll"},IL={class:"sidebar-sticky"},DL={class:"nav flex-column px-2"},RL={class:"nav-item"},$L={class:"nav-item"},LL={class:"nav-item"},OL={class:"nav-link rounded-3",target:"_blank",href:"https://donaldzou.github.io/WGDashboard-Documentation/user-guides.html"},NL={class:"sidebar-heading px-3 mt-4 mb-1 text-muted text-center"},FL={class:"nav flex-column px-2"},BL={class:"nav-item"},VL={class:"sidebar-heading px-3 mt-4 mb-1 text-muted text-center"},WL={class:"nav flex-column px-2"},zL={class:"nav-item"},YL={class:"nav-item"},HL={class:"nav flex-column px-2 mb-3"},jL={class:"nav-item"},KL={class:"nav-item",style:{"font-size":"0.8rem"}},UL=["href"],GL={class:"nav-link text-muted rounded-3"},XL={key:1,class:"nav-link text-muted rounded-3"};function qL(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("RouterLink");return P(),F("div",{class:Ee(["col-md-3 col-lg-2 d-md-block p-2 navbar-container",{active:this.dashboardConfigurationStore.ShowNavBar}]),"data-bs-theme":i.dashboardConfigurationStore.Configuration.Server.dashboard_theme},[h("nav",ML,[h("div",IL,[e[8]||(e[8]=h("h5",{class:"text-white text-center m-0 py-3 mb-3 btn-brand"},"WGDashboard",-1)),h("ul",DL,[h("li",RL,[$(a,{class:"nav-link rounded-3",to:"/","exact-active-class":"active"},{default:Pe(()=>[e[1]||(e[1]=h("i",{class:"bi bi-house me-2"},null,-1)),$(o,{t:"Home"})]),_:1})]),h("li",$L,[$(a,{class:"nav-link rounded-3",to:"/settings","exact-active-class":"active"},{default:Pe(()=>[e[2]||(e[2]=h("i",{class:"bi bi-gear me-2"},null,-1)),$(o,{t:"Settings"})]),_:1})]),h("li",LL,[h("a",OL,[e[3]||(e[3]=h("i",{class:"bi bi-question-circle me-2"},null,-1)),$(o,{t:"Help"})])])]),e[9]||(e[9]=h("hr",{class:"text-body"},null,-1)),h("h6",NL,[e[4]||(e[4]=h("i",{class:"bi bi-body-text me-2"},null,-1)),$(o,{t:"WireGuard Configurations"})]),h("ul",FL,[(P(!0),F(Ie,null,Ge(this.wireguardConfigurationsStore.Configurations,l=>(P(),F("li",BL,[$(a,{to:"/configuration/"+l.Name+"/peers",class:"nav-link nav-conf-link rounded-3","active-class":"active"},{default:Pe(()=>[h("span",{class:Ee(["dot me-2",{active:l.Status}])},null,2),Be(" "+pe(l.Name),1)]),_:2},1032,["to"])]))),256))]),e[10]||(e[10]=h("hr",{class:"text-body"},null,-1)),h("h6",VL,[e[5]||(e[5]=h("i",{class:"bi bi-tools me-2"},null,-1)),$(o,{t:"Tools"})]),h("ul",WL,[h("li",zL,[$(a,{to:"/ping",class:"nav-link rounded-3","active-class":"active"},{default:Pe(()=>[$(o,{t:"Ping"})]),_:1})]),h("li",YL,[$(a,{to:"/traceroute",class:"nav-link rounded-3","active-class":"active"},{default:Pe(()=>[$(o,{t:"Traceroute"})]),_:1})])]),e[11]||(e[11]=h("hr",{class:"text-body"},null,-1)),h("ul",HL,[h("li",jL,[h("a",{class:"nav-link text-danger rounded-3",onClick:e[0]||(e[0]=l=>this.dashboardConfigurationStore.signOut()),role:"button",style:{"font-weight":"bold"}},[e[6]||(e[6]=h("i",{class:"bi bi-box-arrow-left me-2"},null,-1)),$(o,{t:"Sign Out"})])]),h("li",KL,[this.updateAvailable?(P(),F("a",{key:0,href:this.updateUrl,class:"text-decoration-none rounded-3",target:"_blank"},[h("small",GL,[$(o,{t:this.updateMessage},null,8,["t"]),e[7]||(e[7]=Be(" (")),$(o,{t:"Current Version:"}),Be(" "+pe(i.dashboardConfigurationStore.Configuration.Server.version)+") ",1)])],8,UL)):(P(),F("small",XL,[$(o,{t:this.updateMessage},null,8,["t"]),Be(" ("+pe(i.dashboardConfigurationStore.Configuration.Server.version)+") ",1)]))])])])])],10,PL)}const ZL=ze(AL,[["render",qL],["__scopeId","data-v-461d2bae"]]);var NC={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(sx,function(){var n=1e3,i=6e4,s=36e5,r="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",g="year",p="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var B=["th","st","nd","rd"],R=N%100;return"["+N+(B[(R-20)%10]||B[R]||B[0])+"]"}},E=function(N,B,R){var W=String(N);return!W||W.length>=B?N:""+Array(B+1-W.length).join(R)+N},w={s:E,z:function(N){var B=-N.utcOffset(),R=Math.abs(B),W=Math.floor(R/60),X=R%60;return(B<=0?"+":"-")+E(W,2,"0")+":"+E(X,2,"0")},m:function N(B,R){if(B.date()<R.date())return-N(R,B);var W=12*(R.year()-B.year())+(R.month()-B.month()),X=B.clone().add(W,d),J=R-X<0,H=B.clone().add(W+(J?-1:1),d);return+(-(W+(R-X)/(J?X-H:H-X))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:d,y:g,w:u,d:c,D:p,h:l,m:a,s:o,ms:r,Q:f}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},b="en",C={};C[b]=x;var k="$isDayjsObject",T=function(N){return N instanceof Y||!(!N||!N[k])},A=function N(B,R,W){var X;if(!B)return b;if(typeof B=="string"){var J=B.toLowerCase();C[J]&&(X=J),R&&(C[J]=R,X=J);var H=B.split("-");if(!X&&H.length>1)return N(H[0])}else{var ce=B.name;C[ce]=B,X=ce}return!W&&X&&(b=X),X||!W&&b},I=function(N,B){if(T(N))return N.clone();var R=typeof B=="object"?B:{};return R.date=N,R.args=arguments,new Y(R)},V=w;V.l=A,V.i=T,V.w=function(N,B){return I(N,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var Y=function(){function N(R){this.$L=A(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[k]=!0}var B=N.prototype;return B.parse=function(R){this.$d=function(W){var X=W.date,J=W.utc;if(X===null)return new Date(NaN);if(V.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var H=X.match(v);if(H){var ce=H[2]-1||0,ie=(H[7]||"0").substring(0,3);return J?new Date(Date.UTC(H[1],ce,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ie)):new Date(H[1],ce,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ie)}}return new Date(X)}(R),this.init()},B.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},B.$utils=function(){return V},B.isValid=function(){return this.$d.toString()!==m},B.isSame=function(R,W){var X=I(R);return this.startOf(W)<=X&&X<=this.endOf(W)},B.isAfter=function(R,W){return I(R)<this.startOf(W)},B.isBefore=function(R,W){return this.endOf(W)<I(R)},B.$g=function(R,W,X){return V.u(R)?this[W]:this.set(X,R)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(R,W){var X=this,J=!!V.u(W)||W,H=V.p(R),ce=function(de,xe){var z=V.w(X.$u?Date.UTC(X.$y,xe,de):new Date(X.$y,xe,de),X);return J?z:z.endOf(c)},ie=function(de,xe){return V.w(X.toDate()[de].apply(X.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(xe)),X)},te=this.$W,D=this.$M,ee=this.$D,ue="set"+(this.$u?"UTC":"");switch(H){case g:return J?ce(1,0):ce(31,11);case d:return J?ce(1,D):ce(0,D+1);case u:var L=this.$locale().weekStart||0,le=(te<L?te+7:te)-L;return ce(J?ee-le:ee+(6-le),D);case c:case p:return ie(ue+"Hours",0);case l:return ie(ue+"Minutes",1);case a:return ie(ue+"Seconds",2);case o:return ie(ue+"Milliseconds",3);default:return this.clone()}},B.endOf=function(R){return this.startOf(R,!1)},B.$set=function(R,W){var X,J=V.p(R),H="set"+(this.$u?"UTC":""),ce=(X={},X[c]=H+"Date",X[p]=H+"Date",X[d]=H+"Month",X[g]=H+"FullYear",X[l]=H+"Hours",X[a]=H+"Minutes",X[o]=H+"Seconds",X[r]=H+"Milliseconds",X)[J],ie=J===c?this.$D+(W-this.$W):W;if(J===d||J===g){var te=this.clone().set(p,1);te.$d[ce](ie),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else ce&&this.$d[ce](ie);return this.init(),this},B.set=function(R,W){return this.clone().$set(R,W)},B.get=function(R){return this[V.p(R)]()},B.add=function(R,W){var X,J=this;R=Number(R);var H=V.p(W),ce=function(D){var ee=I(J);return V.w(ee.date(ee.date()+Math.round(D*R)),J)};if(H===d)return this.set(d,this.$M+R);if(H===g)return this.set(g,this.$y+R);if(H===c)return ce(1);if(H===u)return ce(7);var ie=(X={},X[a]=i,X[l]=s,X[o]=n,X)[H]||1,te=this.$d.getTime()+R*ie;return V.w(te,this)},B.subtract=function(R,W){return this.add(-1*R,W)},B.format=function(R){var W=this,X=this.$locale();if(!this.isValid())return X.invalidDate||m;var J=R||"YYYY-MM-DDTHH:mm:ssZ",H=V.z(this),ce=this.$H,ie=this.$m,te=this.$M,D=X.weekdays,ee=X.months,ue=X.meridiem,L=function(xe,z,fe,S){return xe&&(xe[z]||xe(W,J))||fe[z].slice(0,S)},le=function(xe){return V.s(ce%12||12,xe,"0")},de=ue||function(xe,z,fe){var S=xe<12?"AM":"PM";return fe?S.toLowerCase():S};return J.replace(y,function(xe,z){return z||function(fe){switch(fe){case"YY":return String(W.$y).slice(-2);case"YYYY":return V.s(W.$y,4,"0");case"M":return te+1;case"MM":return V.s(te+1,2,"0");case"MMM":return L(X.monthsShort,te,ee,3);case"MMMM":return L(ee,te);case"D":return W.$D;case"DD":return V.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return L(X.weekdaysMin,W.$W,D,2);case"ddd":return L(X.weekdaysShort,W.$W,D,3);case"dddd":return D[W.$W];case"H":return String(ce);case"HH":return V.s(ce,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return de(ce,ie,!0);case"A":return de(ce,ie,!1);case"m":return String(ie);case"mm":return V.s(ie,2,"0");case"s":return String(W.$s);case"ss":return V.s(W.$s,2,"0");case"SSS":return V.s(W.$ms,3,"0");case"Z":return H}return null}(xe)||H.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(R,W,X){var J,H=this,ce=V.p(W),ie=I(R),te=(ie.utcOffset()-this.utcOffset())*i,D=this-ie,ee=function(){return V.m(H,ie)};switch(ce){case g:J=ee()/12;break;case d:J=ee();break;case f:J=ee()/3;break;case u:J=(D-te)/6048e5;break;case c:J=(D-te)/864e5;break;case l:J=D/s;break;case a:J=D/i;break;case o:J=D/n;break;default:J=D}return X?J:V.a(J)},B.daysInMonth=function(){return this.endOf(d).$D},B.$locale=function(){return C[this.$L]},B.locale=function(R,W){if(!R)return this.$L;var X=this.clone(),J=A(R,W,!0);return J&&(X.$L=J),X},B.clone=function(){return V.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},N}(),ne=Y.prototype;return I.prototype=ne,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",g],["$D",p]].forEach(function(N){ne[N[1]]=function(B){return this.$g(B,N[0],N[1])}}),I.extend=function(N,B){return N.$i||(N(B,Y,I),N.$i=!0),I},I.locale=A,I.isDayjs=T,I.unix=function(N){return I(1e3*N)},I.en=C[b],I.Ls=C,I.p={},I})})(NC);var JL=NC.exports;const Fn=VM(JL),QL={name:"message",methods:{dayjs:Fn},components:{LocaleText:Le},props:{message:Object},mounted(){setTimeout(()=>{this.message.show=!1},5e3)}},eO=["id"],tO={class:"card-body"},nO={class:"d-flex"},iO={class:"fw-bold d-block",style:{"text-transform":"uppercase"}},sO={class:"ms-auto"};function rO(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",{class:Ee(["card shadow rounded-3 position-relative message ms-auto",{"text-bg-danger":this.message.type==="danger","text-bg-success":this.message.type==="success","text-bg-warning":this.message.type==="warning"}]),id:this.message.id},[h("div",tO,[h("div",nO,[h("small",iO,[$(o,{t:"FROM "}),Be(" "+pe(this.message.from),1)]),h("small",sO,pe(r.dayjs().format("hh:mm A")),1)]),Be(" "+pe(this.message.content),1)])],10,eO)}const FC=ze(QL,[["render",rO],["__scopeId","data-v-f50b8f0c"]]),oO={name:"index",components:{Message:FC,Navbar:ZL},async setup(){return{dashboardConfigurationStore:Xe()}},computed:{getMessages(){return this.dashboardConfigurationStore.Messages.filter(t=>t.show)}}},aO=["data-bs-theme"],lO={class:"row h-100"},cO={class:"col-md-9 col-lg-10 overflow-y-scroll mb-0 pt-2"},uO={class:"messageCentre text-body position-fixed d-flex"};function dO(t,e,n,i,s,r){const o=Se("Navbar"),a=Se("RouterView"),l=Se("Message");return P(),F("div",{class:"container-fluid flex-grow-1 main","data-bs-theme":this.dashboardConfigurationStore.Configuration.Server.dashboard_theme},[h("div",lO,[$(o),h("main",cO,[(P(),Ce(x_,null,{default:Pe(()=>[$(a,null,{default:Pe(({Component:c})=>[$(vt,{name:"fade2",mode:"out-in",appear:""},{default:Pe(()=>[(P(),Ce(_a(c)))]),_:2},1024)]),_:1})]),_:1})),h("div",uO,[$(vo,{name:"message",tag:"div",class:"position-relative flex-sm-grow-0 flex-grow-1 d-flex align-items-end ms-sm-auto flex-column gap-2"},{default:Pe(()=>[(P(!0),F(Ie,null,Ge(r.getMessages.slice().reverse(),c=>(P(),Ce(l,{message:c,key:c.id},null,8,["message"]))),128))]),_:1})])])])],8,aO)}const hO=ze(oO,[["render",dO],["__scopeId","data-v-93734089"]]),fO={name:"RemoteServer",props:{server:Object},data(){return{active:!1,startTime:void 0,endTime:void 0,errorMsg:"",refreshing:!1}},methods:{async handshake(){this.active=!1,this.server.host&&this.server.apiKey&&(this.refreshing=!0,this.startTime=void 0,this.endTime=void 0,this.startTime=Fn(),await fetch(`${this.server.host}/api/handshake`,{headers:{"content-type":"application/json","wg-dashboard-apikey":this.server.apiKey},method:"GET",signal:AbortSignal.timeout(5e3)}).then(t=>{if(t.status===200)return t.json();throw new Error(t.statusText)}).then(()=>{this.endTime=Fn(),this.active=!0}).catch(t=>{this.active=!1,this.errorMsg=t}),this.refreshing=!1)},async connect(){await fetch(`${this.server.host}/api/authenticate`,{headers:{"content-type":"application/json","wg-dashboard-apikey":this.server.apiKey},body:JSON.stringify({host:window.location.hostname}),method:"POST",signal:AbortSignal.timeout(5e3)}).then(t=>t.json()).then(t=>{this.$emit("setActiveServer"),this.$router.push("/")})}},mounted(){this.handshake()},computed:{getHandshakeTime(){return this.startTime&&this.endTime?`${Fn().subtract(this.startTime).millisecond()}ms`:this.refreshing?At("Pinging..."):this.errorMsg?this.errorMsg:"N/A"}}},gO={class:"card rounded-3"},pO={class:"card-body"},mO={class:"d-flex gap-3 w-100 remoteServerContainer"},_O={class:"d-flex gap-3 align-items-center flex-grow-1"},vO={class:"d-flex gap-3 align-items-center flex-grow-1"},yO={class:"d-flex gap-2 button-group"},bO={class:"card-footer gap-2 d-flex align-items-center"},wO={key:0,class:"spin ms-auto text-primary-emphasis"};function xO(t,e,n,i,s,r){return P(),F("div",gO,[h("div",pO,[h("div",mO,[h("div",_O,[e[7]||(e[7]=h("i",{class:"bi bi-server"},null,-1)),Re(h("input",{class:"form-control form-control-sm",onBlur:e[0]||(e[0]=o=>this.handshake()),"onUpdate:modelValue":e[1]||(e[1]=o=>this.server.host=o),type:"url"},null,544),[[We,this.server.host]])]),h("div",vO,[e[8]||(e[8]=h("i",{class:"bi bi-key-fill"},null,-1)),Re(h("input",{class:"form-control form-control-sm",onBlur:e[2]||(e[2]=o=>this.handshake()),"onUpdate:modelValue":e[3]||(e[3]=o=>this.server.apiKey=o),type:"text"},null,544),[[We,this.server.apiKey]])]),h("div",yO,[h("button",{onClick:e[4]||(e[4]=o=>this.$emit("delete")),class:"ms-auto btn btn-sm bg-danger-subtle text-danger-emphasis border-1 border-danger-subtle"},e[9]||(e[9]=[h("i",{class:"bi bi-trash"},null,-1)])),h("button",{onClick:e[5]||(e[5]=o=>this.connect()),class:Ee([{disabled:!this.active},"ms-auto btn btn-sm bg-success-subtle text-success-emphasis border-1 border-success-subtle"])},e[10]||(e[10]=[h("i",{class:"bi bi-arrow-right-circle"},null,-1)]),2)])])]),h("div",bO,[h("span",{class:Ee(["dot ms-0 me-2",[this.active?"active":"inactive"]])},null,2),h("small",null,pe(this.getHandshakeTime),1),this.refreshing?(P(),F("div",wO,e[11]||(e[11]=[h("i",{class:"bi bi-arrow-clockwise"},null,-1)]))):(P(),F("a",{key:1,role:"button",onClick:e[6]||(e[6]=o=>this.handshake()),class:"text-primary-emphasis text-decoration-none ms-auto disabled"},e[12]||(e[12]=[h("i",{class:"bi bi-arrow-clockwise me"},null,-1)])))])])}const EO=ze(fO,[["render",xO],["__scopeId","data-v-ed7817c7"]]),CO={name:"RemoteServerList",setup(){return{store:Xe()}},components:{LocaleText:Le,RemoteServer:EO}},SO={class:"w-100 mt-3"},kO={class:"d-flex align-items-center mb-3"},TO={class:"mb-0"},AO={class:"w-100 d-flex gap-3 flex-column p-3 border border-1 border-secondary-subtle rounded-3",style:{height:"400px","overflow-y":"scroll"}},PO={key:0,class:"text-muted m-auto"};function MO(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("RemoteServer");return P(),F("div",SO,[h("div",kO,[h("h5",TO,[$(o,{t:"Server List"})]),h("button",{onClick:e[0]||(e[0]=l=>this.store.addCrossServerConfiguration()),class:"btn bg-primary-subtle text-primary-emphasis border-1 border-primary-subtle shadow-sm ms-auto"},[e[1]||(e[1]=h("i",{class:"bi bi-plus-circle-fill me-2"},null,-1)),$(o,{t:"Server"})])]),h("div",AO,[(P(!0),F(Ie,null,Ge(this.store.CrossServerConfiguration.ServerList,(l,c)=>(P(),Ce(a,{onSetActiveServer:u=>this.store.setActiveCrossServer(c),onDelete:u=>this.store.deleteCrossServerConfiguration(c),key:c,server:l},null,8,["onSetActiveServer","onDelete","server"]))),128)),Object.keys(this.store.CrossServerConfiguration.ServerList).length===0?(P(),F("h6",PO,[$(o,{t:"Click"}),e[2]||(e[2]=h("i",{class:"bi bi-plus-circle-fill mx-1"},null,-1)),$(o,{t:"to add your server"})])):se("",!0)])])}const IO=ze(CO,[["render",MO]]),DO={name:"signInInput",methods:{GetLocale:At},props:{id:"",data:"",type:"",placeholder:""},computed:{getLocaleText(){return At(this.placeholder)}}},RO=["type","id","name","placeholder"];function $O(t,e,n,i,s,r){return Re((P(),F("input",{type:n.type,"onUpdate:modelValue":e[0]||(e[0]=o=>this.data[this.id]=o),class:"form-control",id:this.id,name:this.id,autocomplete:"on",placeholder:this.getLocaleText,required:""},null,8,RO)),[[uC,this.data[this.id]]])}const LO=ze(DO,[["render",$O]]),OO={name:"signInTOTP",methods:{GetLocale:At},props:{data:""},computed:{getLocaleText(){return At("OTP from your authenticator")}}},NO=["placeholder"];function FO(t,e,n,i,s,r){return Re((P(),F("input",{class:"form-control totp",required:"",id:"totp",maxlength:"6",type:"text",inputmode:"numeric",autocomplete:"one-time-code",placeholder:this.getLocaleText,"onUpdate:modelValue":e[0]||(e[0]=o=>this.data.totp=o)},null,8,NO)),[[We,this.data.totp]])}const BO=ze(OO,[["render",FO]]),VO={name:"signin",components:{SignInTOTP:BO,SignInInput:LO,LocaleText:Le,RemoteServerList:IO,Message:FC},async setup(){const t=Xe();let e="dark",n=!1,i;return t.IsElectronApp||await Promise.all([Pt("/api/getDashboardTheme",{},s=>{e=s.data}),Pt("/api/isTotpEnabled",{},s=>{n=s.data}),Pt("/api/getDashboardVersion",{},s=>{i=s.data})]),t.removeActiveCrossServer(),{store:t,theme:e,totpEnabled:n,version:i}},data(){return{data:{username:"",password:"",totp:""},loginError:!1,loginErrorMessage:"",loading:!1}},computed:{getMessages(){return this.store.Messages.filter(t=>t.show)},applyLocale(t){return At(t)}},methods:{GetLocale:At,async auth(){this.data.username&&this.data.password&&(this.totpEnabled&&this.data.totp||!this.totpEnabled)?(this.loading=!0,await dt("/api/authenticate",this.data,t=>{t.status?(this.loginError=!1,this.$refs.signInBtn.classList.add("signedIn"),t.message?this.$router.push("/welcome"):this.store.Redirect!==void 0?this.$router.push(this.store.Redirect):this.$router.push("/")):(this.loginError=!0,this.loginErrorMessage=t.message,document.querySelectorAll("input[required]").forEach(e=>{e.classList.remove("is-valid"),e.classList.add("is-invalid")}),this.loading=!1)})):document.querySelectorAll("input[required]").forEach(t=>{t.value.length===0?(t.classList.remove("is-valid"),t.classList.add("is-invalid")):(t.classList.remove("is-invalid"),t.classList.add("is-valid"))})}}},WO=["data-bs-theme"],zO={class:"login-box m-auto"},YO={class:"m-auto",style:{width:"700px"}},HO={class:"mb-0 text-body"},jO={key:0,class:"alert alert-danger mt-2 mb-0",role:"alert"},KO={class:"form-group text-body"},UO={class:"form-group text-body"},GO={key:0,class:"form-group text-body"},XO={class:"btn btn-lg btn-dark ms-auto mt-4 w-100 d-flex btn-brand signInBtn",ref:"signInBtn"},qO={key:0,class:"d-flex w-100"},ZO={key:1,class:"d-flex w-100 align-items-center"},JO={key:3,class:"d-flex mt-3"},QO={class:"form-check form-switch ms-auto"},e3={class:"form-check-label",for:"flexSwitchCheckChecked"},t3={class:"text-muted pb-3 d-block w-100 text-center mt-3"},n3={class:"messageCentre text-body position-absolute end-0 m-3"};function i3(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("SignInInput"),l=Se("SignInTOTP"),c=Se("RemoteServerList"),u=Se("Message");return P(),F("div",{class:"container-fluid login-container-fluid d-flex main flex-column py-4 text-body",style:{"overflow-y":"scroll"},"data-bs-theme":this.theme},[h("div",zO,[h("div",YO,[h("h4",HO,[$(o,{t:"Welcome to"})]),e[7]||(e[7]=h("span",{class:"dashboardLogo display-3"},[h("strong",null,"WGDashboard")],-1)),s.loginError?(P(),F("div",jO,[$(o,{t:this.loginErrorMessage},null,8,["t"])])):se("",!0),this.store.CrossServerConfiguration.Enable?(P(),Ce(c,{key:2})):(P(),F("form",{key:1,onSubmit:e[0]||(e[0]=d=>{d.preventDefault(),this.auth()})},[h("div",KO,[e[2]||(e[2]=h("label",{for:"username",class:"text-left",style:{"font-size":"1rem"}},[h("i",{class:"bi bi-person-circle"})],-1)),$(a,{id:"username",data:this.data,type:"text",placeholder:"Username"},null,8,["data"])]),h("div",UO,[e[3]||(e[3]=h("label",{for:"password",class:"text-left",style:{"font-size":"1rem"}},[h("i",{class:"bi bi-key-fill"})],-1)),$(a,{id:"password",data:this.data,type:"password",placeholder:"Password"},null,8,["data"])]),i.totpEnabled?(P(),F("div",GO,[e[4]||(e[4]=h("label",{for:"totp",class:"text-left",style:{"font-size":"1rem"}},[h("i",{class:"bi bi-lock-fill"})],-1)),$(l,{data:this.data},null,8,["data"])])):se("",!0),h("button",XO,[this.loading?(P(),F("span",ZO,[$(o,{t:"Signing In..."}),e[6]||(e[6]=h("span",{class:"spinner-border ms-auto spinner-border-sm",role:"status"},null,-1))])):(P(),F("span",qO,[$(o,{t:"Sign In"}),e[5]||(e[5]=h("i",{class:"ms-auto bi bi-chevron-right"},null,-1))]))],512)],32)),this.store.IsElectronApp?se("",!0):(P(),F("div",JO,[h("div",QO,[Re(h("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>this.store.CrossServerConfiguration.Enable=d),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked"},null,512),[[Gn,this.store.CrossServerConfiguration.Enable]]),h("label",e3,[$(o,{t:"Access Remote Server"})])])]))])]),h("small",t3,[Be(" WGDashboard "+pe(this.version)+" | Developed with ❤️ by ",1),e[8]||(e[8]=h("a",{href:"https://github.com/donaldzou",target:"_blank"},[h("strong",null,"Donald Zou")],-1))]),h("div",n3,[$(vo,{name:"message",tag:"div",class:"position-relative"},{default:Pe(()=>[(P(!0),F(Ie,null,Ge(r.getMessages.slice().reverse(),d=>(P(),Ce(u,{message:d,key:d.id},null,8,["message"]))),128))]),_:1})])],8,WO)}const s3=ze(VO,[["render",i3],["__scopeId","data-v-95530d22"]]),T_={name:"configurationCard",components:{LocaleText:Le},props:{c:{Name:String,Status:Boolean,PublicKey:String,PrivateKey:String},delay:String},data(){return{configurationToggling:!1}},setup(){return{dashboardConfigurationStore:Xe()}},methods:{toggle(){this.configurationToggling=!0,Pt("/api/toggleWireguardConfiguration/",{configurationName:this.c.Name},t=>{t.status?this.dashboardConfigurationStore.newMessage("Server",`${this.c.Name} ${t.data?"is on":"is off"}`):this.dashboardConfigurationStore.newMessage("Server",t.message,"danger"),this.c.Status=t.data,this.configurationToggling=!1})}}},r0=()=>{oC(t=>({"1d5189b2":t.delay}))},o0=T_.setup;T_.setup=o0?(t,e)=>(r0(),o0(t,e)):r0;const r3={class:"card conf_card rounded-3 shadow text-decoration-none"},o3={class:"mb-0"},a3={class:"card-title mb-0"},l3={class:"card-footer d-flex gap-2 flex-column"},c3={class:"row"},u3={class:"col-6 col-md-3"},d3={class:"text-primary-emphasis col-6 col-md-3"},h3={class:"text-success-emphasis col-6 col-md-3"},f3={class:"text-md-end col-6 col-md-3"},g3={class:"d-flex align-items-center gap-2"},p3={class:"text-muted"},m3={style:{"word-break":"keep-all"}},_3={class:"mb-0 d-block d-lg-inline-block"},v3={style:{"line-break":"anywhere"}},y3={class:"form-check form-switch ms-auto"},b3=["for"],w3={key:4,class:"spinner-border spinner-border-sm ms-2","aria-hidden":"true"},x3=["disabled","id"];function E3(t,e,n,i,s,r){const o=Se("RouterLink"),a=Se("LocaleText");return P(),F("div",r3,[$(o,{to:"/configuration/"+n.c.Name+"/peers",class:"card-body d-flex align-items-center gap-3 flex-wrap text-decoration-none"},{default:Pe(()=>[h("h6",o3,[h("span",{class:Ee(["dot",{active:n.c.Status}])},null,2)]),h("h6",a3,[h("samp",null,pe(n.c.Name),1)]),e[2]||(e[2]=h("h6",{class:"mb-0 ms-auto"},[h("i",{class:"bi bi-chevron-right"})],-1))]),_:1},8,["to"]),h("div",l3,[h("div",c3,[h("small",u3,[e[3]||(e[3]=h("i",{class:"bi bi-arrow-down-up me-2"},null,-1)),Be(pe(n.c.DataUsage.Total>0?n.c.DataUsage.Total.toFixed(4):0)+" GB ",1)]),h("small",d3,[e[4]||(e[4]=h("i",{class:"bi bi-arrow-down me-2"},null,-1)),Be(pe(n.c.DataUsage.Receive>0?n.c.DataUsage.Receive.toFixed(4):0)+" GB ",1)]),h("small",h3,[e[5]||(e[5]=h("i",{class:"bi bi-arrow-up me-2"},null,-1)),Be(pe(n.c.DataUsage.Sent>0?n.c.DataUsage.Sent.toFixed(4):0)+" GB ",1)]),h("small",f3,[h("span",{class:Ee(["dot me-2",{active:n.c.ConnectedPeers>0}])},null,2),Be(" "+pe(n.c.ConnectedPeers)+" / "+pe(n.c.TotalPeers)+" ",1),$(a,{t:"Peers"})])]),h("div",g3,[h("small",p3,[h("strong",m3,[$(a,{t:"Public Key"})])]),h("small",_3,[h("samp",v3,pe(n.c.PublicKey),1)]),h("div",y3,[h("label",{class:"form-check-label",style:{cursor:"pointer"},for:"switch"+n.c.PrivateKey},[!n.c.Status&&this.configurationToggling?(P(),Ce(a,{key:0,t:"Turning Off..."})):n.c.Status&&this.configurationToggling?(P(),Ce(a,{key:1,t:"Turning On..."})):n.c.Status&&!this.configurationToggling?(P(),Ce(a,{key:2,t:"On"})):!n.c.Status&&!this.configurationToggling?(P(),Ce(a,{key:3,t:"Off"})):se("",!0),this.configurationToggling?(P(),F("span",w3)):se("",!0)],8,b3),Re(h("input",{class:"form-check-input",style:{cursor:"pointer"},disabled:this.configurationToggling,type:"checkbox",role:"switch",id:"switch"+n.c.PrivateKey,onChange:e[0]||(e[0]=l=>this.toggle()),"onUpdate:modelValue":e[1]||(e[1]=l=>n.c.Status=l)},null,40,x3),[[Gn,n.c.Status]])])])])])}const C3=ze(T_,[["render",E3],["__scopeId","data-v-a85a04a5"]]),S3={name:"configurationList",components:{LocaleText:Le,ConfigurationCard:C3},async setup(){return{wireguardConfigurationsStore:$n()}},data(){return{configurationLoaded:!1}},async mounted(){await this.wireguardConfigurationsStore.getConfigurations(),this.configurationLoaded=!0,this.wireguardConfigurationsStore.ConfigurationListInterval=setInterval(()=>{this.wireguardConfigurationsStore.getConfigurations()},1e4)},beforeUnmount(){clearInterval(this.wireguardConfigurationsStore.ConfigurationListInterval)}},k3={class:"mt-md-5 mt-3"},T3={class:"container-md"},A3={class:"d-flex mb-4 configurationListTitle align-items-center gap-3"},P3={class:"text-body d-flex"},M3={class:"text-muted",key:"noConfiguration"};function I3(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("RouterLink"),l=Se("ConfigurationCard");return P(),F("div",k3,[h("div",T3,[h("div",A3,[h("h2",P3,[h("span",null,[$(o,{t:"WireGuard Configurations"})])]),$(a,{to:"/new_configuration",class:"btn btn-dark btn-brand rounded-3 p-2 shadow ms-auto rounded-3"},{default:Pe(()=>e[0]||(e[0]=[h("h2",{class:"mb-0",style:{"line-height":"0"}},[h("i",{class:"bi bi-plus-circle"})],-1)])),_:1})]),$(vo,{name:"fade",tag:"div",class:"d-flex flex-column gap-3 mb-4"},{default:Pe(()=>[this.configurationLoaded&&this.wireguardConfigurationsStore.Configurations.length===0?(P(),F("p",M3,[$(o,{t:"You don't have any WireGuard configurations yet. Please check the configuration folder or change it in Settings. By default the folder is /etc/wireguard."})])):this.configurationLoaded?(P(!0),F(Ie,{key:1},Ge(this.wireguardConfigurationsStore.Configurations,(c,u)=>(P(),Ce(l,{delay:u*.05+"s",key:c.Name,c},null,8,["delay","c"]))),128)):se("",!0)]),_:1})])])}const D3=ze(S3,[["render",I3],["__scopeId","data-v-b9c1bda1"]]);let Sd;const R3=new Uint8Array(16);function $3(){if(!Sd&&(Sd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sd(R3)}const Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function L3(t,e=0){return Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]}const O3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),a0={randomUUID:O3};function Bs(t,e,n){if(a0.randomUUID&&!e&&!t)return a0.randomUUID();t=t||{};const i=t.random||(t.rng||$3)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,L3(i)}const N3={components:{LocaleText:Le},props:{targetData:String,title:String,warning:!1,warningText:""},setup(){const t=Xe(),e=`input_${Bs()}`;return{store:t,uuid:e}},data(){return{value:"",invalidFeedback:"",showInvalidFeedback:!1,isValid:!1,timeout:void 0,changed:!1,updating:!1}},mounted(){this.value=this.store.Configuration.Peers[this.targetData]},methods:{async useValidation(){this.changed&&await dt("/api/updateDashboardConfigurationItem",{section:"Peers",key:this.targetData,value:this.value},t=>{t.status?(this.isValid=!0,this.showInvalidFeedback=!1,this.store.Configuration.Peers[this.targetData]=this.value,clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.isValid=!1,5e3)):(this.isValid=!1,this.showInvalidFeedback=!0,this.invalidFeedback=t.message),this.changed=!1,this.updating=!1})}}},F3={class:"form-group mb-2"},B3=["for"],V3=["id","disabled"],W3={class:"invalid-feedback"},z3={key:0,class:"px-2 py-1 text-warning-emphasis bg-warning-subtle border border-warning-subtle rounded-2 d-inline-block mt-1"};function Y3(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",F3,[h("label",{for:this.uuid,class:"text-muted mb-1"},[h("strong",null,[h("small",null,[$(o,{t:this.title},null,8,["t"])])])],8,B3),Re(h("input",{type:"text",class:Ee(["form-control",{"is-invalid":s.showInvalidFeedback,"is-valid":s.isValid}]),id:this.uuid,"onUpdate:modelValue":e[0]||(e[0]=a=>this.value=a),onKeydown:e[1]||(e[1]=a=>this.changed=!0),onBlur:e[2]||(e[2]=a=>r.useValidation()),disabled:this.updating},null,42,V3),[[We,this.value]]),h("div",W3,pe(this.invalidFeedback),1),n.warning?(P(),F("div",z3,[h("small",null,[e[3]||(e[3]=h("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),$(o,{t:n.warningText},null,8,["t"])])])):se("",!0)])}const H3=ze(N3,[["render",Y3]]),j3=t=>{},K3={name:"accountSettingsInputUsername",components:{LocaleText:Le},props:{targetData:String,title:String},setup(){const t=Xe(),e=`input_${Bs()}`;return{store:t,uuid:e}},data(){return{value:"",invalidFeedback:"",showInvalidFeedback:!1,isValid:!1,timeout:void 0,changed:!1,updating:!1}},mounted(){this.value=this.store.Configuration.Account[this.targetData]},methods:{async useValidation(t){this.changed&&(this.updating=!0,await dt("/api/updateDashboardConfigurationItem",{section:"Account",key:this.targetData,value:this.value},e=>{e.status?(this.isValid=!0,this.showInvalidFeedback=!1,this.store.Configuration.Account[this.targetData]=this.value,clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.isValid=!1,5e3)):(this.isValid=!1,this.showInvalidFeedback=!0,this.invalidFeedback=e.message),this.changed=!1,this.updating=!1}))}}},U3={class:"form-group mb-2"},G3=["for"],X3=["id","disabled"],q3={class:"invalid-feedback"};function Z3(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",U3,[h("label",{for:this.uuid,class:"text-muted mb-1"},[h("strong",null,[h("small",null,[$(o,{t:this.title},null,8,["t"])])])],8,G3),Re(h("input",{type:"text",class:Ee(["form-control",{"is-invalid":s.showInvalidFeedback,"is-valid":s.isValid}]),id:this.uuid,"onUpdate:modelValue":e[0]||(e[0]=a=>this.value=a),onKeydown:e[1]||(e[1]=a=>this.changed=!0),onBlur:e[2]||(e[2]=a=>r.useValidation()),disabled:this.updating},null,42,X3),[[We,this.value]]),h("div",q3,pe(this.invalidFeedback),1)])}const J3=ze(K3,[["render",Z3]]),Q3={name:"accountSettingsInputPassword",components:{LocaleText:Le},props:{targetData:String,warning:!1,warningText:""},setup(){const t=Xe(),e=`input_${Bs()}`;return{store:t,uuid:e}},data(){return{value:{currentPassword:"",newPassword:"",repeatNewPassword:""},invalidFeedback:"",showInvalidFeedback:!1,isValid:!1,timeout:void 0}},methods:{async useValidation(){Object.values(this.value).find(t=>t.length===0)===void 0?this.value.newPassword===this.value.repeatNewPassword?await dt("/api/updateDashboardConfigurationItem",{section:"Account",key:this.targetData,value:this.value},t=>{t.status?(this.isValid=!0,this.showInvalidFeedback=!1,this.store.Configuration.Account[this.targetData]=this.value,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.isValid=!1,this.value={currentPassword:"",newPassword:"",repeatNewPassword:""}},5e3)):(this.isValid=!1,this.showInvalidFeedback=!0,this.invalidFeedback=t.message)}):(this.showInvalidFeedback=!0,this.invalidFeedback="New passwords does not match"):(this.showInvalidFeedback=!0,this.invalidFeedback="Please fill in all required fields.")}},computed:{passwordValid(){return Object.values(this.value).find(t=>t.length===0)===void 0&&this.value.newPassword===this.value.repeatNewPassword}}},eN={class:"d-flex flex-column gap-2"},tN={class:"row g-2"},nN={class:"col-sm"},iN={class:"form-group"},sN=["for"],rN=["id"],oN={key:0,class:"invalid-feedback d-block"},aN={class:"col-sm"},lN={class:"form-group"},cN=["for"],uN=["id"],dN={class:"col-sm"},hN={class:"form-group"},fN=["for"],gN=["id"],pN=["disabled"];function mN(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",eN,[h("div",tN,[h("div",nN,[h("div",iN,[h("label",{for:"currentPassword_"+this.uuid,class:"text-muted mb-1"},[h("strong",null,[h("small",null,[$(o,{t:"Current Password"})])])],8,sN),Re(h("input",{type:"password",class:Ee(["form-control",{"is-invalid":s.showInvalidFeedback,"is-valid":s.isValid}]),"onUpdate:modelValue":e[0]||(e[0]=a=>this.value.currentPassword=a),id:"currentPassword_"+this.uuid},null,10,rN),[[We,this.value.currentPassword]]),s.showInvalidFeedback?(P(),F("div",oN,pe(this.invalidFeedback),1)):se("",!0)])]),h("div",aN,[h("div",lN,[h("label",{for:"newPassword_"+this.uuid,class:"text-muted mb-1"},[h("strong",null,[h("small",null,[$(o,{t:"New Password"})])])],8,cN),Re(h("input",{type:"password",class:Ee(["form-control",{"is-invalid":s.showInvalidFeedback,"is-valid":s.isValid}]),"onUpdate:modelValue":e[1]||(e[1]=a=>this.value.newPassword=a),id:"newPassword_"+this.uuid},null,10,uN),[[We,this.value.newPassword]])])]),h("div",dN,[h("div",hN,[h("label",{for:"repeatNewPassword_"+this.uuid,class:"text-muted mb-1"},[h("strong",null,[h("small",null,[$(o,{t:"Repeat New Password"})])])],8,fN),Re(h("input",{type:"password",class:Ee(["form-control",{"is-invalid":s.showInvalidFeedback,"is-valid":s.isValid}]),"onUpdate:modelValue":e[2]||(e[2]=a=>this.value.repeatNewPassword=a),id:"repeatNewPassword_"+this.uuid},null,10,gN),[[We,this.value.repeatNewPassword]])])])]),h("button",{disabled:!this.passwordValid,class:"ms-auto btn bg-success-subtle text-success-emphasis border-1 border-success-subtle rounded-3 shadow-sm",onClick:e[3]||(e[3]=a=>this.useValidation())},[e[4]||(e[4]=h("i",{class:"bi bi-save2-fill me-2"},null,-1)),$(o,{t:"Update Password"})],8,pN)])}const _N=ze(Q3,[["render",mN]]),vN={name:"dashboardSettingsInputWireguardConfigurationPath",components:{LocaleText:Le},props:{targetData:String,title:String,warning:!1,warningText:""},setup(){const t=Xe(),e=$n(),n=`input_${Bs()}`;return{store:t,uuid:n,WireguardConfigurationStore:e}},data(){return{value:"",invalidFeedback:"",showInvalidFeedback:!1,isValid:!1,timeout:void 0,changed:!1,updating:!1}},mounted(){this.value=this.store.Configuration.Server[this.targetData]},methods:{async useValidation(){this.changed&&(this.updating=!0,await dt("/api/updateDashboardConfigurationItem",{section:"Server",key:this.targetData,value:this.value},t=>{t.status?(this.isValid=!0,this.showInvalidFeedback=!1,this.store.Configuration.Account[this.targetData]=this.value,clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.isValid=!1,5e3),this.WireguardConfigurationStore.getConfigurations(),this.store.newMessage("Server","WireGuard configuration path saved","success")):(this.isValid=!1,this.showInvalidFeedback=!0,this.invalidFeedback=t.message),this.changed=!1,this.updating=!1}))}}},yN={class:"card"},bN={class:"card-header"},wN={class:"my-2"},xN={class:"card-body"},EN={class:"form-group"},CN=["for"],SN={class:"d-flex gap-2 align-items-start"},kN={class:"flex-grow-1"},TN=["id","disabled"],AN={class:"invalid-feedback fw-bold"},PN=["disabled"],MN={key:0,class:"bi bi-save2-fill"},IN={key:1,class:"spinner-border spinner-border-sm"},DN={key:0,class:"px-2 py-1 text-warning-emphasis bg-warning-subtle border border-warning-subtle rounded-2 d-inline-block mt-1 mb-2"};function RN(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",yN,[h("div",bN,[h("h6",wN,[$(o,{t:"Path"})])]),h("div",xN,[h("div",EN,[h("label",{for:this.uuid,class:"text-muted mb-1"},[h("strong",null,[h("small",null,[$(o,{t:this.title},null,8,["t"])])])],8,CN),h("div",SN,[h("div",kN,[Re(h("input",{type:"text",class:Ee(["form-control rounded-3",{"is-invalid":this.showInvalidFeedback,"is-valid":this.isValid}]),id:this.uuid,"onUpdate:modelValue":e[0]||(e[0]=a=>this.value=a),onKeydown:e[1]||(e[1]=a=>this.changed=!0),disabled:this.updating},null,42,TN),[[We,this.value]]),h("div",AN,pe(this.invalidFeedback),1)]),h("button",{onClick:e[2]||(e[2]=a=>this.useValidation()),disabled:!this.changed,class:"ms-auto btn rounded-3 border-success-subtle bg-success-subtle text-success-emphasis"},[this.updating?(P(),F("span",IN)):(P(),F("i",MN))],8,PN)]),n.warning?(P(),F("div",DN,[h("small",null,[e[3]||(e[3]=h("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),$(o,{t:n.warningText},null,8,["t"])])])):se("",!0)])])])}const $N=ze(vN,[["render",RN]]),LN={name:"dashboardTheme",components:{LocaleText:Le},setup(){return{dashboardConfigurationStore:Xe()}},methods:{async switchTheme(t){await dt("/api/updateDashboardConfigurationItem",{section:"Server",key:"dashboard_theme",value:t},e=>{e.status&&(this.dashboardConfigurationStore.Configuration.Server.dashboard_theme=t)})}}},ON={class:"text-muted mb-1 d-block"},NN={class:"d-flex gap-1"};function FN(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("small",ON,[h("strong",null,[$(o,{t:"Theme"})])]),h("div",NN,[h("button",{class:Ee(["btn bg-primary-subtle text-primary-emphasis flex-grow-1",{active:this.dashboardConfigurationStore.Configuration.Server.dashboard_theme==="light"}]),onClick:e[0]||(e[0]=a=>this.switchTheme("light"))},[e[2]||(e[2]=h("i",{class:"bi bi-sun-fill me-2"},null,-1)),$(o,{t:"Light"})],2),h("button",{class:Ee(["btn bg-primary-subtle text-primary-emphasis flex-grow-1",{active:this.dashboardConfigurationStore.Configuration.Server.dashboard_theme==="dark"}]),onClick:e[1]||(e[1]=a=>this.switchTheme("dark"))},[e[3]||(e[3]=h("i",{class:"bi bi-moon-fill me-2"},null,-1)),$(o,{t:"Dark"})],2)])])}const BN=ze(LN,[["render",FN]]),VN={name:"dashboardSettingsInputIPAddressAndPort",props:{},setup(){const t=Xe(),e=`input_${Bs()}`;return{store:t,uuid:e}},data(){return{app_ip:"",app_port:"",invalidFeedback:"",showInvalidFeedback:!1,isValid:!1,timeout:void 0,changed:!1,updating:!1}},mounted(){this.app_ip=this.store.Configuration.Server.app_ip,this.app_port=this.store.Configuration.Server.app_port},methods:{async useValidation(){this.changed&&await dt("/api/updateDashboardConfigurationItem",{section:"Server",key:this.targetData,value:this.value},t=>{t.status?(this.isValid=!0,this.showInvalidFeedback=!1,this.store.Configuration.Account[this.targetData]=this.value,clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.isValid=!1,5e3)):(this.isValid=!1,this.showInvalidFeedback=!0,this.invalidFeedback=t.message)})}}},WN={class:"invalid-feedback d-block mt-0"},zN={class:"row"},YN={class:"form-group mb-2 col-sm"},HN=["for"],jN=["id"],KN={class:"form-group col-sm"},UN=["for"],GN=["id"];function XN(t,e,n,i,s,r){return P(),F("div",null,[h("div",WN,pe(this.invalidFeedback),1),h("div",zN,[h("div",YN,[h("label",{for:"app_ip_"+this.uuid,class:"text-muted mb-1"},e[2]||(e[2]=[h("strong",null,[h("small",null,"Dashboard IP Address")],-1)]),8,HN),Re(h("input",{type:"text",class:"form-control mb-2",id:"app_ip_"+this.uuid,"onUpdate:modelValue":e[0]||(e[0]=o=>this.app_ip=o)},null,8,jN),[[We,this.app_ip]]),e[3]||(e[3]=h("div",{class:"px-2 py-1 text-warning-emphasis bg-warning-subtle border border-warning-subtle rounded-2 d-inline-block"},[h("small",null,[h("i",{class:"bi bi-exclamation-triangle-fill me-2"}),h("code",null,"0.0.0.0"),Be(" means it can be access by anyone with your server IP Address.")])],-1))]),h("div",KN,[h("label",{for:"app_port_"+this.uuid,class:"text-muted mb-1"},e[4]||(e[4]=[h("strong",null,[h("small",null,"Dashboard Port")],-1)]),8,UN),Re(h("input",{type:"text",class:"form-control mb-2",id:"app_port_"+this.uuid,"onUpdate:modelValue":e[1]||(e[1]=o=>this.app_port=o)},null,8,GN),[[We,this.app_port]])])]),e[5]||(e[5]=h("button",{class:"btn btn-success btn-sm fw-bold rounded-3"},[h("i",{class:"bi bi-floppy-fill me-2"}),Be("Update Dashboard Settings & Restart ")],-1))])}const qN=ze(VN,[["render",XN]]);function He(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function yt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function rs(t,e){const n=He(t);return isNaN(e)?yt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ds(t,e){const n=He(t);if(isNaN(e))return yt(t,NaN);if(!e)return n;const i=n.getDate(),s=yt(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const r=s.getDate();return i>=r?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function BC(t,e){const{years:n=0,months:i=0,weeks:s=0,days:r=0,hours:o=0,minutes:a=0,seconds:l=0}=e,c=He(t),u=i||n?ds(c,i+n*12):c,d=r||s?rs(u,r+s*7):u,f=a+o*60,p=(l+f*60)*1e3;return yt(t,d.getTime()+p)}function ZN(t,e){const n=+He(t);return yt(t,n+e)}const VC=6048e5,JN=864e5,QN=6e4,WC=36e5,eF=1e3;function tF(t,e){return ZN(t,e*WC)}let nF={};function ya(){return nF}function ps(t,e){const n=ya(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=He(t),r=s.getDay(),o=(r<i?7:0)+r-i;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Sl(t){return ps(t,{weekStartsOn:1})}function zC(t){const e=He(t),n=e.getFullYear(),i=yt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=Sl(i),r=yt(t,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const o=Sl(r);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function l0(t){const e=He(t);return e.setHours(0,0,0,0),e}function Sh(t){const e=He(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function YC(t,e){const n=l0(t),i=l0(e),s=+n-Sh(n),r=+i-Sh(i);return Math.round((s-r)/JN)}function iF(t){const e=zC(t),n=yt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Sl(n)}function sF(t,e){const n=e*3;return ds(t,n)}function A_(t,e){return ds(t,e*12)}function c0(t,e){const n=He(t),i=He(e),s=n.getTime()-i.getTime();return s<0?-1:s>0?1:s}function HC(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Hc(t){if(!HC(t)&&typeof t!="number")return!1;const e=He(t);return!isNaN(Number(e))}function u0(t){const e=He(t);return Math.trunc(e.getMonth()/3)+1}function rF(t,e){const n=He(t),i=He(e);return n.getFullYear()-i.getFullYear()}function oF(t,e){const n=He(t),i=He(e),s=c0(n,i),r=Math.abs(rF(n,i));n.setFullYear(1584),i.setFullYear(1584);const o=c0(n,i)===-s,a=s*(r-+o);return a===0?0:a}function jC(t,e){const n=He(t.start),i=He(t.end);let s=+n>+i;const r=s?+n:+i,o=s?i:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=r;)l.push(He(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function Xo(t){const e=He(t),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}function aF(t,e){const n=He(t.start),i=He(t.end);let s=+n>+i;const r=s?+Xo(n):+Xo(i);let o=Xo(s?i:n),a=1;const l=[];for(;+o<=r;)l.push(He(o)),o=sF(o,a);return s?l.reverse():l}function lF(t){const e=He(t);return e.setDate(1),e.setHours(0,0,0,0),e}function KC(t){const e=He(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function lu(t){const e=He(t),n=yt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function UC(t,e){const n=ya(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=He(t),r=s.getDay(),o=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function d0(t){const e=He(t),n=e.getMonth(),i=n-n%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}const cF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uF=(t,e,n)=>{let i;const s=cF[t];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function $g(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const dF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gF={date:$g({formats:dF,defaultWidth:"full"}),time:$g({formats:hF,defaultWidth:"full"}),dateTime:$g({formats:fF,defaultWidth:"full"})},pF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mF=(t,e,n,i)=>pF[t];function cc(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let s;if(i==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const r=t.argumentCallback?t.argumentCallback(e):e;return s[r]}}const _F={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EF=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},CF={ordinalNumber:EF,era:cc({values:_F,defaultWidth:"wide"}),quarter:cc({values:vF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cc({values:yF,defaultWidth:"wide"}),day:cc({values:bF,defaultWidth:"wide"}),dayPeriod:cc({values:wF,defaultWidth:"wide",formattingValues:xF,defaultFormattingWidth:"wide"})};function uc(t){return(e,n={})=>{const i=n.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],r=e.match(s);if(!r)return null;const o=r[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?kF(a,d=>d.test(o)):SF(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function SF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function TF(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const s=i[0],r=e.match(t.parsePattern);if(!r)return null;let o=t.valueCallback?t.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const AF=/^(\d+)(th|st|nd|rd)?/i,PF=/\d+/i,MF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IF={any:[/^b/i,/^(a|c)/i]},DF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RF={any:[/1/i,/2/i,/3/i,/4/i]},$F={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VF={ordinalNumber:TF({matchPattern:AF,parsePattern:PF,valueCallback:t=>parseInt(t,10)}),era:uc({matchPatterns:MF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any"}),quarter:uc({matchPatterns:DF,defaultMatchWidth:"wide",parsePatterns:RF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uc({matchPatterns:$F,defaultMatchWidth:"wide",parsePatterns:LF,defaultParseWidth:"any"}),day:uc({matchPatterns:OF,defaultMatchWidth:"wide",parsePatterns:NF,defaultParseWidth:"any"}),dayPeriod:uc({matchPatterns:FF,defaultMatchWidth:"any",parsePatterns:BF,defaultParseWidth:"any"})},GC={code:"en-US",formatDistance:uF,formatLong:gF,formatRelative:mF,localize:CF,match:VF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WF(t){const e=He(t);return YC(e,lu(e))+1}function P_(t){const e=He(t),n=+Sl(e)-+iF(e);return Math.round(n/VC)+1}function M_(t,e){const n=He(t),i=n.getFullYear(),s=ya(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=yt(t,0);o.setFullYear(i+1,0,r),o.setHours(0,0,0,0);const a=ps(o,e),l=yt(t,0);l.setFullYear(i,0,r),l.setHours(0,0,0,0);const c=ps(l,e);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function zF(t,e){const n=ya(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=M_(t,e),r=yt(t,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),ps(r,e)}function I_(t,e){const n=He(t),i=+ps(n,e)-+zF(n,e);return Math.round(i/VC)+1}function St(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Pr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return St(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):St(n+1,2)},d(t,e){return St(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return St(t.getHours()%12||12,e.length)},H(t,e){return St(t.getHours(),e.length)},m(t,e){return St(t.getMinutes(),e.length)},s(t,e){return St(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return St(s,e.length)}},$a={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h0={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Pr.y(t,e)},Y:function(t,e,n,i){const s=M_(t,i),r=s>0?s:1-s;if(e==="YY"){const o=r%100;return St(o,2)}return e==="Yo"?n.ordinalNumber(r,{unit:"year"}):St(r,e.length)},R:function(t,e){const n=zC(t);return St(n,e.length)},u:function(t,e){const n=t.getFullYear();return St(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return St(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return St(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Pr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return St(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const s=I_(t,i);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):St(s,e.length)},I:function(t,e,n){const i=P_(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):St(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Pr.d(t,e)},D:function(t,e,n){const i=WF(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):St(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const s=t.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return St(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const s=t.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return St(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return St(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let s;switch(i===12?s=$a.noon:i===0?s=$a.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let s;switch(i>=17?s=$a.evening:i>=12?s=$a.afternoon:i>=4?s=$a.morning:s=$a.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Pr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Pr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):St(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):St(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Pr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Pr.s(t,e)},S:function(t,e){return Pr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return g0(i);case"XXXX":case"XX":return Yo(i);case"XXXXX":case"XXX":default:return Yo(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return g0(i);case"xxxx":case"xx":return Yo(i);case"xxxxx":case"xxx":default:return Yo(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+f0(i,":");case"OOOO":default:return"GMT"+Yo(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+f0(i,":");case"zzzz":default:return"GMT"+Yo(i,":")}},t:function(t,e,n){const i=Math.trunc(t.getTime()/1e3);return St(i,e.length)},T:function(t,e,n){const i=t.getTime();return St(i,e.length)}};function f0(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+e+St(r,2)}function g0(t,e){return t%60===0?(t>0?"-":"+")+St(Math.abs(t)/60,2):Yo(t,e)}function Yo(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=St(Math.trunc(i/60),2),r=St(i%60,2);return n+s+e+r}const p0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},XC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},YF=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return p0(t,e);let r;switch(i){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",p0(i,e)).replace("{{time}}",XC(s,e))},tm={p:XC,P:YF},HF=/^D+$/,jF=/^Y+$/,KF=["D","DD","YY","YYYY"];function qC(t){return HF.test(t)}function ZC(t){return jF.test(t)}function nm(t,e,n){const i=UF(t,e,n);if(console.warn(i),KF.includes(t))throw new RangeError(i)}function UF(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qF=/^'([^]*?)'?$/,ZF=/''/g,JF=/[a-zA-Z]/;function Ls(t,e,n){const i=ya(),s=n?.locale??i.locale??GC,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,a=He(t);if(!Hc(a))throw new RangeError("Invalid time value");let l=e.match(XF).map(u=>{const d=u[0];if(d==="p"||d==="P"){const f=tm[d];return f(u,s.formatLong)}return u}).join("").match(GF).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:QF(u)};if(h0[d])return{isToken:!0,value:u};if(d.match(JF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:s};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!n?.useAdditionalWeekYearTokens&&ZC(d)||!n?.useAdditionalDayOfYearTokens&&qC(d))&&nm(d,e,String(t));const f=h0[d[0]];return f(a,d,s.localize,c)}).join("")}function QF(t){const e=t.match(qF);return e?e[1].replace(ZF,"'"):t}function e5(t){return He(t).getDay()}function t5(t){const e=He(t),n=e.getFullYear(),i=e.getMonth(),s=yt(t,0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}function n5(){return Object.assign({},ya())}function vr(t){return He(t).getHours()}function i5(t){let n=He(t).getDay();return n===0&&(n=7),n}function ao(t){return He(t).getMinutes()}function at(t){return He(t).getMonth()}function kl(t){return He(t).getSeconds()}function Ze(t){return He(t).getFullYear()}function Tl(t,e){const n=He(t),i=He(e);return n.getTime()>i.getTime()}function cu(t,e){const n=He(t),i=He(e);return+n<+i}function tl(t,e){const n=He(t),i=He(e);return+n==+i}function s5(t,e){const n=e instanceof Date?yt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const r5=10;class JC{subPriority=0;validate(e,n){return!0}}class o5 extends JC{constructor(e,n,i,s,r){super(),this.value=e,this.validateValue=n,this.setValue=i,this.priority=s,r&&(this.subPriority=r)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,i){return this.setValue(e,n,this.value,i)}}class a5 extends JC{priority=r5;subPriority=-1;set(e,n){return n.timestampIsSet?e:yt(e,s5(e,Date))}}class wt{run(e,n,i,s){const r=this.parse(e,n,i,s);return r?{setter:new o5(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(e,n,i){return!0}}class l5 extends wt{priority=140;parse(e,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});case"GGGG":default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}}set(e,n,i){return n.era=i,e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const cn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Cs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function un(t,e){return t&&{value:e(t.value),rest:t.rest}}function Zt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ss(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const i=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:i*(s*WC+r*QN+o*eF),rest:e.slice(n[0].length)}}function QC(t){return Zt(cn.anyDigitsSigned,t)}function on(t,e){switch(t){case 1:return Zt(cn.singleDigit,e);case 2:return Zt(cn.twoDigits,e);case 3:return Zt(cn.threeDigits,e);case 4:return Zt(cn.fourDigits,e);default:return Zt(new RegExp("^\\d{1,"+t+"}"),e)}}function kh(t,e){switch(t){case 1:return Zt(cn.singleDigitSigned,e);case 2:return Zt(cn.twoDigitsSigned,e);case 3:return Zt(cn.threeDigitsSigned,e);case 4:return Zt(cn.fourDigitsSigned,e);default:return Zt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function D_(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function eS(t,e){const n=e>0,i=n?e:1-e;let s;if(i<=50)s=t||100;else{const r=i+50,o=Math.trunc(r/100)*100,a=t>=r%100;s=t+o-(a?100:0)}return n?s:1-s}function tS(t){return t%400===0||t%4===0&&t%100!==0}class c5 extends wt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,i){const s=r=>({year:r,isTwoDigitYear:n==="yy"});switch(n){case"y":return un(on(4,e),s);case"yo":return un(i.ordinalNumber(e,{unit:"year"}),s);default:return un(on(n.length,e),s)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i){const s=e.getFullYear();if(i.isTwoDigitYear){const o=eS(i.year,s);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const r=!("era"in n)||n.era===1?i.year:1-i.year;return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}class u5 extends wt{priority=130;parse(e,n,i){const s=r=>({year:r,isTwoDigitYear:n==="YY"});switch(n){case"Y":return un(on(4,e),s);case"Yo":return un(i.ordinalNumber(e,{unit:"year"}),s);default:return un(on(n.length,e),s)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i,s){const r=M_(e,s);if(i.isTwoDigitYear){const a=eS(i.year,r);return e.setFullYear(a,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),ps(e,s)}const o=!("era"in n)||n.era===1?i.year:1-i.year;return e.setFullYear(o,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),ps(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class d5 extends wt{priority=130;parse(e,n){return kh(n==="R"?4:n.length,e)}set(e,n,i){const s=yt(e,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Sl(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class h5 extends wt{priority=130;parse(e,n){return kh(n==="u"?4:n.length,e)}set(e,n,i){return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class f5 extends wt{priority=120;parse(e,n,i){switch(n){case"Q":case"QQ":return on(n.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class g5 extends wt{priority=120;parse(e,n,i){switch(n){case"q":case"qq":return on(n.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class p5 extends wt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,i){const s=r=>r-1;switch(n){case"M":return un(Zt(cn.month,e),s);case"MM":return un(on(2,e),s);case"Mo":return un(i.ordinalNumber(e,{unit:"month"}),s);case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}}class m5 extends wt{priority=110;parse(e,n,i){const s=r=>r-1;switch(n){case"L":return un(Zt(cn.month,e),s);case"LL":return un(on(2,e),s);case"Lo":return un(i.ordinalNumber(e,{unit:"month"}),s);case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function _5(t,e,n){const i=He(t),s=I_(i,n)-e;return i.setDate(i.getDate()-s*7),i}class v5 extends wt{priority=100;parse(e,n,i){switch(n){case"w":return Zt(cn.week,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return on(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i,s){return ps(_5(e,i,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function y5(t,e){const n=He(t),i=P_(n)-e;return n.setDate(n.getDate()-i*7),n}class b5 extends wt{priority=100;parse(e,n,i){switch(n){case"I":return Zt(cn.week,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return on(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i){return Sl(y5(e,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const w5=[31,28,31,30,31,30,31,31,30,31,30,31],x5=[31,29,31,30,31,30,31,31,30,31,30,31];class E5 extends wt{priority=90;subPriority=1;parse(e,n,i){switch(n){case"d":return Zt(cn.date,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return on(n.length,e)}}validate(e,n){const i=e.getFullYear(),s=tS(i),r=e.getMonth();return s?n>=1&&n<=x5[r]:n>=1&&n<=w5[r]}set(e,n,i){return e.setDate(i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class C5 extends wt{priority=90;subpriority=1;parse(e,n,i){switch(n){case"D":case"DD":return Zt(cn.dayOfYear,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return on(n.length,e)}}validate(e,n){const i=e.getFullYear();return tS(i)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,i){return e.setMonth(0,i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function R_(t,e,n){const i=ya(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,r=He(t),o=r.getDay(),l=(e%7+7)%7,c=7-s,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return rs(r,u)}class S5 extends wt{priority=90;parse(e,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,s){return e=R_(e,i,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class k5 extends wt{priority=90;parse(e,n,i,s){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return un(on(n.length,e),r);case"eo":return un(i.ordinalNumber(e,{unit:"day"}),r);case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,s){return e=R_(e,i,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class T5 extends wt{priority=90;parse(e,n,i,s){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return un(on(n.length,e),r);case"co":return un(i.ordinalNumber(e,{unit:"day"}),r);case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,s){return e=R_(e,i,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function A5(t,e){const n=He(t),i=i5(n),s=e-i;return rs(n,s)}class P5 extends wt{priority=90;parse(e,n,i){const s=r=>r===0?7:r;switch(n){case"i":case"ii":return on(n.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return un(i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return un(i.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return un(i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return un(i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,n){return n>=1&&n<=7}set(e,n,i){return e=A5(e,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class M5 extends wt{priority=80;parse(e,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(D_(i),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class I5 extends wt{priority=80;parse(e,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(D_(i),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class D5 extends wt{priority=80;parse(e,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(D_(i),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class R5 extends wt{priority=70;parse(e,n,i){switch(n){case"h":return Zt(cn.hour12h,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return on(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,i){const s=e.getHours()>=12;return s&&i<12?e.setHours(i+12,0,0,0):!s&&i===12?e.setHours(0,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class $5 extends wt{priority=70;parse(e,n,i){switch(n){case"H":return Zt(cn.hour23h,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return on(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,i){return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class L5 extends wt{priority=70;parse(e,n,i){switch(n){case"K":return Zt(cn.hour11h,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return on(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.getHours()>=12&&i<12?e.setHours(i+12,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class O5 extends wt{priority=70;parse(e,n,i){switch(n){case"k":return Zt(cn.hour24h,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return on(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,i){const s=i<=24?i%24:i;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class N5 extends wt{priority=60;parse(e,n,i){switch(n){case"m":return Zt(cn.minute,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return on(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setMinutes(i,0,0),e}incompatibleTokens=["t","T"]}class F5 extends wt{priority=50;parse(e,n,i){switch(n){case"s":return Zt(cn.second,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return on(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setSeconds(i,0),e}incompatibleTokens=["t","T"]}class B5 extends wt{priority=30;parse(e,n){const i=s=>Math.trunc(s*Math.pow(10,-n.length+3));return un(on(n.length,e),i)}set(e,n,i){return e.setMilliseconds(i),e}incompatibleTokens=["t","T"]}class V5 extends wt{priority=10;parse(e,n){switch(n){case"X":return Ss(Cs.basicOptionalMinutes,e);case"XX":return Ss(Cs.basic,e);case"XXXX":return Ss(Cs.basicOptionalSeconds,e);case"XXXXX":return Ss(Cs.extendedOptionalSeconds,e);case"XXX":default:return Ss(Cs.extended,e)}}set(e,n,i){return n.timestampIsSet?e:yt(e,e.getTime()-Sh(e)-i)}incompatibleTokens=["t","T","x"]}class W5 extends wt{priority=10;parse(e,n){switch(n){case"x":return Ss(Cs.basicOptionalMinutes,e);case"xx":return Ss(Cs.basic,e);case"xxxx":return Ss(Cs.basicOptionalSeconds,e);case"xxxxx":return Ss(Cs.extendedOptionalSeconds,e);case"xxx":default:return Ss(Cs.extended,e)}}set(e,n,i){return n.timestampIsSet?e:yt(e,e.getTime()-Sh(e)-i)}incompatibleTokens=["t","T","X"]}class z5 extends wt{priority=40;parse(e){return QC(e)}set(e,n,i){return[yt(e,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Y5 extends wt{priority=20;parse(e){return QC(e)}set(e,n,i){return[yt(e,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const H5={G:new l5,y:new c5,Y:new u5,R:new d5,u:new h5,Q:new f5,q:new g5,M:new p5,L:new m5,w:new v5,I:new b5,d:new E5,D:new C5,E:new S5,e:new k5,c:new T5,i:new P5,a:new M5,b:new I5,B:new D5,h:new R5,H:new $5,K:new L5,k:new O5,m:new N5,s:new F5,S:new B5,X:new V5,x:new W5,t:new z5,T:new Y5},j5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U5=/^'([^]*?)'?$/,G5=/''/g,X5=/\S/,q5=/[a-zA-Z]/;function im(t,e,n,i){const s=n5(),r=i?.locale??s.locale??GC,o=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(e==="")return t===""?He(n):yt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:r},c=[new a5],u=e.match(K5).map(m=>{const v=m[0];if(v in tm){const y=tm[v];return y(m,r.formatLong)}return m}).join("").match(j5),d=[];for(let m of u){!i?.useAdditionalWeekYearTokens&&ZC(m)&&nm(m,e,t),!i?.useAdditionalDayOfYearTokens&&qC(m)&&nm(m,e,t);const v=m[0],y=H5[v];if(y){const{incompatibleTokens:x}=y;if(Array.isArray(x)){const w=d.find(b=>x.includes(b.token)||b.token===v);if(w)throw new RangeError(`The format string mustn't contain \`${w.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:v,fullToken:m});const E=y.run(t,m,r.match,l);if(!E)return yt(n,NaN);c.push(E.setter),t=E.rest}else{if(v.match(q5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(m==="''"?m="'":v==="'"&&(m=Z5(m)),t.indexOf(m)===0)t=t.slice(m.length);else return yt(n,NaN)}}if(t.length>0&&X5.test(t))return yt(n,NaN);const f=c.map(m=>m.priority).sort((m,v)=>v-m).filter((m,v,y)=>y.indexOf(m)===v).map(m=>c.filter(v=>v.priority===m).sort((v,y)=>y.subPriority-v.subPriority)).map(m=>m[0]);let g=He(n);if(isNaN(g.getTime()))return yt(n,NaN);const p={};for(const m of f){if(!m.validate(g,l))return yt(n,NaN);const v=m.set(g,p,l);Array.isArray(v)?(g=v[0],Object.assign(p,v[1])):g=v}return yt(n,g)}function Z5(t){return t.match(U5)[1].replace(G5,"'")}function m0(t,e){const n=Xo(t),i=Xo(e);return+n==+i}function J5(t,e){return rs(t,-e)}function nS(t,e){const n=He(t),i=n.getFullYear(),s=n.getDate(),r=yt(t,0);r.setFullYear(i,e,15),r.setHours(0,0,0,0);const o=t5(r);return n.setMonth(e,Math.min(s,o)),n}function Dt(t,e){let n=He(t);return isNaN(+n)?yt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=nS(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Q5(t,e){const n=He(t);return n.setHours(e),n}function iS(t,e){const n=He(t);return n.setMilliseconds(e),n}function e4(t,e){const n=He(t);return n.setMinutes(e),n}function sS(t,e){const n=He(t);return n.setSeconds(e),n}function As(t,e){const n=He(t);return isNaN(+n)?yt(t,NaN):(n.setFullYear(e),n)}function Al(t,e){return ds(t,-e)}function t4(t,e){const{years:n=0,months:i=0,weeks:s=0,days:r=0,hours:o=0,minutes:a=0,seconds:l=0}=e,c=Al(t,i+n*12),u=J5(c,r+s*7),d=a+o*60,g=(l+d*60)*1e3;return yt(t,u.getTime()-g)}function rS(t,e){return A_(t,-e)}function Gl(){const t=ND();return P(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[h("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),h("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),h("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),h("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Gl.compatConfig={MODE:3};function oS(){return P(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[h("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),h("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}oS.compatConfig={MODE:3};function $_(){return P(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[h("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}$_.compatConfig={MODE:3};function L_(){return P(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[h("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}L_.compatConfig={MODE:3};function O_(){return P(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[h("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),h("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}O_.compatConfig={MODE:3};function N_(){return P(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[h("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}N_.compatConfig={MODE:3};function F_(){return P(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[h("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}F_.compatConfig={MODE:3};const xi=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),B_=(t,e,n)=>sm(t,e,n)||ke(),n4=(t,e,n)=>{const i=e.dateInTz?xi(new Date(t),e.dateInTz):ke(t);return n?ai(i,!0):i},sm=(t,e,n)=>{if(!t)return null;const i=n?ai(ke(t),!0):ke(t);return e?e.exactMatch?n4(t,e,n):xi(i,e.timezone):i},i4=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),i=new Date(e.toLocaleString("en-US",{timeZone:t})),s=i.getTimezoneOffset()/60;return(+n-+i)/(1e3*60*60)-s};var ts=(t=>(t.month="month",t.year="year",t))(ts||{}),Ho=(t=>(t.top="top",t.bottom="bottom",t))(Ho||{}),ia=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ia||{}),jn=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(jn||{});const s4=["timestamp","date","iso"];var Qn=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Qn||{}),Nt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Nt||{});function _0(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function r4(t){return e=>Ls(xi(new Date(`2017-01-0${e}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const o4=(t,e,n)=>{const i=[1,2,3,4,5,6,7];let s;if(t!==null)try{s=i.map(r4(t))}catch{s=i.map(_0(e))}else s=i.map(_0(e));const r=s.slice(0,n),o=s.slice(n+1,s.length);return[s[n]].concat(...o).concat(...r)},V_=(t,e,n)=>{const i=[];for(let s=+t[0];s<=+t[1];s++)i.push({value:+s,text:uS(s,e)});return n?i.reverse():i},aS=(t,e,n)=>{const i=[1,2,3,4,5,6,7,8,9,10,11,12].map(r=>{const o=r<10?`0${r}`:r;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const r=n==="long"?"LLLL":"LLL";return i.map((o,a)=>{const l=Ls(xi(o,"UTC"),r,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const s=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return i.map((r,o)=>{const a=s.format(r);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},a4=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],bn=t=>{const e=Z(t);return e!=null&&e.$el?e?.$el:e},l4=t=>({type:"dot",...t??{}}),lS=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,W_={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Tn=t=>t,v0=t=>t===0?t:!t||isNaN(+t)?null:+t,y0=t=>t===null,cS=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},c4=t=>{const e=[],n=i=>i.filter(s=>s);for(let i=0;i<t.length;i+=3){const s=[t[i],t[i+1],t[i+2]];e.push(n(s))}return e},uu=(t,e,n)=>{const i=n!=null,s=e!=null;if(!i&&!s)return!1;const r=+n,o=+e;return i&&s?+t>r||+t<o:i?+t>r:s?+t<o:!1},Pl=(t,e)=>c4(t).map(n=>n.map(i=>{const{active:s,disabled:r,isBetween:o,highlighted:a}=e(i);return{...i,active:s,disabled:r,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:r,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:r&&s,dp__cell_in_between:o,"dp--highlighted":a}}})),eo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},u4=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function d4(t,e){let n=[...document.querySelectorAll(u4())];n=n.filter(s=>!t.contains(s)||s.hasAttribute("data-datepicker-instance"));const i=n.indexOf(t);if(i>=0&&(e?i-1>=0:i+1<=n.length))return n[i+(e?-1:1)]}const rm=(t,e)=>t?.querySelector(`[data-dp-element="${e}"]`),uS=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),z_=t=>Ls(t,"dd-MM-yyyy"),Lg=t=>Array.isArray(t),Th=(t,e)=>e.get(z_(t)),h4=(t,e)=>t?e?e instanceof Map?!!Th(t,e):e(ke(t)):!1:!0,si=(t,e,n=!1,i)=>{if(t.key===Nt.enter||t.key===Nt.space)return n&&t.preventDefault(),e();if(i)return i(t)},b0=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(t=>navigator.userAgent.includes(t))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,w0=(t,e,n,i,s,r)=>{const o=im(t,e.slice(0,t.length),new Date,{locale:r});return Hc(o)&&HC(o)?i||s?o:Dt(o,{hours:+n.hours,minutes:+n?.minutes,seconds:+n?.seconds,milliseconds:0}):null},f4=(t,e,n,i,s,r)=>{const o=Array.isArray(n)?n[0]:n;if(typeof e=="string")return w0(t,e,o,i,s,r);if(Array.isArray(e)){let a=null;for(const l of e)if(a=w0(t,l,o,i,s,r),a)break;return a}return typeof e=="function"?e(t):null},ke=t=>t?new Date(t):new Date,g4=(t,e,n)=>{if(e){const s=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${s}-${r}T${o}:${a}:${l}.000Z`}const i=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(i).toISOString()},ai=(t,e)=>{const n=ke(JSON.parse(JSON.stringify(t))),i=Dt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?lF(i):i},to=(t,e,n,i)=>{let s=t?ke(t):ke();return(e||e===0)&&(s=Q5(s,+e)),(n||n===0)&&(s=e4(s,+n)),(i||i===0)&&(s=sS(s,+i)),iS(s,0)},tn=(t,e)=>!t||!e?!1:cu(ai(t),ai(e)),ct=(t,e)=>!t||!e?!1:tl(ai(t),ai(e)),ln=(t,e)=>!t||!e?!1:Tl(ai(t),ai(e)),Ef=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?ln(n,t[0])&&tn(n,t[1]):t!=null&&t[0]&&e?ln(n,t[0])&&tn(n,e)||tn(n,t[0])&&ln(n,e):!1,os=t=>{const e=Dt(new Date(t),{date:1});return ai(e)},Og=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(i=>i===e?[i,n]:[i,isNaN(+t[i])?void 0:+t[i]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},sa=t=>({hours:vr(t),minutes:ao(t),seconds:kl(t)}),dS=(t,e)=>{if(e){const n=Ze(ke(e));if(n>t)return 12;if(n===t)return at(ke(e))}},hS=(t,e)=>{if(e){const n=Ze(ke(e));return n<t?-1:n===t?at(ke(e)):void 0}},Ml=t=>{if(t)return Ze(ke(t))},fS=(t,e)=>{const n=ln(t,e)?e:t,i=ln(e,t)?e:t;return jC({start:n,end:i})},p4=t=>{const e=ds(t,1);return{month:at(e),year:Ze(e)}},nr=(t,e)=>{const n=ps(t,{weekStartsOn:+e}),i=UC(t,{weekStartsOn:+e});return[n,i]},gS=(t,e)=>{const n={hours:vr(ke()),minutes:ao(ke()),seconds:e?kl(ke()):0};return Object.assign(n,t)},Kr=(t,e,n)=>[Dt(ke(t),{date:1}),Dt(ke(),{month:e,year:n,date:1})],ar=(t,e,n)=>{let i=t?ke(t):ke();return(e||e===0)&&(i=nS(i,e)),n&&(i=As(i,n)),i},pS=(t,e,n,i,s)=>{if(!i||s&&!e||!s&&!n)return!1;const r=s?ds(t,1):Al(t,1),o=[at(r),Ze(r)];return s?!_4(...o,e):!m4(...o,n)},m4=(t,e,n)=>tn(...Kr(n,t,e))||ct(...Kr(n,t,e)),_4=(t,e,n)=>ln(...Kr(n,t,e))||ct(...Kr(n,t,e)),mS=(t,e,n,i,s,r,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Ls(t[0],r,a)}${s&&!t[1]?"":i}${t[1]?Ls(t[1],r,a):""}`:Ls(t,r,a)},La=t=>{if(t)return null;throw new Error(W_.prop("partial-range"))},kd=(t,e)=>{if(e)return t();throw new Error(W_.prop("range"))},om=t=>Array.isArray(t)?Hc(t[0])&&(t[1]?Hc(t[1]):!0):t?Hc(t):!1,v4=(t,e)=>Dt(e??ke(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Ng=(t,e,n,i)=>{if(!t)return!0;if(i){const s=n==="max"?cu(t,e):Tl(t,e),r={seconds:0,milliseconds:0};return s||tl(Dt(t,r),Dt(e,r))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Fg=(t,e,n)=>t?v4(t,e):ke(n??e),x0=(t,e,n,i,s)=>{if(Array.isArray(i)){const o=Fg(t,i[0],e),a=Fg(t,i[1],e);return Ng(i[0],o,n,!!e)&&Ng(i[1],a,n,!!e)&&s}const r=Fg(t,i,e);return Ng(i,r,n,!!e)&&s},Bg=t=>Dt(ke(),sa(t)),y4=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>Ze(ke(n))===e).map(n=>at(n)):[],_S=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(i=>i.month===e&&i.year===n),Y_=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),vS=t=>Ls(t,"yyyy-MM-dd"),dc=Ei({menuFocused:!1,shiftKeyInMenu:!1}),yS=()=>{const t=n=>{dc.menuFocused=n},e=n=>{dc.shiftKeyInMenu!==n&&(dc.shiftKeyInMenu=n)};return{control:ve(()=>({shiftKeyInMenu:dc.shiftKeyInMenu,menuFocused:dc.menuFocused})),setMenuFocused:t,setShiftKey:e}},Ot=Ei({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Vg=me(null),Td=me(!1),Wg=me(!1),zg=me(!1),Yg=me(!1),Wn=me(0),an=me(0),yo=()=>{const t=ve(()=>Td.value?[...Ot.selectionGrid,Ot.actionRow].filter(d=>d.length):Wg.value?[...Ot.timePicker[0],...Ot.timePicker[1],Yg.value?[]:[Vg.value],Ot.actionRow].filter(d=>d.length):zg.value?[...Ot.monthPicker,Ot.actionRow]:[Ot.monthYear,...Ot.calendar,Ot.time,Ot.actionRow].filter(d=>d.length)),e=d=>{Wn.value=d?Wn.value+1:Wn.value-1;let f=null;t.value[an.value]&&(f=t.value[an.value][Wn.value]),!f&&t.value[an.value+(d?1:-1)]?(an.value=an.value+(d?1:-1),Wn.value=d?0:t.value[an.value].length-1):f||(Wn.value=d?Wn.value-1:Wn.value+1)},n=d=>{an.value===0&&!d||an.value===t.value.length&&d||(an.value=d?an.value+1:an.value-1,t.value[an.value]?t.value[an.value]&&!t.value[an.value][Wn.value]&&Wn.value!==0&&(Wn.value=t.value[an.value].length-1):an.value=d?an.value-1:an.value+1)},i=d=>{let f=null;t.value[an.value]&&(f=t.value[an.value][Wn.value]),f?f.focus({preventScroll:!Td.value}):Wn.value=d?Wn.value-1:Wn.value+1},s=()=>{e(!0),i(!0)},r=()=>{e(!1),i(!1)},o=()=>{n(!1),i(!0)},a=()=>{n(!0),i(!0)},l=(d,f)=>{Ot[f]=d},c=(d,f)=>{Ot[f]=d},u=()=>{Wn.value=0,an.value=0};return{buildMatrix:l,buildMultiLevelMatrix:c,setTimePickerBackRef:d=>{Vg.value=d},setSelectionGrid:d=>{Td.value=d,u(),d||(Ot.selectionGrid=[])},setTimePicker:(d,f=!1)=>{Wg.value=d,Yg.value=f,u(),d||(Ot.timePicker[0]=[],Ot.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{Ot.timePicker[f]=d},arrowRight:s,arrowLeft:r,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Ot.monthYear=[],Ot.calendar=[],Ot.time=[],Ot.actionRow=[],Ot.selectionGrid=[],Ot.timePicker[0]=[],Ot.timePicker[1]=[],Td.value=!1,Wg.value=!1,Yg.value=!1,zg.value=!1,u(),Vg.value=null},setMonthPicker:d=>{zg.value=d,u()},refSets:Ot}},E0=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),b4=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:e=>`Month picker${e?" overlay":""}`,yearPicker:e=>`Year picker${e?" overlay":""}`,timeOverlay:e=>`${e} overlay`,...t??{}}),C0=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,w4=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:C0(!1)};const i=e?t:{},s=e?i.count??!0:t,r=C0(s);return Object.assign(n,i,{count:r})},x4=(t,e,n)=>t||(typeof n=="string"?n:e),E4=t=>typeof t=="boolean"?t?E0({}):!1:E0(t),C4=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},S4=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),k4=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),T4=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},A4=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,...t??{}}),P4=t=>{const e={dates:Array.isArray(t)?t.map(n=>ke(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},M4=t=>typeof t=="object"?{type:t?.type??"local",hideOnOffsetDates:t?.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},I4=t=>{const e={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...e,...t}:{enabled:t,...e}},D4=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Hg=(t,e,n)=>new Map(t.map(i=>{const s=B_(i,e,n);return[z_(s),s]})),R4=(t,e)=>t.length?new Map(t.map(n=>{const i=B_(n.date,e);return[z_(i),n]})):null,$4=t=>{var e;return{minDate:sm(t.minDate,t.timezone,t.isSpecific),maxDate:sm(t.maxDate,t.timezone,t.isSpecific),disabledDates:Lg(t.disabledDates)?Hg(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Lg(t.allowedDates)?Hg(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Lg((e=t.highlight)==null?void 0:e.dates)?Hg(t.highlight.dates,t.timezone):t.highlight,markers:R4(t.markers,t.timezone)}},L4=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},O4=t=>({...Object.fromEntries(Object.keys(t).map(e=>{const n=e,i=t[n],s=typeof t[n]=="string"?{[i]:!0}:Object.fromEntries(i.map(r=>[r,!0]));return[e,s]}))}),Ut=t=>{const e=()=>{const C=t.enableSeconds?":ss":"",k=t.enableMinutes?":mm":"";return t.is24?`HH${k}${C}`:`hh${k}${C} aa`},n=()=>{var C;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((C=v.value)==null?void 0:C.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},i=C=>gS(C,t.enableSeconds),s=()=>w.value.enabled?t.startTime&&Array.isArray(t.startTime)?[i(t.startTime[0]),i(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?i(t.startTime):null,r=ve(()=>w4(t.multiCalendars)),o=ve(()=>s()),a=ve(()=>b4(t.ariaLabels)),l=ve(()=>S4(t.filters)),c=ve(()=>E4(t.transitions)),u=ve(()=>k4(t.actionRow)),d=ve(()=>x4(t.previewFormat,t.format,n())),f=ve(()=>C4(t.textInput)),g=ve(()=>T4(t.inline)),p=ve(()=>A4(t.config)),m=ve(()=>P4(t.highlight)),v=ve(()=>M4(t.weekNumbers)),y=ve(()=>D4(t.timezone)),x=ve(()=>L4(t.multiDates)),E=ve(()=>$4({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:m.value,markers:t.markers,timezone:y.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),w=ve(()=>I4(t.range)),b=ve(()=>O4(t.ui));return{defaultedTransitions:c,defaultedMultiCalendars:r,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:g,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:v,defaultedRange:w,propDates:E,defaultedTz:y,defaultedMultiDates:x,defaultedUI:b,getDefaultPattern:n,getDefaultStartTime:s}},N4=(t,e,n)=>{const i=me(),{defaultedTextInput:s,defaultedRange:r,defaultedTz:o,defaultedMultiDates:a,getDefaultPattern:l}=Ut(e),c=me(""),u=tu(e,"format"),d=tu(e,"formatLocale");jt(i,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",i.value,ue(!0))},{deep:!0}),jt(r,(L,le)=>{L.enabled!==le.enabled&&(i.value=null)}),jt(u,()=>{X()});const f=L=>o.value.timezone&&o.value.convertModel?xi(L,o.value.timezone):L,g=L=>{if(o.value.timezone&&o.value.convertModel){const le=i4(o.value.timezone);return tF(L,le)}return L},p=(L,le,de=!1)=>mS(L,e.format,e.formatLocale,s.value.rangeSeparator,e.modelAuto,le??l(),de),m=L=>L?e.modelType?H(L):{hours:vr(L),minutes:ao(L),seconds:e.enableSeconds?kl(L):0}:null,v=L=>e.modelType?H(L):{month:at(L),year:Ze(L)},y=L=>Array.isArray(L)?a.value.enabled?L.map(le=>x(le,As(ke(),le))):kd(()=>[As(ke(),L[0]),L[1]?As(ke(),L[1]):La(r.value.partialRange)],r.value.enabled):As(ke(),+L),x=(L,le)=>(typeof L=="string"||typeof L=="number")&&e.modelType?J(L):le,E=L=>Array.isArray(L)?[x(L[0],to(null,+L[0].hours,+L[0].minutes,L[0].seconds)),x(L[1],to(null,+L[1].hours,+L[1].minutes,L[1].seconds))]:x(L,to(null,L.hours,L.minutes,L.seconds)),w=L=>{const le=Dt(ke(),{date:1});return Array.isArray(L)?a.value.enabled?L.map(de=>x(de,ar(le,+de.month,+de.year))):kd(()=>[x(L[0],ar(le,+L[0].month,+L[0].year)),x(L[1],L[1]?ar(le,+L[1].month,+L[1].year):La(r.value.partialRange))],r.value.enabled):x(L,ar(le,+L.month,+L.year))},b=L=>{if(Array.isArray(L))return L.map(le=>J(le));throw new Error(W_.dateArr("multi-dates"))},C=L=>{if(Array.isArray(L)&&r.value.enabled){const le=L[0],de=L[1];return[ke(Array.isArray(le)?le[0]:null),Array.isArray(de)&&de.length?ke(de[0]):null]}return ke(L[0])},k=L=>e.modelAuto?Array.isArray(L)?[J(L[0]),J(L[1])]:e.autoApply?[J(L)]:[J(L),null]:Array.isArray(L)?kd(()=>L[1]?[J(L[0]),L[1]?J(L[1]):La(r.value.partialRange)]:[J(L[0])],r.value.enabled):J(L),T=()=>{Array.isArray(i.value)&&r.value.enabled&&i.value.length===1&&i.value.push(La(r.value.partialRange))},A=()=>{const L=i.value;return[H(L[0]),L[1]?H(L[1]):La(r.value.partialRange)]},I=()=>i.value[1]?A():H(Tn(i.value[0])),V=()=>(i.value||[]).map(L=>H(L)),Y=(L=!1)=>(L||T(),e.modelAuto?I():a.value.enabled?V():Array.isArray(i.value)?kd(()=>A(),r.value.enabled):H(Tn(i.value))),ne=L=>!L||Array.isArray(L)&&!L.length?null:e.timePicker?E(Tn(L)):e.monthPicker?w(Tn(L)):e.yearPicker?y(Tn(L)):a.value.enabled?b(Tn(L)):e.weekPicker?C(Tn(L)):k(Tn(L)),N=L=>{const le=ne(L);om(Tn(le))?(i.value=Tn(le),X()):(i.value=null,c.value="")},B=()=>{const L=le=>Ls(le,s.value.format);return`${L(i.value[0])} ${s.value.rangeSeparator} ${i.value[1]?L(i.value[1]):""}`},R=()=>n.value&&i.value?Array.isArray(i.value)?B():Ls(i.value,s.value.format):p(i.value),W=()=>i.value?a.value.enabled?i.value.map(L=>p(L)).join("; "):s.value.enabled&&typeof s.value.format=="string"?R():p(i.value):"",X=()=>{!e.format||typeof e.format=="string"||s.value.enabled&&typeof s.value.format=="string"?c.value=W():c.value=e.format(i.value)},J=L=>{if(e.utc){const le=new Date(L);return e.utc==="preserve"?new Date(le.getTime()+le.getTimezoneOffset()*6e4):le}return e.modelType?s4.includes(e.modelType)?f(new Date(L)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?f(im(L,l(),new Date,{locale:d.value})):f(im(L,e.modelType,new Date,{locale:d.value})):f(new Date(L))},H=L=>L?e.utc?g4(L,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+g(L):e.modelType==="iso"?g(L).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(g(L)):p(g(L),e.modelType,!0):g(L):"",ce=(L,le=!1,de=!1)=>{if(de)return L;if(t("update:model-value",L),o.value.emitTimezone&&le){const xe=Array.isArray(L)?L.map(z=>xi(Tn(z),o.value.emitTimezone)):xi(Tn(L),o.value.emitTimezone);t("update:model-timezone-value",xe)}},ie=L=>Array.isArray(i.value)?a.value.enabled?i.value.map(le=>L(le)):[L(i.value[0]),i.value[1]?L(i.value[1]):La(r.value.partialRange)]:L(Tn(i.value)),te=()=>{if(Array.isArray(i.value)){const L=nr(i.value[0],e.weekStart),le=i.value[1]?nr(i.value[1],e.weekStart):[];return[L.map(de=>ke(de)),le.map(de=>ke(de))]}return nr(i.value,e.weekStart).map(L=>ke(L))},D=(L,le)=>ce(Tn(ie(L)),!1,le),ee=L=>{const le=te();return L?le:t("update:model-value",te())},ue=(L=!1)=>(L||X(),e.monthPicker?D(v,L):e.timePicker?D(m,L):e.yearPicker?D(Ze,L):e.weekPicker?ee(L):ce(Y(L),!0,L));return{inputValue:c,internalModelValue:i,checkBeforeEmit:()=>i.value?r.value.enabled?r.value.partialRange?i.value.length>=1:i.value.length===2:!!i.value:!1,parseExternalModelValue:N,formatInputValue:X,emitModelValue:ue}},F4=(t,e)=>{const{defaultedFilters:n,propDates:i}=Ut(t),{validateMonthYearInRange:s}=bo(t),r=(u,d)=>{let f=u;return n.value.months.includes(at(f))?(f=d?ds(u,1):Al(u,1),r(f,d)):f},o=(u,d)=>{let f=u;return n.value.years.includes(Ze(f))?(f=d?A_(u,1):rS(u,1),o(f,d)):f},a=(u,d=!1)=>{const f=Dt(ke(),{month:t.month,year:t.year});let g=u?ds(f,1):Al(f,1);t.disableYearSelect&&(g=As(g,t.year));let p=at(g),m=Ze(g);n.value.months.includes(p)&&(g=r(g,u),p=at(g),m=Ze(g)),n.value.years.includes(m)&&(g=o(g,u),m=Ze(g)),s(p,m,u,t.preventMinMaxNavigation)&&l(p,m,d)},l=(u,d,f)=>{e("update-month-year",{month:u,year:d,fromNav:f})},c=ve(()=>u=>pS(Dt(ke(),{month:t.month,year:t.year}),i.value.maxDate,i.value.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:a,isDisabled:c,updateMonthYear:l}},Cf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},_s={...Cf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},B4=["title"],V4=["disabled"],W4=fn({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},..._s},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,i=t,{defaultedActionRow:s,defaultedPreviewFormat:r,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,defaultedRange:c,defaultedMultiDates:u}=Ut(i),{isTimeValid:d,isMonthValid:f}=bo(i),{buildMatrix:g}=yo(),p=me(null),m=me(null),v=me(!1),y=me({}),x=me(null),E=me(null);Vt(()=>{i.arrowNavigation&&g([bn(p),bn(m)],"actionRow"),w(),window.addEventListener("resize",w)}),_o(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var N,B;const R=(N=x.value)==null?void 0:N.getBoundingClientRect(),W=(B=E.value)==null?void 0:B.getBoundingClientRect();R&&W&&(y.value.maxWidth=`${W.width-R.width-20}px`),v.value=!0},0)},b=ve(()=>c.value.enabled&&!c.value.partialRange&&i.internalModelValue?i.internalModelValue.length===2:!0),C=ve(()=>!d.value(i.internalModelValue)||!f.value(i.internalModelValue)||!b.value),k=()=>{const N=r.value;return i.timePicker||i.monthPicker,N(Tn(i.internalModelValue))},T=()=>{const N=i.internalModelValue;return o.value.count>0?`${A(N[0])} - ${A(N[1])}`:[A(N[0]),A(N[1])]},A=N=>mS(N,r.value,i.formatLocale,a.value.rangeSeparator,i.modelAuto,r.value),I=ve(()=>!i.internalModelValue||!i.menuMount?"":typeof r.value=="string"?Array.isArray(i.internalModelValue)?i.internalModelValue.length===2&&i.internalModelValue[1]?T():u.value.enabled?i.internalModelValue.map(N=>`${A(N)}`):i.modelAuto?`${A(i.internalModelValue[0])}`:`${A(i.internalModelValue[0])} -`:A(i.internalModelValue):k()),V=()=>u.value.enabled?"; ":" - ",Y=ve(()=>Array.isArray(I.value)?I.value.join(V()):I.value),ne=()=>{d.value(i.internalModelValue)&&f.value(i.internalModelValue)&&b.value?n("select-date"):n("invalid-select")};return(N,B)=>(P(),F("div",{ref_key:"actionRowRef",ref:E,class:"dp__action_row"},[N.$slots["action-row"]?Fe(N.$slots,"action-row",In(xn({key:0},{internalModelValue:N.internalModelValue,disabled:C.value,selectDate:()=>N.$emit("select-date"),closePicker:()=>N.$emit("close-picker")}))):(P(),F(Ie,{key:1},[Z(s).showPreview?(P(),F("div",{key:0,class:"dp__selection_preview",title:Y.value,style:Mn(y.value)},[N.$slots["action-preview"]&&v.value?Fe(N.$slots,"action-preview",{key:0,value:N.internalModelValue}):se("",!0),!N.$slots["action-preview"]&&v.value?(P(),F(Ie,{key:1},[Be(pe(Y.value),1)],64)):se("",!0)],12,B4)):se("",!0),h("div",{ref_key:"actionBtnContainer",ref:x,class:"dp__action_buttons","data-dp-element":"action-row"},[N.$slots["action-buttons"]?Fe(N.$slots,"action-buttons",{key:0,value:N.internalModelValue}):se("",!0),N.$slots["action-buttons"]?se("",!0):(P(),F(Ie,{key:1},[!Z(l).enabled&&Z(s).showCancel?(P(),F("button",{key:0,ref_key:"cancelButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_cancel",onClick:B[0]||(B[0]=R=>N.$emit("close-picker")),onKeydown:B[1]||(B[1]=R=>Z(si)(R,()=>N.$emit("close-picker")))},pe(N.cancelText),545)):se("",!0),Z(s).showNow?(P(),F("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:B[2]||(B[2]=R=>N.$emit("select-now")),onKeydown:B[3]||(B[3]=R=>Z(si)(R,()=>N.$emit("select-now")))},pe(N.nowButtonLabel),33)):se("",!0),Z(s).showSelect?(P(),F("button",{key:2,ref_key:"selectButtonRef",ref:m,type:"button",class:"dp__action_button dp__action_select",disabled:C.value,"data-test":"select-button",onKeydown:B[4]||(B[4]=R=>Z(si)(R,()=>ne())),onClick:ne},pe(N.selectText),41,V4)):se("",!0)],64))],512)],64))],512))}}),z4=["role","aria-label","tabindex"],Y4={class:"dp__selection_grid_header"},H4=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],j4=["aria-label"],zu=fn({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:i,buildMultiLevelMatrix:s,setMonthPicker:r}=yo(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:c,defaultedConfig:u}=Ut(a),{hideNavigationButtons:d}=Tf(),f=me(!1),g=me(null),p=me(null),m=me([]),v=me(),y=me(null),x=me(0),E=me(null);wE(()=>{g.value=null}),Vt(()=>{Rn().then(()=>V()),a.noOverlayFocus||b(),w(!0)}),_o(()=>w(!1));const w=ie=>{var te;a.arrowNavigation&&((te=a.headerRefs)!=null&&te.length?r(ie):i(ie))},b=()=>{var ie;const te=bn(p);te&&(c.value.enabled||(g.value?(ie=g.value)==null||ie.focus({preventScroll:!0}):te.focus({preventScroll:!0})),f.value=te.clientHeight<te.scrollHeight)},C=ve(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),k=ve(()=>a.useRelative?{height:`${a.height}px`,width:"var(--dp-menu-min-width)"}:void 0),T=ve(()=>({dp__overlay_col:!0})),A=ve(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),I=ve(()=>{var ie,te;return{dp__overlay_container:!0,dp__container_flex:((ie=a.items)==null?void 0:ie.length)<=6,dp__container_block:((te=a.items)==null?void 0:te.length)>6}});jt(()=>a.items,()=>V(!1),{deep:!0});const V=(ie=!0)=>{Rn().then(()=>{const te=bn(g),D=bn(p),ee=bn(y),ue=bn(E),L=ee?ee.getBoundingClientRect().height:0;D&&(D.getBoundingClientRect().height?x.value=D.getBoundingClientRect().height-L:x.value=u.value.modeHeight-L),te&&ue&&ie&&(ue.scrollTop=te.offsetTop-ue.offsetTop-(x.value/2-te.getBoundingClientRect().height)-L)})},Y=ie=>{ie.disabled||o("selected",ie.value)},ne=()=>{o("toggle"),o("reset-flow")},N=()=>{a.escClose&&ne()},B=(ie,te,D,ee)=>{ie&&((te.active||te.value===a.focusValue)&&(g.value=ie),a.arrowNavigation&&(Array.isArray(m.value[D])?m.value[D][ee]=ie:m.value[D]=[ie],R()))},R=()=>{var ie,te;const D=(ie=a.headerRefs)!=null&&ie.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[y.value]]);s(Tn(D),(te=a.headerRefs)!=null&&te.length?"monthPicker":"selectionGrid")},W=ie=>{a.arrowNavigation||eo(ie,u.value,!0)},X=ie=>{v.value=ie,o("hover-value",ie)},J=()=>{if(ne(),!a.isLast){const ie=rm(a.menuWrapRef??null,"action-row");if(ie){const te=cS(ie);te?.focus()}}},H=ie=>{switch(ie.key){case Nt.esc:return N();case Nt.arrowLeft:return W(ie);case Nt.arrowRight:return W(ie);case Nt.arrowUp:return W(ie);case Nt.arrowDown:return W(ie);default:return}},ce=ie=>{if(ie.key===Nt.enter)return ne();if(ie.key===Nt.tab)return J()};return e({focusGrid:b}),(ie,te)=>{var D;return P(),F("div",{ref_key:"gridWrapRef",ref:p,class:Ee(C.value),style:Mn(k.value),role:ie.useRelative?void 0:"dialog","aria-label":ie.overlayLabel,tabindex:ie.useRelative?void 0:"0",onKeydown:H,onClick:te[0]||(te[0]=ru(()=>{},["prevent"]))},[h("div",{ref_key:"containerRef",ref:E,class:Ee(I.value),style:Mn({"--dp-overlay-height":`${x.value}px`}),role:"grid"},[h("div",Y4,[Fe(ie.$slots,"header")]),ie.$slots.overlay?Fe(ie.$slots,"overlay",{key:0}):(P(!0),F(Ie,{key:1},Ge(ie.items,(ee,ue)=>(P(),F("div",{key:ue,class:Ee(["dp__overlay_row",{dp__flex_row:ie.items.length>=3}]),role:"row"},[(P(!0),F(Ie,null,Ge(ee,(L,le)=>(P(),F("div",{key:L.value,ref_for:!0,ref:de=>B(de,L,ue,le),role:"gridcell",class:Ee(T.value),"aria-selected":L.active||void 0,"aria-disabled":L.disabled||void 0,tabindex:"0","data-test":L.text,onClick:ru(de=>Y(L),["prevent"]),onKeydown:de=>Z(si)(de,()=>Y(L),!0),onMouseover:de=>X(L.value)},[h("div",{class:Ee(L.className)},[ie.$slots.item?Fe(ie.$slots,"item",{key:0,item:L}):se("",!0),ie.$slots.item?se("",!0):(P(),F(Ie,{key:1},[Be(pe(L.text),1)],64))],2)],42,H4))),128))],2))),128))],6),ie.$slots["button-icon"]?Re((P(),F("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(D=Z(l))==null?void 0:D.toggleOverlay,class:Ee(A.value),tabindex:"0",onClick:ne,onKeydown:ce},[Fe(ie.$slots,"button-icon")],42,j4)),[[ah,!Z(d)(ie.hideNavigation,ie.type)]]):se("",!0)],46,z4)}}}),Sf=fn({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=ve(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),i=ve(()=>({dp__instance_calendar:e.multiCalendars>0}));return(s,r)=>(P(),F("div",{class:Ee({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0,"dp--flex-display-collapsed":s.collapse})},[(P(!0),F(Ie,null,Ge(n.value,(o,a)=>(P(),F("div",{key:o,class:Ee(i.value)},[Fe(s.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),K4=["data-dp-element","aria-label","aria-disabled"],jc=fn({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,i=me(null);return Vt(()=>n("set-ref",i)),(s,r)=>(P(),F("button",{ref_key:"elRef",ref:i,type:"button","data-dp-element":s.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":s.ariaLabel,"aria-disabled":s.disabled||void 0,onClick:r[0]||(r[0]=o=>s.$emit("activate")),onKeydown:r[1]||(r[1]=o=>Z(si)(o,()=>s.$emit("activate"),!0))},[h("span",{class:Ee(["dp__inner_nav",{dp__inner_nav_disabled:s.disabled}])},[Fe(s.$slots,"default")],2)],40,K4))}}),U4=["aria-label","data-test"],bS=fn({__name:"YearModePicker",props:{..._s,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,i=t,{showRightIcon:s,showLeftIcon:r}=Tf(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:c,defaultedUI:u}=Ut(i),{showTransition:d,transitionName:f}=Yu(c),g=me(!1),p=(y=!1,x)=>{g.value=!g.value,n("toggle-year-picker",{flow:y,show:x})},m=y=>{g.value=!1,n("year-select",y)},v=(y=!1)=>{n("handle-year",y)};return(y,x)=>{var E,w,b,C,k;return P(),F(Ie,null,[h("div",{class:Ee(["dp--year-mode-picker",{"dp--hidden-el":g.value}])},[Z(r)(Z(a),t.instance)?(P(),Ce(jc,{key:0,ref:"mpPrevIconRef","aria-label":(E=Z(l))==null?void 0:E.prevYear,disabled:t.isDisabled(!1),class:Ee((w=Z(u))==null?void 0:w.navBtnPrev),onActivate:x[0]||(x[0]=T=>v(!1))},{default:Pe(()=>[y.$slots["arrow-left"]?Fe(y.$slots,"arrow-left",{key:0}):se("",!0),y.$slots["arrow-left"]?se("",!0):(P(),Ce(Z($_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):se("",!0),h("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(b=Z(l))==null?void 0:b.openYearsOverlay}`,"data-test":`year-mode-btn-${t.instance}`,onClick:x[1]||(x[1]=()=>p(!1)),onKeydown:x[2]||(x[2]=dC(()=>p(!1),["enter"]))},[y.$slots.year?Fe(y.$slots,"year",{key:0,year:t.year}):se("",!0),y.$slots.year?se("",!0):(P(),F(Ie,{key:1},[Be(pe(t.year),1)],64))],40,U4),Z(s)(Z(a),t.instance)?(P(),Ce(jc,{key:1,ref:"mpNextIconRef","aria-label":(C=Z(l))==null?void 0:C.nextYear,disabled:t.isDisabled(!0),class:Ee((k=Z(u))==null?void 0:k.navBtnNext),onActivate:x[3]||(x[3]=T=>v(!0))},{default:Pe(()=>[y.$slots["arrow-right"]?Fe(y.$slots,"arrow-right",{key:0}):se("",!0),y.$slots["arrow-right"]?se("",!0):(P(),Ce(Z(L_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):se("",!0)],2),$(vt,{name:Z(f)(t.showYearPicker),css:Z(d)},{default:Pe(()=>{var T,A;return[t.showYearPicker?(P(),Ce(zu,{key:0,items:t.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!Z(o).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,"overlay-label":(A=(T=Z(l))==null?void 0:T.yearPicker)==null?void 0:A.call(T,!0),type:"year",onToggle:p,onSelected:x[4]||(x[4]=I=>m(I))},Xn({"button-icon":Pe(()=>[y.$slots["calendar-icon"]?Fe(y.$slots,"calendar-icon",{key:0}):se("",!0),y.$slots["calendar-icon"]?se("",!0):(P(),Ce(Z(Gl),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:Pe(({item:I})=>[Fe(y.$slots,"year-overlay-value",{text:I.text,value:I.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):se("",!0)]}),_:3},8,["name","css"])],64)}}}),H_=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(i=>ct(t,i))){const i=e.value.filter(s=>!ct(s,t));e.value=i.length?i:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},j_=(t,e,n)=>{let i=t.value?t.value.slice():[];return i.length===2&&i[1]!==null&&(i=[]),i.length?tn(e,i[0])?(i.unshift(e),n("range-start",i[0]),n("range-start",i[1])):(i[1]=e,n("range-end",e)):(i=[e],n("range-start",e)),i},kf=(t,e,n,i)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&i&&n&&e("auto-apply"))},wS=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>xi(ke(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=xi(ke(t.value),t.timezone))},xS=(t,e,n,i)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&i.value.partialRange)?i.value.fixedStart&&(ln(t,e.value[0])||ct(t,e.value[0]))?[e.value[0],t]:i.value.fixedEnd&&(tn(t,e.value[1])||ct(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],ES=({multiCalendars:t,range:e,highlight:n,propDates:i,calendars:s,modelValue:r,props:o,filters:a,year:l,month:c,emit:u})=>{const d=ve(()=>V_(o.yearRange,o.locale,o.reverseYears)),f=me([!1]),g=ve(()=>(I,V)=>{const Y=Dt(os(new Date),{month:c.value(I),year:l.value(I)}),ne=V?KC(Y):lu(Y);return pS(ne,i.value.maxDate,i.value.minDate,o.preventMinMaxNavigation,V)}),p=()=>Array.isArray(r.value)&&t.value.solo&&r.value[1],m=()=>{for(let I=0;I<t.value.count;I++)if(I===0)s.value[I]=s.value[0];else if(I===t.value.count-1&&p())s.value[I]={month:at(r.value[1]),year:Ze(r.value[1])};else{const V=Dt(ke(),s.value[I-1]);s.value[I]={month:at(V),year:Ze(A_(V,1))}}},v=I=>{if(!I)return m();const V=Dt(ke(),s.value[I]);return s.value[0].year=Ze(rS(V,t.value.count-1)),m()},y=(I,V)=>{const Y=oF(V,I);return e.value.showLastInRange&&Y>1?V:I},x=I=>o.focusStartDate||t.value.solo?I[0]:I[1]?y(I[0],I[1]):I[0],E=()=>{if(r.value){const I=Array.isArray(r.value)?x(r.value):r.value;s.value[0]={month:at(I),year:Ze(I)}}},w=()=>{E(),t.value.count&&m()};jt(r,(I,V)=>{o.isTextInputDate&&JSON.stringify(I??{})!==JSON.stringify(V??{})&&w()}),Vt(()=>{w()});const b=(I,V)=>{s.value[V].year=I,u("update-month-year",{instance:V,year:I,month:s.value[V].month}),t.value.count&&!t.value.solo&&v(V)},C=ve(()=>I=>Pl(d.value,V=>{var Y;const ne=l.value(I)===V.value,N=uu(V.value,Ml(i.value.minDate),Ml(i.value.maxDate))||((Y=a.value.years)==null?void 0:Y.includes(l.value(I))),B=Y_(n.value,V.value);return{active:ne,disabled:N,highlighted:B}})),k=(I,V)=>{b(I,V),A(V)},T=(I,V=!1)=>{if(!g.value(I,V)){const Y=V?l.value(I)+1:l.value(I)-1;b(Y,I)}},A=(I,V=!1,Y)=>{V||u("reset-flow"),Y!==void 0?f.value[I]=Y:f.value[I]=!f.value[I],f.value[I]?u("overlay-toggle",{open:!0,overlay:jn.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:jn.year}))};return{isDisabled:g,groupedYears:C,showYearPicker:f,selectYear:b,toggleYearPicker:A,handleYearSelect:k,handleYear:T}},G4=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:i,defaultedTransitions:s,defaultedConfig:r,defaultedRange:o,defaultedHighlight:a,propDates:l,defaultedTz:c,defaultedFilters:u,defaultedMultiDates:d}=Ut(t),f=()=>{t.isTextInputDate&&w(Ze(ke(t.startDate)),0)},{modelValue:g,year:p,month:m,calendars:v}=Hu(t,e,f),y=ve(()=>aS(t.formatLocale,t.locale,t.monthNameFormat)),x=me(null),{checkMinMaxRange:E}=bo(t),{selectYear:w,groupedYears:b,showYearPicker:C,toggleYearPicker:k,handleYearSelect:T,handleYear:A,isDisabled:I}=ES({modelValue:g,multiCalendars:n,range:o,highlight:a,calendars:v,year:p,propDates:l,month:m,filters:u,props:t,emit:e});Vt(()=>{t.startDate&&(g.value&&t.focusStartDate||!g.value)&&w(Ze(ke(t.startDate)),0)});const V=D=>D?{month:at(D),year:Ze(D)}:{month:null,year:null},Y=()=>g.value?Array.isArray(g.value)?g.value.map(D=>V(D)):V(g.value):V(),ne=(D,ee)=>{const ue=v.value[D],L=Y();return Array.isArray(L)?L.some(le=>le.year===ue?.year&&le.month===ee):ue?.year===L.year&&ee===L.month},N=(D,ee,ue)=>{var L,le;const de=Y();return Array.isArray(de)?p.value(ee)===((L=de[ue])==null?void 0:L.year)&&D===((le=de[ue])==null?void 0:le.month):!1},B=(D,ee)=>{if(o.value.enabled){const ue=Y();if(Array.isArray(g.value)&&Array.isArray(ue)){const L=N(D,ee,0)||N(D,ee,1),le=ar(os(ke()),D,p.value(ee));return Ef(g.value,x.value,le)&&!L}return!1}return!1},R=ve(()=>D=>Pl(y.value,ee=>{var ue;const L=ne(D,ee.value),le=uu(ee.value,dS(p.value(D),l.value.minDate),hS(p.value(D),l.value.maxDate))||y4(l.value.disabledDates,p.value(D)).includes(ee.value)||((ue=u.value.months)==null?void 0:ue.includes(ee.value)),de=B(ee.value,D),xe=_S(a.value,ee.value,p.value(D));return{active:L,disabled:le,isBetween:de,highlighted:xe}})),W=(D,ee)=>ar(os(ke()),D,p.value(ee)),X=(D,ee)=>{const ue=g.value?g.value:os(new Date);g.value=ar(ue,D,p.value(ee)),e("auto-apply"),e("update-flow-step")},J=(D,ee)=>{const ue=W(D,ee);o.value.fixedEnd||o.value.fixedStart?g.value=xS(ue,g,e,o):g.value?E(ue,g.value)&&(g.value=j_(g,W(D,ee),e)):g.value=[W(D,ee)],Rn().then(()=>{kf(g.value,e,t.autoApply,t.modelAuto)})},H=(D,ee)=>{H_(W(D,ee),g,d.value.limit),e("auto-apply",!0)},ce=(D,ee)=>(v.value[ee].month=D,te(ee,v.value[ee].year,D),d.value.enabled?H(D,ee):o.value.enabled?J(D,ee):X(D,ee)),ie=(D,ee)=>{w(D,ee),te(ee,D,null)},te=(D,ee,ue)=>{let L=ue;if(!L&&L!==0){const le=Y();L=Array.isArray(le)?le[D].month:le.month}e("update-month-year",{instance:D,year:ee,month:L})};return{groupedMonths:R,groupedYears:b,year:p,isDisabled:I,defaultedMultiCalendars:n,defaultedAriaLabels:i,defaultedTransitions:s,defaultedConfig:r,showYearPicker:C,modelValue:g,presetDate:(D,ee)=>{wS({value:D,modelValue:g,range:o.value.enabled,timezone:ee?void 0:c.value.timezone}),e("auto-apply")},setHoverDate:(D,ee)=>{x.value=W(D,ee)},selectMonth:ce,selectYear:ie,toggleYearPicker:k,handleYearSelect:T,handleYear:A,getModelMonthYear:Y}},X4=fn({compatConfig:{MODE:3},__name:"MonthPicker",props:{..._s},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,s=va(),r=Pi(s,"yearMode"),o=t;Vt(()=>{o.shadow||i("mount",null)});const{groupedMonths:a,groupedYears:l,year:c,isDisabled:u,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:g,modelValue:p,presetDate:m,setHoverDate:v,selectMonth:y,selectYear:x,toggleYearPicker:E,handleYearSelect:w,handleYear:b,getModelMonthYear:C}=G4(o,i);return e({getSidebarProps:()=>({modelValue:p,year:c,getModelMonthYear:C,selectMonth:y,selectYear:x,handleYear:b}),presetDate:m,toggleYearPicker:k=>E(0,k)}),(k,T)=>(P(),Ce(Sf,{"multi-calendars":Z(d).count,collapse:k.collapse,stretch:""},{default:Pe(({instance:A})=>[k.$slots["top-extra"]?Fe(k.$slots,"top-extra",{key:0,value:k.internalModelValue}):se("",!0),k.$slots["month-year"]?Fe(k.$slots,"month-year",In(xn({key:1},{year:Z(c),months:Z(a)(A),years:Z(l)(A),selectMonth:Z(y),selectYear:Z(x),instance:A}))):(P(),Ce(zu,{key:2,items:Z(a)(A),"arrow-navigation":k.arrowNavigation,"is-last":k.autoApply&&!Z(f).keepActionRow,"esc-close":k.escClose,height:Z(f).modeHeight,config:k.config,"no-overlay-focus":!!(k.noOverlayFocus||k.textInput),"use-relative":"",type:"month",onSelected:I=>Z(y)(I,A),onHoverValue:I=>Z(v)(I,A)},Xn({header:Pe(()=>[$(bS,xn(k.$props,{items:Z(l)(A),instance:A,"show-year-picker":Z(g)[A],year:Z(c)(A),"is-disabled":I=>Z(u)(A,I),onHandleYear:I=>Z(b)(A,I),onYearSelect:I=>Z(w)(I,A),onToggleYearPicker:I=>Z(E)(A,I?.flow,I?.show)}),Xn({_:2},[Ge(Z(r),(I,V)=>({name:I,fn:Pe(Y=>[Fe(k.$slots,I,In(ii(Y)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:Pe(({item:I})=>[Fe(k.$slots,"month-overlay-value",{text:I.text,value:I.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),q4=(t,e)=>{const n=()=>{t.isTextInputDate&&(u.value=Ze(ke(t.startDate)))},{modelValue:i}=Hu(t,e,n),s=me(null),{defaultedHighlight:r,defaultedMultiDates:o,defaultedFilters:a,defaultedRange:l,propDates:c}=Ut(t),u=me();Vt(()=>{t.startDate&&(i.value&&t.focusStartDate||!i.value)&&(u.value=Ze(ke(t.startDate)))});const d=m=>Array.isArray(i.value)?i.value.some(v=>Ze(v)===m):i.value?Ze(i.value)===m:!1,f=m=>l.value.enabled&&Array.isArray(i.value)?Ef(i.value,s.value,p(m)):!1,g=ve(()=>Pl(V_(t.yearRange,t.locale,t.reverseYears),m=>{const v=d(m.value),y=uu(m.value,Ml(c.value.minDate),Ml(c.value.maxDate))||a.value.years.includes(m.value),x=f(m.value)&&!v,E=Y_(r.value,m.value);return{active:v,disabled:y,isBetween:x,highlighted:E}})),p=m=>As(os(lu(new Date)),m);return{groupedYears:g,modelValue:i,focusYear:u,setHoverValue:m=>{s.value=As(os(new Date),m)},selectYear:m=>{var v;if(e("update-month-year",{instance:0,year:m}),o.value.enabled)return i.value?Array.isArray(i.value)&&(((v=i.value)==null?void 0:v.map(y=>Ze(y))).includes(m)?i.value=i.value.filter(y=>Ze(y)!==m):i.value.push(As(ai(ke()),m))):i.value=[As(ai(lu(ke())),m)],e("auto-apply",!0);l.value.enabled?(i.value=j_(i,p(m),e),Rn().then(()=>{kf(i.value,e,t.autoApply,t.modelAuto)})):(i.value=p(m),e("auto-apply"))}}},Z4=fn({compatConfig:{MODE:3},__name:"YearPicker",props:{..._s},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const i=n,s=t,{groupedYears:r,modelValue:o,focusYear:a,selectYear:l,setHoverValue:c}=q4(s,i),{defaultedConfig:u}=Ut(s);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,f)=>(P(),F("div",null,[d.$slots["top-extra"]?Fe(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):se("",!0),d.$slots["month-year"]?Fe(d.$slots,"month-year",In(xn({key:1},{years:Z(r),selectYear:Z(l)}))):(P(),Ce(zu,{key:2,items:Z(r),"is-last":d.autoApply&&!Z(u).keepActionRow,height:Z(u).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":Z(a),type:"year","use-relative":"",onSelected:Z(l),onHoverValue:Z(c)},Xn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:Pe(({item:g})=>[Fe(d.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),J4={key:0,class:"dp__time_input"},Q4=["data-test","aria-label","onKeydown","onClick","onMousedown"],eB=["aria-label","disabled","data-test","onKeydown","onClick"],tB=["data-test","aria-label","onKeydown","onClick","onMousedown"],nB={key:0},iB=["aria-label"],sB=fn({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._s},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const i=n,s=t,{setTimePickerElements:r,setTimePickerBackRef:o}=yo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:c,defaultedConfig:u,defaultedRange:d}=Ut(s),{transitionName:f,showTransition:g}=Yu(l),p=Ei({hours:!1,minutes:!1,seconds:!1}),m=me("AM"),v=me(null),y=me([]),x=me(),E=me(!1);Vt(()=>{i("mounted")});const w=S=>Dt(new Date,{hours:S.hours,minutes:S.minutes,seconds:s.enableSeconds?S.seconds:0,milliseconds:0}),b=ve(()=>S=>W(S,s[S])||k(S,s[S])),C=ve(()=>({hours:s.hours,minutes:s.minutes,seconds:s.seconds})),k=(S,O)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!s.validateTime(S,O):!1,T=(S,O)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const K=O?+s[`${S}Increment`]:-+s[`${S}Increment`],U=s[S]+K;return!s.validateTime(S,U)}return!1},A=ve(()=>S=>!ie(+s[S]+ +s[`${S}Increment`],S)||T(S,!0)),I=ve(()=>S=>!ie(+s[S]-+s[`${S}Increment`],S)||T(S,!1)),V=(S,O)=>BC(Dt(ke(),S),O),Y=(S,O)=>t4(Dt(ke(),S),O),ne=ve(()=>({dp__time_col:!0,dp__time_col_block:!s.timePickerInline,dp__time_col_reg_block:!s.enableSeconds&&s.is24&&!s.timePickerInline,dp__time_col_reg_inline:!s.enableSeconds&&s.is24&&s.timePickerInline,dp__time_col_reg_with_button:!s.enableSeconds&&!s.is24,dp__time_col_sec:s.enableSeconds&&s.is24,dp__time_col_sec_with_button:s.enableSeconds&&!s.is24})),N=ve(()=>{const S=[{type:"hours"}];return s.enableMinutes&&S.push({type:"",separator:!0},{type:"minutes"}),s.enableSeconds&&S.push({type:"",separator:!0},{type:"seconds"}),S}),B=ve(()=>N.value.filter(S=>!S.separator)),R=ve(()=>S=>{if(S==="hours"){const O=le(+s.hours);return{text:O<10?`0${O}`:`${O}`,value:O}}return{text:s[S]<10?`0${s[S]}`:`${s[S]}`,value:s[S]}}),W=(S,O)=>{var K;if(!s.disabledTimesConfig)return!1;const U=s.disabledTimesConfig(s.order,S==="hours"?O:void 0);return U[S]?!!((K=U[S])!=null&&K.includes(O)):!0},X=(S,O)=>O!=="hours"||m.value==="AM"?S:S+12,J=S=>{const O=s.is24?24:12,K=S==="hours"?O:60,U=+s[`${S}GridIncrement`],oe=S==="hours"&&!s.is24?U:0,j=[];for(let re=oe;re<K;re+=U)j.push({value:s.is24?re:X(re,S),text:re<10?`0${re}`:`${re}`});return S==="hours"&&!s.is24&&j.unshift({value:m.value==="PM"?12:0,text:"12"}),Pl(j,re=>({active:!1,disabled:c.value.times[S].includes(re.value)||!ie(re.value,S)||W(S,re.value)||k(S,re.value)}))},H=S=>S>=0?S:59,ce=S=>S>=0?S:23,ie=(S,O)=>{const K=s.minTime?w(Og(s.minTime)):null,U=s.maxTime?w(Og(s.maxTime)):null,oe=w(Og(C.value,O,O==="minutes"||O==="seconds"?H(S):ce(S)));return K&&U?(cu(oe,U)||tl(oe,U))&&(Tl(oe,K)||tl(oe,K)):K?Tl(oe,K)||tl(oe,K):U?cu(oe,U)||tl(oe,U):!0},te=S=>s[`no${S[0].toUpperCase()+S.slice(1)}Overlay`],D=S=>{te(S)||(p[S]=!p[S],p[S]?(E.value=!0,i("overlay-opened",S)):(E.value=!1,i("overlay-closed",S)))},ee=S=>S==="hours"?vr:S==="minutes"?ao:kl,ue=()=>{x.value&&clearTimeout(x.value)},L=(S,O=!0,K)=>{const U=O?V:Y,oe=O?+s[`${S}Increment`]:-+s[`${S}Increment`];ie(+s[S]+oe,S)&&i(`update:${S}`,ee(S)(U({[S]:+s[S]},{[S]:+s[`${S}Increment`]}))),!(K!=null&&K.keyboard)&&u.value.timeArrowHoldThreshold&&(x.value=setTimeout(()=>{L(S,O)},u.value.timeArrowHoldThreshold))},le=S=>s.is24?S:(S>=12?m.value="PM":m.value="AM",a4(S)),de=()=>{m.value==="PM"?(m.value="AM",i("update:hours",s.hours-12)):(m.value="PM",i("update:hours",s.hours+12)),i("am-pm-change",m.value)},xe=S=>{p[S]=!0},z=(S,O,K)=>{if(S&&s.arrowNavigation){Array.isArray(y.value[O])?y.value[O][K]=S:y.value[O]=[S];const U=y.value.reduce((oe,j)=>j.map((re,Q)=>[...oe[Q]||[],j[Q]]),[]);o(s.closeTimePickerBtn),v.value&&(U[1]=U[1].concat(v.value)),r(U,s.order)}},fe=(S,O)=>(D(S),i(`update:${S}`,O));return e({openChildCmp:xe}),(S,O)=>{var K;return S.disabled?se("",!0):(P(),F("div",J4,[(P(!0),F(Ie,null,Ge(N.value,(U,oe)=>{var j,re,Q;return P(),F("div",{key:oe,class:Ee(ne.value)},[U.separator?(P(),F(Ie,{key:0},[E.value?se("",!0):(P(),F(Ie,{key:0},[Be(":")],64))],64)):(P(),F(Ie,{key:1},[h("button",{ref_for:!0,ref:ge=>z(ge,oe,0),type:"button",class:Ee({dp__btn:!0,dp__inc_dec_button:!S.timePickerInline,dp__inc_dec_button_inline:S.timePickerInline,dp__tp_inline_btn_top:S.timePickerInline,dp__inc_dec_button_disabled:A.value(U.type),"dp--hidden-el":E.value}),"data-test":`${U.type}-time-inc-btn-${s.order}`,"aria-label":(j=Z(a))==null?void 0:j.incrementValue(U.type),tabindex:"0",onKeydown:ge=>Z(si)(ge,()=>L(U.type,!0,{keyboard:!0}),!0),onClick:ge=>Z(u).timeArrowHoldThreshold?void 0:L(U.type,!0),onMousedown:ge=>Z(u).timeArrowHoldThreshold?L(U.type,!0):void 0,onMouseup:ue},[s.timePickerInline?(P(),F(Ie,{key:1},[S.$slots["tp-inline-arrow-up"]?Fe(S.$slots,"tp-inline-arrow-up",{key:0}):(P(),F(Ie,{key:1},[O[2]||(O[2]=h("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),O[3]||(O[3]=h("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(P(),F(Ie,{key:0},[S.$slots["arrow-up"]?Fe(S.$slots,"arrow-up",{key:0}):se("",!0),S.$slots["arrow-up"]?se("",!0):(P(),Ce(Z(N_),{key:1}))],64))],42,Q4),h("button",{ref_for:!0,ref:ge=>z(ge,oe,1),type:"button","aria-label":`${R.value(U.type).text}-${(re=Z(a))==null?void 0:re.openTpOverlay(U.type)}`,class:Ee({dp__time_display:!0,dp__time_display_block:!S.timePickerInline,dp__time_display_inline:S.timePickerInline,"dp--time-invalid":b.value(U.type),"dp--time-overlay-btn":!b.value(U.type),"dp--hidden-el":E.value}),disabled:te(U.type),tabindex:"0","data-test":`${U.type}-toggle-overlay-btn-${s.order}`,onKeydown:ge=>Z(si)(ge,()=>D(U.type),!0),onClick:ge=>D(U.type)},[S.$slots[U.type]?Fe(S.$slots,U.type,{key:0,text:R.value(U.type).text,value:R.value(U.type).value}):se("",!0),S.$slots[U.type]?se("",!0):(P(),F(Ie,{key:1},[Be(pe(R.value(U.type).text),1)],64))],42,eB),h("button",{ref_for:!0,ref:ge=>z(ge,oe,2),type:"button",class:Ee({dp__btn:!0,dp__inc_dec_button:!S.timePickerInline,dp__inc_dec_button_inline:S.timePickerInline,dp__tp_inline_btn_bottom:S.timePickerInline,dp__inc_dec_button_disabled:I.value(U.type),"dp--hidden-el":E.value}),"data-test":`${U.type}-time-dec-btn-${s.order}`,"aria-label":(Q=Z(a))==null?void 0:Q.decrementValue(U.type),tabindex:"0",onKeydown:ge=>Z(si)(ge,()=>L(U.type,!1,{keyboard:!0}),!0),onClick:ge=>Z(u).timeArrowHoldThreshold?void 0:L(U.type,!1),onMousedown:ge=>Z(u).timeArrowHoldThreshold?L(U.type,!1):void 0,onMouseup:ue},[s.timePickerInline?(P(),F(Ie,{key:1},[S.$slots["tp-inline-arrow-down"]?Fe(S.$slots,"tp-inline-arrow-down",{key:0}):(P(),F(Ie,{key:1},[O[4]||(O[4]=h("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),O[5]||(O[5]=h("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(P(),F(Ie,{key:0},[S.$slots["arrow-down"]?Fe(S.$slots,"arrow-down",{key:0}):se("",!0),S.$slots["arrow-down"]?se("",!0):(P(),Ce(Z(F_),{key:1}))],64))],42,tB)],64))],2)}),128)),S.is24?se("",!0):(P(),F("div",nB,[S.$slots["am-pm-button"]?Fe(S.$slots,"am-pm-button",{key:0,toggle:de,value:m.value}):se("",!0),S.$slots["am-pm-button"]?se("",!0):(P(),F("button",{key:1,ref_key:"amPmButton",ref:v,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(K=Z(a))==null?void 0:K.amPmButton,tabindex:"0",onClick:de,onKeydown:O[0]||(O[0]=U=>Z(si)(U,()=>de(),!0))},pe(m.value),41,iB))])),(P(!0),F(Ie,null,Ge(B.value,(U,oe)=>(P(),Ce(vt,{key:oe,name:Z(f)(p[U.type]),css:Z(g)},{default:Pe(()=>{var j,re;return[p[U.type]?(P(),Ce(zu,{key:0,items:J(U.type),"is-last":S.autoApply&&!Z(u).keepActionRow,"esc-close":S.escClose,type:U.type,"text-input":S.textInput,config:S.config,"arrow-navigation":S.arrowNavigation,"aria-labels":S.ariaLabels,"overlay-label":(re=(j=Z(a)).timeOverlay)==null?void 0:re.call(j,U.type),onSelected:Q=>fe(U.type,Q),onToggle:Q=>D(U.type),onResetFlow:O[1]||(O[1]=Q=>S.$emit("reset-flow"))},Xn({"button-icon":Pe(()=>[S.$slots["clock-icon"]?Fe(S.$slots,"clock-icon",{key:0}):se("",!0),S.$slots["clock-icon"]?se("",!0):(P(),Ce(_a(S.timePickerInline?Z(Gl):Z(O_)),{key:1}))]),_:2},[S.$slots[`${U.type}-overlay-value`]?{name:"item",fn:Pe(({item:Q})=>[Fe(S.$slots,`${U.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,S.$slots[`${U.type}-overlay-header`]?{name:"header",fn:Pe(()=>[Fe(S.$slots,`${U.type}-overlay-header`,{toggle:()=>D(U.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):se("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),rB={class:"dp--tp-wrap"},oB=["aria-label","tabindex"],aB=["role","aria-label","tabindex"],lB=["aria-label"],CS=fn({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._s},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const i=n,s=t,{buildMatrix:r,setTimePicker:o}=yo(),a=va(),{defaultedTransitions:l,defaultedAriaLabels:c,defaultedTextInput:u,defaultedConfig:d,defaultedRange:f}=Ut(s),{transitionName:g,showTransition:p}=Yu(l),{hideNavigationButtons:m}=Tf(),v=me(null),y=me(null),x=me([]),E=me(null),w=me(!1);Vt(()=>{i("mount"),!s.timePicker&&s.arrowNavigation?r([bn(v.value)],"time"):o(!0,s.timePicker)});const b=ve(()=>f.value.enabled&&s.modelAuto?lS(s.internalModelValue):!0),C=me(!1),k=J=>({hours:Array.isArray(s.hours)?s.hours[J]:s.hours,minutes:Array.isArray(s.minutes)?s.minutes[J]:s.minutes,seconds:Array.isArray(s.seconds)?s.seconds[J]:s.seconds}),T=ve(()=>{const J=[];if(f.value.enabled)for(let H=0;H<2;H++)J.push(k(H));else J.push(k(0));return J}),A=(J,H=!1,ce="")=>{H||i("reset-flow"),C.value=J,i(J?"overlay-opened":"overlay-closed",jn.time),s.arrowNavigation&&o(J),Rn(()=>{ce!==""&&x.value[0]&&x.value[0].openChildCmp(ce)})},I=ve(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:s.autoApply&&!d.value.keepActionRow})),V=Pi(a,"timePicker"),Y=(J,H,ce)=>f.value.enabled?H===0?[J,T.value[1][ce]]:[T.value[0][ce],J]:J,ne=J=>{i("update:hours",J)},N=J=>{i("update:minutes",J)},B=J=>{i("update:seconds",J)},R=()=>{if(E.value&&!u.value.enabled&&!s.noOverlayFocus){const J=cS(E.value);J&&J.focus({preventScroll:!0})}},W=J=>{w.value=!1,i("overlay-closed",J)},X=J=>{w.value=!0,i("overlay-opened",J)};return e({toggleTimePicker:A}),(J,H)=>{var ce;return P(),F("div",rB,[!J.timePicker&&!J.timePickerInline?Re((P(),F("button",{key:0,ref_key:"openTimePickerBtn",ref:v,type:"button",class:Ee({...I.value,"dp--hidden-el":C.value}),"aria-label":(ce=Z(c))==null?void 0:ce.openTimePicker,tabindex:J.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:H[0]||(H[0]=ie=>Z(si)(ie,()=>A(!0))),onClick:H[1]||(H[1]=ie=>A(!0))},[J.$slots["clock-icon"]?Fe(J.$slots,"clock-icon",{key:0}):se("",!0),J.$slots["clock-icon"]?se("",!0):(P(),Ce(Z(O_),{key:1}))],42,oB)),[[ah,!Z(m)(J.hideNavigation,"time")]]):se("",!0),$(vt,{name:Z(g)(C.value),css:Z(p)&&!J.timePickerInline},{default:Pe(()=>{var ie,te;return[C.value||J.timePicker||J.timePickerInline?(P(),F("div",{key:0,ref_key:"overlayRef",ref:E,role:J.timePickerInline?void 0:"dialog",class:Ee({dp__overlay:!J.timePickerInline,"dp--overlay-absolute":!s.timePicker&&!J.timePickerInline,"dp--overlay-relative":s.timePicker}),style:Mn(J.timePicker?{height:`${Z(d).modeHeight}px`}:void 0),"aria-label":(ie=Z(c))==null?void 0:ie.timePicker,tabindex:J.timePickerInline?void 0:0},[h("div",{class:Ee(J.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[J.$slots["time-picker-overlay"]?Fe(J.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:ne,setMinutes:N,setSeconds:B}):se("",!0),J.$slots["time-picker-overlay"]?se("",!0):(P(),F("div",{key:1,class:Ee(J.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(P(!0),F(Ie,null,Ge(T.value,(D,ee)=>Re((P(),Ce(sB,xn({key:ee,ref_for:!0},{...J.$props,order:ee,hours:D.hours,minutes:D.minutes,seconds:D.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:ee===0?Z(f).fixedStart:Z(f).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:x,"validate-time":(ue,L)=>t.validateTime(ue,Y(L,ee,ue)),"onUpdate:hours":ue=>ne(Y(ue,ee,"hours")),"onUpdate:minutes":ue=>N(Y(ue,ee,"minutes")),"onUpdate:seconds":ue=>B(Y(ue,ee,"seconds")),onMounted:R,onOverlayClosed:W,onOverlayOpened:X,onAmPmChange:H[2]||(H[2]=ue=>J.$emit("am-pm-change",ue))}),Xn({_:2},[Ge(Z(V),(ue,L)=>({name:ue,fn:Pe(le=>[Fe(J.$slots,ue,xn({ref_for:!0},le))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ah,ee===0?!0:b.value]])),128))],2)),!J.timePicker&&!J.timePickerInline?Re((P(),F("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:Ee({...I.value,"dp--hidden-el":w.value}),"aria-label":(te=Z(c))==null?void 0:te.closeTimePicker,tabindex:"0",onKeydown:H[3]||(H[3]=D=>Z(si)(D,()=>A(!1))),onClick:H[4]||(H[4]=D=>A(!1))},[J.$slots["calendar-icon"]?Fe(J.$slots,"calendar-icon",{key:0}):se("",!0),J.$slots["calendar-icon"]?se("",!0):(P(),Ce(Z(Gl),{key:1}))],42,lB)),[[ah,!Z(m)(J.hideNavigation,"time")]]):se("",!0)],2)],14,aB)):se("",!0)]}),_:3},8,["name","css"])])}}}),SS=(t,e,n,i)=>{const{defaultedRange:s}=Ut(t),r=(E,w)=>Array.isArray(e[E])?e[E][w]:e[E],o=E=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[E]:e.seconds:0,a=(E,w)=>E?w!==void 0?to(E,r("hours",w),r("minutes",w),o(w)):to(E,e.hours,e.minutes,o()):sS(ke(),o(w)),l=(E,w)=>{e[E]=w},c=ve(()=>t.modelAuto&&s.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:s.value.enabled),u=(E,w)=>{const b=Object.fromEntries(Object.keys(e).map(C=>C===E?[C,w]:[C,e[C]].slice()));if(c.value&&!s.value.disableTimeRangeValidation){const C=T=>n.value?to(n.value[T],b.hours[T],b.minutes[T],b.seconds[T]):null,k=T=>iS(n.value[T],0);return!(ct(C(0),C(1))&&(Tl(C(0),k(1))||cu(C(1),k(0))))}return!0},d=(E,w)=>{u(E,w)&&(l(E,w),i&&i())},f=E=>{d("hours",E)},g=E=>{d("minutes",E)},p=E=>{d("seconds",E)},m=(E,w,b,C)=>{w&&f(E),!w&&!b&&g(E),b&&p(E),n.value&&C(n.value)},v=E=>{if(E){const w=Array.isArray(E),b=w?[+E[0].hours,+E[1].hours]:+E.hours,C=w?[+E[0].minutes,+E[1].minutes]:+E.minutes,k=w?[+E[0].seconds,+E[1].seconds]:+E.seconds;l("hours",b),l("minutes",C),t.enableSeconds&&l("seconds",k)}},y=(E,w)=>{const b={hours:Array.isArray(e.hours)?e.hours[E]:e.hours,disabledArr:[]};return(w||w===0)&&(b.hours=w),Array.isArray(t.disabledTimes)&&(b.disabledArr=s.value.enabled&&Array.isArray(t.disabledTimes[E])?t.disabledTimes[E]:t.disabledTimes),b},x=ve(()=>(E,w)=>{var b;if(Array.isArray(t.disabledTimes)){const{disabledArr:C,hours:k}=y(E,w),T=C.filter(A=>+A.hours===k);return((b=T[0])==null?void 0:b.minutes)==="*"?{hours:[k],minutes:void 0,seconds:void 0}:{hours:[],minutes:T?.map(A=>+A.minutes)??[],seconds:T?.map(A=>A.seconds?+A.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:f,updateMinutes:g,updateSeconds:p,getSetDateTime:a,updateTimeValues:m,getSecondsValue:o,assignStartTime:v,validateTime:u,disabledTimesConfig:x}},cB=(t,e)=>{const n=()=>{t.isTextInputDate&&w()},{modelValue:i,time:s}=Hu(t,e,n),{defaultedStartTime:r,defaultedRange:o,defaultedTz:a}=Ut(t),{updateTimeValues:l,getSetDateTime:c,setTime:u,assignStartTime:d,disabledTimesConfig:f,validateTime:g}=SS(t,s,i,p);function p(){e("update-flow-step")}const m=C=>{const{hours:k,minutes:T,seconds:A}=C;return{hours:+k,minutes:+T,seconds:A?+A:0}},v=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const k=m(t.startTime[0]),T=m(t.startTime[1]);return[Dt(ke(),k),Dt(ke(),T)]}const C=m(t.startTime);return Dt(ke(),C)}return o.value.enabled?[null,null]:null},y=()=>{if(o.value.enabled){const[C,k]=v();i.value=[xi(c(C,0),a.value.timezone),xi(c(k,1),a.value.timezone)]}else i.value=xi(c(v()),a.value.timezone)},x=C=>Array.isArray(C)?[sa(ke(C[0])),sa(ke(C[1]))]:[sa(C??ke())],E=(C,k,T)=>{u("hours",C),u("minutes",k),u("seconds",t.enableSeconds?T:0)},w=()=>{const[C,k]=x(i.value);return o.value.enabled?E([C.hours,k.hours],[C.minutes,k.minutes],[C.seconds,k.seconds]):E(C.hours,C.minutes,C.seconds)};Vt(()=>{if(!t.shadow)return d(r.value),i.value?w():y()});const b=()=>{Array.isArray(i.value)?i.value=i.value.map((C,k)=>C&&c(C,k)):i.value=c(i.value),e("time-update")};return{modelValue:i,time:s,disabledTimesConfig:f,updateTime:(C,k=!0,T=!1)=>{l(C,k,T,b)},validateTime:g}},uB=fn({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{..._s},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,s=t,r=va(),o=Pi(r,"timePicker"),a=me(null),{time:l,modelValue:c,disabledTimesConfig:u,updateTime:d,validateTime:f}=cB(s,i);return Vt(()=>{s.shadow||i("mount",null)}),e({getSidebarProps:()=>({modelValue:c,time:l,updateTime:d}),toggleTimePicker:(g,p=!1,m="")=>{var v;(v=a.value)==null||v.toggleTimePicker(g,p,m)}}),(g,p)=>(P(),Ce(Sf,{"multi-calendars":0,stretch:""},{default:Pe(()=>[$(CS,xn({ref_key:"tpRef",ref:a},g.$props,{hours:Z(l).hours,minutes:Z(l).minutes,seconds:Z(l).seconds,"internal-model-value":g.internalModelValue,"disabled-times-config":Z(u),"validate-time":Z(f),"onUpdate:hours":p[0]||(p[0]=m=>Z(d)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>Z(d)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>Z(d)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>g.$emit("am-pm-change",m)),onResetFlow:p[4]||(p[4]=m=>g.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=m=>g.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:p[6]||(p[6]=m=>g.$emit("overlay-toggle",{open:!0,overlay:m}))}),Xn({_:2},[Ge(Z(o),(m,v)=>({name:m,fn:Pe(y=>[Fe(g.$slots,m,In(ii(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),dB={class:"dp--header-wrap"},hB={key:0,class:"dp__month_year_wrap"},fB={key:0},gB={class:"dp__month_year_wrap"},pB=["data-dp-element","aria-label","data-test","onClick","onKeydown"],mB=fn({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},..._s},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const i=n,s=t,{defaultedTransitions:r,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:c,defaultedHighlight:u,propDates:d,defaultedUI:f}=Ut(s),{transitionName:g,showTransition:p}=Yu(r),{buildMatrix:m}=yo(),{handleMonthYearChange:v,isDisabled:y,updateMonthYear:x}=F4(s,i),{showLeftIcon:E,showRightIcon:w}=Tf(),b=me(!1),C=me(!1),k=me(!1),T=me([null,null,null,null]);Vt(()=>{i("mount")});const A=te=>({get:()=>s[te],set:D=>{const ee=te===ts.month?ts.year:ts.month;i("update-month-year",{[te]:D,[ee]:s[ee]}),te===ts.month?W(!0):X(!0)}}),I=ve(A(ts.month)),V=ve(A(ts.year)),Y=ve(()=>te=>({month:s.month,year:s.year,items:te===ts.month?s.months:s.years,instance:s.instance,updateMonthYear:x,toggle:te===ts.month?W:X})),ne=ve(()=>s.months.find(D=>D.value===s.month)||{text:"",value:0}),N=ve(()=>Pl(s.months,te=>{const D=s.month===te.value,ee=uu(te.value,dS(s.year,d.value.minDate),hS(s.year,d.value.maxDate))||l.value.months.includes(te.value),ue=_S(u.value,te.value,s.year);return{active:D,disabled:ee,highlighted:ue}})),B=ve(()=>Pl(s.years,te=>{const D=s.year===te.value,ee=uu(te.value,Ml(d.value.minDate),Ml(d.value.maxDate))||l.value.years.includes(te.value),ue=Y_(u.value,te.value);return{active:D,disabled:ee,highlighted:ue}})),R=(te,D,ee)=>{ee!==void 0?te.value=ee:te.value=!te.value,te.value?(k.value=!0,i("overlay-opened",D)):(k.value=!1,i("overlay-closed",D))},W=(te=!1,D)=>{J(te),R(b,jn.month,D)},X=(te=!1,D)=>{J(te),R(C,jn.year,D)},J=te=>{te||i("reset-flow")},H=(te,D)=>{s.arrowNavigation&&(T.value[D]=bn(te),m(T.value,"monthYear"))},ce=ve(()=>{var te,D,ee,ue,L,le;return[{type:ts.month,index:1,toggle:W,modelValue:I.value,updateModelValue:de=>I.value=de,text:ne.value.text,showSelectionGrid:b.value,items:N.value,ariaLabel:(te=o.value)==null?void 0:te.openMonthsOverlay,overlayLabel:((ee=(D=o.value).monthPicker)==null?void 0:ee.call(D,!0))??void 0},{type:ts.year,index:2,toggle:X,modelValue:V.value,updateModelValue:de=>V.value=de,text:uS(s.year,s.locale),showSelectionGrid:C.value,items:B.value,ariaLabel:(ue=o.value)==null?void 0:ue.openYearsOverlay,overlayLabel:((le=(L=o.value).yearPicker)==null?void 0:le.call(L,!0))??void 0}]}),ie=ve(()=>s.disableYearSelect?[ce.value[0]]:s.yearFirst?[...ce.value].reverse():ce.value);return e({toggleMonthPicker:W,toggleYearPicker:X,handleMonthYearChange:v}),(te,D)=>{var ee,ue,L,le,de,xe;return P(),F("div",dB,[te.$slots["month-year"]?(P(),F("div",hB,[Fe(te.$slots,"month-year",In(ii({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:Z(x),handleMonthYearChange:Z(v),instance:t.instance})))])):(P(),F(Ie,{key:1},[te.$slots["top-extra"]?(P(),F("div",fB,[Fe(te.$slots,"top-extra",{value:te.internalModelValue})])):se("",!0),h("div",gB,[Z(E)(Z(a),t.instance)&&!te.vertical?(P(),Ce(jc,{key:0,"aria-label":(ee=Z(o))==null?void 0:ee.prevMonth,disabled:Z(y)(!1),class:Ee((ue=Z(f))==null?void 0:ue.navBtnPrev),"el-name":"action-prev",onActivate:D[0]||(D[0]=z=>Z(v)(!1,!0)),onSetRef:D[1]||(D[1]=z=>H(z,0))},{default:Pe(()=>[te.$slots["arrow-left"]?Fe(te.$slots,"arrow-left",{key:0}):se("",!0),te.$slots["arrow-left"]?se("",!0):(P(),Ce(Z($_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):se("",!0),h("div",{class:Ee(["dp__month_year_wrap",{dp__year_disable_select:te.disableYearSelect}])},[(P(!0),F(Ie,null,Ge(ie.value,(z,fe)=>(P(),F(Ie,{key:z.type},[h("button",{ref_for:!0,ref:S=>H(S,fe+1),type:"button","data-dp-element":`overlay-${z.type}`,class:Ee(["dp__btn dp__month_year_select",{"dp--hidden-el":k.value}]),"aria-label":`${z.text}-${z.ariaLabel}`,"data-test":`${z.type}-toggle-overlay-${t.instance}`,onClick:z.toggle,onKeydown:S=>Z(si)(S,()=>z.toggle(),!0)},[te.$slots[z.type]?Fe(te.$slots,z.type,{key:0,text:z.text,value:s[z.type]}):se("",!0),te.$slots[z.type]?se("",!0):(P(),F(Ie,{key:1},[Be(pe(z.text),1)],64))],42,pB),$(vt,{name:Z(g)(z.showSelectionGrid),css:Z(p)},{default:Pe(()=>[z.showSelectionGrid?(P(),Ce(zu,{key:0,items:z.items,"arrow-navigation":te.arrowNavigation,"hide-navigation":te.hideNavigation,"is-last":te.autoApply&&!Z(c).keepActionRow,"skip-button-ref":!1,config:te.config,type:z.type,"header-refs":[],"esc-close":te.escClose,"menu-wrap-ref":te.menuWrapRef,"text-input":te.textInput,"aria-labels":te.ariaLabels,"overlay-label":z.overlayLabel,onSelected:z.updateModelValue,onToggle:z.toggle},Xn({"button-icon":Pe(()=>[te.$slots["calendar-icon"]?Fe(te.$slots,"calendar-icon",{key:0}):se("",!0),te.$slots["calendar-icon"]?se("",!0):(P(),Ce(Z(Gl),{key:1}))]),_:2},[te.$slots[`${z.type}-overlay-value`]?{name:"item",fn:Pe(({item:S})=>[Fe(te.$slots,`${z.type}-overlay-value`,{text:S.text,value:S.value})]),key:"0"}:void 0,te.$slots[`${z.type}-overlay`]?{name:"overlay",fn:Pe(()=>[Fe(te.$slots,`${z.type}-overlay`,xn({ref_for:!0},Y.value(z.type)))]),key:"1"}:void 0,te.$slots[`${z.type}-overlay-header`]?{name:"header",fn:Pe(()=>[Fe(te.$slots,`${z.type}-overlay-header`,{toggle:z.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):se("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Z(E)(Z(a),t.instance)&&te.vertical?(P(),Ce(jc,{key:1,"aria-label":(L=Z(o))==null?void 0:L.prevMonth,"el-name":"action-prev",disabled:Z(y)(!1),class:Ee((le=Z(f))==null?void 0:le.navBtnPrev),onActivate:D[2]||(D[2]=z=>Z(v)(!1,!0))},{default:Pe(()=>[te.$slots["arrow-up"]?Fe(te.$slots,"arrow-up",{key:0}):se("",!0),te.$slots["arrow-up"]?se("",!0):(P(),Ce(Z(N_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):se("",!0),Z(w)(Z(a),t.instance)?(P(),Ce(jc,{key:2,ref:"rightIcon","el-name":"action-next",disabled:Z(y)(!0),"aria-label":(de=Z(o))==null?void 0:de.nextMonth,class:Ee((xe=Z(f))==null?void 0:xe.navBtnNext),onActivate:D[3]||(D[3]=z=>Z(v)(!0,!0)),onSetRef:D[4]||(D[4]=z=>H(z,te.disableYearSelect?2:3))},{default:Pe(()=>[te.$slots[te.vertical?"arrow-down":"arrow-right"]?Fe(te.$slots,te.vertical?"arrow-down":"arrow-right",{key:0}):se("",!0),te.$slots[te.vertical?"arrow-down":"arrow-right"]?se("",!0):(P(),Ce(_a(te.vertical?Z(F_):Z(L_)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):se("",!0)])],64))])}}}),_B={class:"dp__calendar_header",role:"row"},vB={key:0,class:"dp__calendar_header_item",role:"gridcell"},yB=["aria-label"],bB={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},wB={class:"dp__cell_inner"},xB=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],EB=fn({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},..._s},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const i=n,s=t,{buildMultiLevelMatrix:r}=yo(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:c,defaultedWeekNumbers:u,defaultedMultiDates:d,defaultedUI:f}=Ut(s),g=me(null),p=me({bottom:"",left:"",transform:""}),m=me([]),v=me(null),y=me(!0),x=me(""),E=me({startX:0,endX:0,startY:0,endY:0}),w=me([]),b=me({left:"50%"}),C=me(!1),k=ve(()=>s.calendar?s.calendar(s.mappedDates):s.mappedDates),T=ve(()=>s.dayNames?Array.isArray(s.dayNames)?s.dayNames:s.dayNames(s.locale,+s.weekStart):o4(s.formatLocale,s.locale,+s.weekStart));Vt(()=>{i("mount",{cmp:"calendar",refs:m}),a.value.noSwipe||v.value&&(v.value.addEventListener("touchstart",H,{passive:!1}),v.value.addEventListener("touchend",ce,{passive:!1}),v.value.addEventListener("touchmove",ie,{passive:!1})),s.monthChangeOnScroll&&v.value&&v.value.addEventListener("wheel",ee,{passive:!1})});const A=z=>z?s.vertical?"vNext":"next":s.vertical?"vPrevious":"previous",I=(z,fe)=>{if(s.transitions){const S=ai(ar(ke(),s.month,s.year));x.value=ln(ai(ar(ke(),z,fe)),S)?o.value[A(!0)]:o.value[A(!1)],y.value=!1,Rn(()=>{y.value=!0})}},V=ve(()=>({...f.value.calendar??{}})),Y=ve(()=>z=>{const fe=l4(z);return{dp__marker_dot:fe.type==="dot",dp__marker_line:fe.type==="line"}}),ne=ve(()=>z=>ct(z,g.value)),N=ve(()=>({dp__calendar:!0,dp__calendar_next:c.value.count>0&&s.instance!==0})),B=ve(()=>z=>s.hideOffsetDates?z.current:!0),R=async(z,fe)=>{const{width:S,height:O}=z.getBoundingClientRect();g.value=fe.value;let K={left:`${S/2}px`},U=-50;if(await Rn(),w.value[0]){const{left:oe,width:j}=w.value[0].getBoundingClientRect();oe<0&&(K={left:"0"},U=0,b.value.left=`${S/2}px`),window.innerWidth<oe+j&&(K={right:"0"},U=0,b.value.left=`${j-S/2}px`)}p.value={bottom:`${O}px`,...K,transform:`translateX(${U}%)`}},W=async(z,fe,S)=>{var O,K,U;const oe=bn(m.value[fe][S]);oe&&((O=z.marker)!=null&&O.customPosition&&(U=(K=z.marker)==null?void 0:K.tooltip)!=null&&U.length?p.value=z.marker.customPosition(oe):await R(oe,z),i("tooltip-open",z.marker))},X=async(z,fe,S)=>{var O,K;if(C.value&&d.value.enabled&&d.value.dragSelect)return i("select-date",z);i("set-hover-date",z),(K=(O=z.marker)==null?void 0:O.tooltip)!=null&&K.length&&await W(z,fe,S)},J=z=>{g.value&&(g.value=null,p.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),i("tooltip-close",z.marker))},H=z=>{E.value.startX=z.changedTouches[0].screenX,E.value.startY=z.changedTouches[0].screenY},ce=z=>{E.value.endX=z.changedTouches[0].screenX,E.value.endY=z.changedTouches[0].screenY,te()},ie=z=>{s.vertical&&!s.inline&&z.preventDefault()},te=()=>{const z=s.vertical?"Y":"X";Math.abs(E.value[`start${z}`]-E.value[`end${z}`])>10&&i("handle-swipe",E.value[`start${z}`]>E.value[`end${z}`]?"right":"left")},D=(z,fe,S)=>{z&&(Array.isArray(m.value[fe])?m.value[fe][S]=z:m.value[fe]=[z]),s.arrowNavigation&&r(m.value,"calendar")},ee=z=>{s.monthChangeOnScroll&&(z.preventDefault(),i("handle-scroll",z))},ue=z=>u.value.type==="local"?I_(z.value,{weekStartsOn:+s.weekStart}):u.value.type==="iso"?P_(z.value):typeof u.value.type=="function"?u.value.type(z.value):"",L=z=>{const fe=z[0];return u.value.hideOnOffsetDates?z.some(S=>S.current)?ue(fe):"":ue(fe)},le=(z,fe,S=!0)=>{S&&b0()||!S&&!b0()||d.value.enabled||(eo(z,a.value),i("select-date",fe))},de=z=>{eo(z,a.value)},xe=z=>{d.value.enabled&&d.value.dragSelect?(C.value=!0,i("select-date",z)):d.value.enabled&&i("select-date",z)};return e({triggerTransition:I}),(z,fe)=>(P(),F("div",{class:Ee(N.value)},[h("div",{ref_key:"calendarWrapRef",ref:v,class:Ee(V.value),role:"grid"},[h("div",_B,[z.weekNumbers?(P(),F("div",vB,pe(z.weekNumName),1)):se("",!0),(P(!0),F(Ie,null,Ge(T.value,(S,O)=>{var K,U;return P(),F("div",{key:O,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(U=(K=Z(l))==null?void 0:K.weekDay)==null?void 0:U.call(K,O)},[z.$slots["calendar-header"]?Fe(z.$slots,"calendar-header",{key:0,day:S,index:O}):se("",!0),z.$slots["calendar-header"]?se("",!0):(P(),F(Ie,{key:1},[Be(pe(S),1)],64))],8,yB)}),128))]),fe[2]||(fe[2]=h("div",{class:"dp__calendar_header_separator"},null,-1)),$(vt,{name:x.value,css:!!z.transitions},{default:Pe(()=>[y.value?(P(),F("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:fe[1]||(fe[1]=S=>C.value=!1)},[(P(!0),F(Ie,null,Ge(k.value,(S,O)=>(P(),F("div",{key:O,class:"dp__calendar_row",role:"row"},[z.weekNumbers?(P(),F("div",bB,[h("div",wB,pe(L(S.days)),1)])):se("",!0),(P(!0),F(Ie,null,Ge(S.days,(K,U)=>{var oe,j,re;return P(),F("div",{id:Z(vS)(K.value),ref_for:!0,ref:Q=>D(Q,O,U),key:U+O,role:"gridcell",class:"dp__calendar_item","aria-pressed":(K.classData.dp__active_date||K.classData.dp__range_start||K.classData.dp__range_start)??void 0,"aria-disabled":K.classData.dp__cell_disabled||void 0,"aria-label":(j=(oe=Z(l))==null?void 0:oe.day)==null?void 0:j.call(oe,K),tabindex:!K.current&&z.hideOffsetDates?void 0:0,"data-test":K.value,onClick:ru(Q=>le(Q,K),["prevent"]),onTouchend:Q=>le(Q,K,!1),onKeydown:Q=>Z(si)(Q,()=>z.$emit("select-date",K)),onMouseenter:Q=>X(K,O,U),onMouseleave:Q=>J(K),onMousedown:Q=>xe(K),onMouseup:fe[0]||(fe[0]=Q=>C.value=!1)},[h("div",{class:Ee(["dp__cell_inner",K.classData])},[z.$slots.day&&B.value(K)?Fe(z.$slots,"day",{key:0,day:+K.text,date:K.value}):se("",!0),z.$slots.day?se("",!0):(P(),F(Ie,{key:1},[Be(pe(K.text),1)],64)),K.marker&&B.value(K)?(P(),F(Ie,{key:2},[z.$slots.marker?Fe(z.$slots,"marker",{key:0,marker:K.marker,day:+K.text,date:K.value}):(P(),F("div",{key:1,class:Ee(Y.value(K.marker)),style:Mn(K.marker.color?{backgroundColor:K.marker.color}:{})},null,6))],64)):se("",!0),ne.value(K.value)?(P(),F("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:w,class:"dp__marker_tooltip",style:Mn(p.value)},[(re=K.marker)!=null&&re.tooltip?(P(),F("div",{key:0,class:"dp__tooltip_content",onClick:de},[(P(!0),F(Ie,null,Ge(K.marker.tooltip,(Q,ge)=>(P(),F("div",{key:ge,class:"dp__tooltip_text"},[z.$slots["marker-tooltip"]?Fe(z.$slots,"marker-tooltip",{key:0,tooltip:Q,day:K.value}):se("",!0),z.$slots["marker-tooltip"]?se("",!0):(P(),F(Ie,{key:1},[h("div",{class:"dp__tooltip_mark",style:Mn(Q.color?{backgroundColor:Q.color}:{})},null,4),h("div",null,pe(Q.text),1)],64))]))),128)),h("div",{class:"dp__arrow_bottom_tp",style:Mn(b.value)},null,4)])):se("",!0)],4)):se("",!0)],2)],40,xB)}),128))]))),128))],32)):se("",!0)]),_:3},8,["name","css"])],2)],2))}}),S0=t=>Array.isArray(t),CB=(t,e,n,i)=>{const s=me([]),r=me(new Date),o=me(),a=()=>H(t.isTextInputDate),{modelValue:l,calendars:c,time:u,today:d}=Hu(t,e,a),{defaultedMultiCalendars:f,defaultedStartTime:g,defaultedRange:p,defaultedConfig:m,defaultedTz:v,propDates:y,defaultedMultiDates:x}=Ut(t),{validateMonthYearInRange:E,isDisabled:w,isDateRangeAllowed:b,checkMinMaxRange:C}=bo(t),{updateTimeValues:k,getSetDateTime:T,setTime:A,assignStartTime:I,validateTime:V,disabledTimesConfig:Y}=SS(t,u,l,i),ne=ve(()=>ae=>c.value[ae]?c.value[ae].month:0),N=ve(()=>ae=>c.value[ae]?c.value[ae].year:0),B=ae=>!m.value.keepViewOnOffsetClick||ae?!0:!o.value,R=(ae,Te,he,Ae=!1)=>{var Ne,Xt;B(Ae)&&(c.value[ae]||(c.value[ae]={month:0,year:0}),c.value[ae].month=y0(Te)?(Ne=c.value[ae])==null?void 0:Ne.month:Te,c.value[ae].year=y0(he)?(Xt=c.value[ae])==null?void 0:Xt.year:he)},W=()=>{t.autoApply&&e("select-date")};Vt(()=>{t.shadow||(l.value||(z(),g.value&&I(g.value)),H(!0),t.focusStartDate&&t.startDate&&z())});const X=ve(()=>{var ae;return(ae=t.flow)!=null&&ae.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),J=()=>{t.autoApply&&X.value&&e("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},H=(ae=!1)=>{if(l.value)return Array.isArray(l.value)?(s.value=l.value,L(ae)):te(l.value,ae);if(f.value.count&&ae&&!t.startDate)return ie(ke(),ae)},ce=()=>Array.isArray(l.value)&&p.value.enabled?at(l.value[0])===at(l.value[1]??l.value[0]):!1,ie=(ae=new Date,Te=!1)=>{if((!f.value.count||!f.value.static||Te)&&R(0,at(ae),Ze(ae)),f.value.count&&(!f.value.solo||!l.value||ce()))for(let he=1;he<f.value.count;he++){const Ae=Dt(ke(),{month:ne.value(he-1),year:N.value(he-1)}),Ne=BC(Ae,{months:1});c.value[he]={month:at(Ne),year:Ze(Ne)}}},te=(ae,Te)=>{ie(ae),A("hours",vr(ae)),A("minutes",ao(ae)),A("seconds",kl(ae)),f.value.count&&Te&&xe()},D=ae=>{if(f.value.count){if(f.value.solo)return 0;const Te=at(ae[0]),he=at(ae[1]);return Math.abs(he-Te)<f.value.count?0:1}return 1},ee=(ae,Te)=>{ae[1]&&p.value.showLastInRange?ie(ae[D(ae)],Te):ie(ae[0],Te);const he=(Ae,Ne)=>[Ae(ae[0]),ae[1]?Ae(ae[1]):u[Ne][1]];A("hours",he(vr,"hours")),A("minutes",he(ao,"minutes")),A("seconds",he(kl,"seconds"))},ue=(ae,Te)=>{if((p.value.enabled||t.weekPicker)&&!x.value.enabled)return ee(ae,Te);if(x.value.enabled&&Te){const he=ae[ae.length-1];return te(he,Te)}},L=ae=>{const Te=l.value;ue(Te,ae),f.value.count&&f.value.solo&&xe()},le=(ae,Te)=>{const he=Dt(ke(),{month:ne.value(Te),year:N.value(Te)}),Ae=ae<0?ds(he,1):Al(he,1);E(at(Ae),Ze(Ae),ae<0,t.preventMinMaxNavigation)&&(R(Te,at(Ae),Ze(Ae)),e("update-month-year",{instance:Te,month:at(Ae),year:Ze(Ae)}),f.value.count&&!f.value.solo&&de(Te),n())},de=ae=>{for(let Te=ae-1;Te>=0;Te--){const he=Al(Dt(ke(),{month:ne.value(Te+1),year:N.value(Te+1)}),1);R(Te,at(he),Ze(he))}for(let Te=ae+1;Te<=f.value.count-1;Te++){const he=ds(Dt(ke(),{month:ne.value(Te-1),year:N.value(Te-1)}),1);R(Te,at(he),Ze(he))}},xe=()=>{if(Array.isArray(l.value)&&l.value.length===2){const ae=ke(ke(l.value[1]?l.value[1]:ds(l.value[0],1))),[Te,he]=[at(l.value[0]),Ze(l.value[0])],[Ae,Ne]=[at(l.value[1]),Ze(l.value[1])];(Te!==Ae||Te===Ae&&he!==Ne)&&f.value.solo&&R(1,at(ae),Ze(ae))}else l.value&&!Array.isArray(l.value)&&(R(0,at(l.value),Ze(l.value)),ie(ke()))},z=()=>{t.startDate&&(R(0,at(ke(t.startDate)),Ze(ke(t.startDate))),f.value.count&&de(0))},fe=(ae,Te)=>{if(t.monthChangeOnScroll){const he=new Date().getTime()-r.value.getTime(),Ae=Math.abs(ae.deltaY);let Ne=500;Ae>1&&(Ne=100),Ae>100&&(Ne=0),he>Ne&&(r.value=new Date,le(t.monthChangeOnScroll!=="inverse"?-ae.deltaY:ae.deltaY,Te))}},S=(ae,Te,he=!1)=>{t.monthChangeOnArrows&&t.vertical===he&&O(ae,Te)},O=(ae,Te)=>{le(ae==="right"?-1:1,Te)},K=ae=>{if(y.value.markers)return Th(ae.value,y.value.markers)},U=(ae,Te)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[ae==0,!0];case"fair":return[ae==0||Te>ae,!0];case"append":return[!1,!1];default:return[!1,!1]}},oe=(ae,Te,he,Ae)=>{if(t.sixWeeks&&ae.length<6){const Ne=6-ae.length,Xt=(Te.getDay()+7-Ae)%7,pn=6-(he.getDay()+7-Ae)%7,[$i,zs]=U(Xt,pn);for(let mn=1;mn<=Ne;mn++)if(zs?!!(mn%2)==$i:$i){const Cn=ae[0].days[0],Sn=j(rs(Cn.value,-7),at(Te));ae.unshift({days:Sn})}else{const Cn=ae[ae.length-1],Sn=Cn.days[Cn.days.length-1],li=j(rs(Sn.value,1),at(Te));ae.push({days:li})}}return ae},j=(ae,Te)=>{const he=ke(ae),Ae=[];for(let Ne=0;Ne<7;Ne++){const Xt=rs(he,Ne),pn=at(Xt)!==Te;Ae.push({text:t.hideOffsetDates&&pn?"":Xt.getDate(),value:Xt,current:!pn,classData:{}})}return Ae},re=(ae,Te)=>{const he=[],Ae=new Date(Te,ae),Ne=new Date(Te,ae+1,0),Xt=t.weekStart,pn=ps(Ae,{weekStartsOn:Xt}),$i=zs=>{const mn=j(zs,ae);if(he.push({days:mn}),!he[he.length-1].days.some(Cn=>ct(ai(Cn.value),ai(Ne)))){const Cn=rs(zs,7);$i(Cn)}};return $i(pn),oe(he,Ae,Ne,Xt)},Q=ae=>{const Te=to(ke(ae.value),u.hours,u.minutes,je());e("date-update",Te),x.value.enabled?H_(Te,l,x.value.limit):l.value=Te,i(),Rn().then(()=>{J()})},ge=ae=>p.value.noDisabledRange?fS(s.value[0],ae).some(Te=>w(Te)):!1,be=()=>{s.value=l.value?l.value.slice():[],s.value.length===2&&!(p.value.fixedStart||p.value.fixedEnd)&&(s.value=[])},we=(ae,Te)=>{const he=[ke(ae.value),rs(ke(ae.value),+p.value.autoRange)];b(he)?(Te&&Me(ae.value),s.value=he):e("invalid-date",ae.value)},Me=ae=>{const Te=at(ke(ae)),he=Ze(ke(ae));if(R(0,Te,he),f.value.count>0)for(let Ae=1;Ae<f.value.count;Ae++){const Ne=p4(Dt(ke(ae),{year:N.value(Ae-1),month:ne.value(Ae-1)}));R(Ae,Ne.month,Ne.year)}},De=ae=>{if(ge(ae.value)||!C(ae.value,l.value,p.value.fixedStart?0:1))return e("invalid-date",ae.value);s.value=xS(ke(ae.value),l,e,p)},Ye=(ae,Te)=>{if(be(),p.value.autoRange)return we(ae,Te);if(p.value.fixedStart||p.value.fixedEnd)return De(ae);s.value[0]?C(ke(ae.value),l.value)&&!ge(ae.value)?tn(ke(ae.value),ke(s.value[0]))?(s.value.unshift(ke(ae.value)),e("range-end",s.value[0])):(s.value[1]=ke(ae.value),e("range-end",s.value[1])):(t.autoApply&&e("auto-apply-invalid",ae.value),e("invalid-date",ae.value)):(s.value[0]=ke(ae.value),e("range-start",s.value[0]))},je=(ae=!0)=>t.enableSeconds?Array.isArray(u.seconds)?ae?u.seconds[0]:u.seconds[1]:u.seconds:0,nt=ae=>{s.value[ae]=to(s.value[ae],u.hours[ae],u.minutes[ae],je(ae!==1))},et=()=>{var ae,Te;s.value[0]&&s.value[1]&&+((ae=s.value)==null?void 0:ae[0])>+((Te=s.value)==null?void 0:Te[1])&&(s.value.reverse(),e("range-start",s.value[0]),e("range-end",s.value[1]))},Jt=()=>{s.value.length&&(s.value[0]&&!s.value[1]?nt(0):(nt(0),nt(1),i()),et(),l.value=s.value.slice(),kf(s.value,e,t.autoApply,t.modelAuto))},Wt=(ae,Te=!1)=>{if(w(ae.value)||!ae.current&&t.hideOffsetDates)return e("invalid-date",ae.value);if(o.value=JSON.parse(JSON.stringify(ae)),!p.value.enabled)return Q(ae);S0(u.hours)&&S0(u.minutes)&&!x.value.enabled&&(Ye(ae,Te),Jt())},gn=(ae,Te)=>{var he;R(ae,Te.month,Te.year,!0),f.value.count&&!f.value.solo&&de(ae),e("update-month-year",{instance:ae,month:Te.month,year:Te.year}),n(f.value.solo?ae:void 0);const Ae=(he=t.flow)!=null&&he.length?t.flow[t.flowStep]:void 0;!Te.fromNav&&(Ae===jn.month||Ae===jn.year)&&i()},Gt=(ae,Te)=>{wS({value:ae,modelValue:l,range:p.value.enabled,timezone:Te?void 0:v.value.timezone}),W(),t.multiCalendars&&Rn().then(()=>H(!0))},Ci=()=>{const ae=B_(ke(),v.value);p.value.enabled?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=tn(ae,l.value[0])?[ae,l.value[0]]:[l.value[0],ae]:l.value=[ae]:l.value=ae,W()},qi=()=>{if(Array.isArray(l.value))if(x.value.enabled){const ae=Qt();l.value[l.value.length-1]=T(ae)}else l.value=l.value.map((ae,Te)=>ae&&T(ae,Te));else l.value=T(l.value);e("time-update")},Qt=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:c,modelValue:l,month:ne,year:N,time:u,disabledTimesConfig:Y,today:d,validateTime:V,getCalendarDays:re,getMarker:K,handleScroll:fe,handleSwipe:O,handleArrow:S,selectDate:Wt,updateMonthYear:gn,presetDate:Gt,selectCurrentDate:Ci,updateTime:(ae,Te=!0,he=!1)=>{k(ae,Te,he,qi)},assignMonthAndYear:ie}},SB={key:0},kB=fn({__name:"DatePicker",props:{..._s},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,s=t,{calendars:r,month:o,year:a,modelValue:l,time:c,disabledTimesConfig:u,today:d,validateTime:f,getCalendarDays:g,getMarker:p,handleArrow:m,handleScroll:v,handleSwipe:y,selectDate:x,updateMonthYear:E,presetDate:w,selectCurrentDate:b,updateTime:C,assignMonthAndYear:k}=CB(s,i,ce,ie),T=va(),{setHoverDate:A,getDayClassData:I,clearHoverDate:V}=WB(l,s),{defaultedMultiCalendars:Y}=Ut(s),ne=me([]),N=me([]),B=me(null),R=Pi(T,"calendar"),W=Pi(T,"monthYear"),X=Pi(T,"timePicker"),J=fe=>{s.shadow||i("mount",fe)};jt(r,()=>{s.shadow||setTimeout(()=>{i("recalculate-position")},0)},{deep:!0}),jt(Y,(fe,S)=>{fe.count-S.count>0&&k()},{deep:!0});const H=ve(()=>fe=>g(o.value(fe),a.value(fe)).map(S=>({...S,days:S.days.map(O=>(O.marker=p(O),O.classData=I(O),O))})));function ce(fe){var S;fe||fe===0?(S=N.value[fe])==null||S.triggerTransition(o.value(fe),a.value(fe)):N.value.forEach((O,K)=>O.triggerTransition(o.value(K),a.value(K)))}function ie(){i("update-flow-step")}const te=(fe,S=!1)=>{x(fe,S),s.spaceConfirm&&i("select-date")},D=(fe,S,O=0)=>{var K;(K=ne.value[O])==null||K.toggleMonthPicker(fe,S)},ee=(fe,S,O=0)=>{var K;(K=ne.value[O])==null||K.toggleYearPicker(fe,S)},ue=(fe,S,O)=>{var K;(K=B.value)==null||K.toggleTimePicker(fe,S,O)},L=(fe,S)=>{var O;if(!s.range){const K=l.value?l.value:d,U=S?new Date(S):K,oe=fe?ps(U,{weekStartsOn:1}):UC(U,{weekStartsOn:1});x({value:oe,current:at(U)===o.value(0),text:"",classData:{}}),(O=document.getElementById(vS(oe)))==null||O.focus()}},le=fe=>{var S;(S=ne.value[0])==null||S.handleMonthYearChange(fe,!0)},de=fe=>{E(0,{month:o.value(0),year:a.value(0)+(fe?1:-1),fromNav:!0})},xe=(fe,S)=>{fe===jn.time&&i(`time-picker-${S?"open":"close"}`),i("overlay-toggle",{open:S,overlay:fe})},z=fe=>{i("overlay-toggle",{open:!1,overlay:fe}),i("focus-menu")};return e({clearHoverDate:V,presetDate:w,selectCurrentDate:b,toggleMonthPicker:D,toggleYearPicker:ee,toggleTimePicker:ue,handleArrow:m,updateMonthYear:E,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:c,updateTime:C,updateMonthYear:E,selectDate:x,presetDate:w}),changeMonth:le,changeYear:de,selectWeekDate:L}),(fe,S)=>(P(),F(Ie,null,[$(Sf,{"multi-calendars":Z(Y).count,collapse:fe.collapse},{default:Pe(({instance:O,index:K})=>[fe.disableMonthYearSelect?se("",!0):(P(),Ce(mB,xn({key:0,ref:U=>{U&&(ne.value[K]=U)},months:Z(aS)(fe.formatLocale,fe.locale,fe.monthNameFormat),years:Z(V_)(fe.yearRange,fe.locale,fe.reverseYears),month:Z(o)(O),year:Z(a)(O),instance:O},fe.$props,{onMount:S[0]||(S[0]=U=>J(Z(ia).header)),onResetFlow:S[1]||(S[1]=U=>fe.$emit("reset-flow")),onUpdateMonthYear:U=>Z(E)(O,U),onOverlayClosed:z,onOverlayOpened:S[2]||(S[2]=U=>fe.$emit("overlay-toggle",{open:!0,overlay:U}))}),Xn({_:2},[Ge(Z(W),(U,oe)=>({name:U,fn:Pe(j=>[Fe(fe.$slots,U,In(ii(j)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),$(EB,xn({ref:U=>{U&&(N.value[K]=U)},"mapped-dates":H.value(O),month:Z(o)(O),year:Z(a)(O),instance:O},fe.$props,{onSelectDate:U=>Z(x)(U,O!==1),onHandleSpace:U=>te(U,O!==1),onSetHoverDate:S[3]||(S[3]=U=>Z(A)(U)),onHandleScroll:U=>Z(v)(U,O),onHandleSwipe:U=>Z(y)(U,O),onMount:S[4]||(S[4]=U=>J(Z(ia).calendar)),onResetFlow:S[5]||(S[5]=U=>fe.$emit("reset-flow")),onTooltipOpen:S[6]||(S[6]=U=>fe.$emit("tooltip-open",U)),onTooltipClose:S[7]||(S[7]=U=>fe.$emit("tooltip-close",U))}),Xn({_:2},[Ge(Z(R),(U,oe)=>({name:U,fn:Pe(j=>[Fe(fe.$slots,U,In(ii({...j})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),fe.enableTimePicker?(P(),F("div",SB,[fe.$slots["time-picker"]?Fe(fe.$slots,"time-picker",In(xn({key:0},{time:Z(c),updateTime:Z(C)}))):(P(),Ce(CS,xn({key:1,ref_key:"timePickerRef",ref:B},fe.$props,{hours:Z(c).hours,minutes:Z(c).minutes,seconds:Z(c).seconds,"internal-model-value":fe.internalModelValue,"disabled-times-config":Z(u),"validate-time":Z(f),onMount:S[8]||(S[8]=O=>J(Z(ia).timePicker)),"onUpdate:hours":S[9]||(S[9]=O=>Z(C)(O)),"onUpdate:minutes":S[10]||(S[10]=O=>Z(C)(O,!1)),"onUpdate:seconds":S[11]||(S[11]=O=>Z(C)(O,!1,!0)),onResetFlow:S[12]||(S[12]=O=>fe.$emit("reset-flow")),onOverlayClosed:S[13]||(S[13]=O=>xe(O,!1)),onOverlayOpened:S[14]||(S[14]=O=>xe(O,!0)),onAmPmChange:S[15]||(S[15]=O=>fe.$emit("am-pm-change",O))}),Xn({_:2},[Ge(Z(X),(O,K)=>({name:O,fn:Pe(U=>[Fe(fe.$slots,O,In(ii(U)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):se("",!0)],64))}}),TB=(t,e)=>{const n=me(),{defaultedMultiCalendars:i,defaultedConfig:s,defaultedHighlight:r,defaultedRange:o,propDates:a,defaultedFilters:l,defaultedMultiDates:c}=Ut(t),{modelValue:u,year:d,month:f,calendars:g}=Hu(t,e),{isDisabled:p}=bo(t),{selectYear:m,groupedYears:v,showYearPicker:y,isDisabled:x,toggleYearPicker:E,handleYearSelect:w,handleYear:b}=ES({modelValue:u,multiCalendars:i,range:o,highlight:r,calendars:g,propDates:a,month:f,year:d,filters:l,props:t,emit:e}),C=(B,R)=>[B,R].map(W=>Ls(W,"MMMM",{locale:t.formatLocale})).join("-"),k=ve(()=>B=>u.value?Array.isArray(u.value)?u.value.some(R=>m0(B,R)):m0(u.value,B):!1),T=B=>{if(o.value.enabled){if(Array.isArray(u.value)){const R=ct(B,u.value[0])||ct(B,u.value[1]);return Ef(u.value,n.value,B)&&!R}return!1}return!1},A=(B,R)=>B.quarter===u0(R)&&B.year===Ze(R),I=B=>typeof r.value=="function"?r.value({quarter:u0(B),year:Ze(B)}):!!r.value.quarters.find(R=>A(R,B)),V=ve(()=>B=>{const R=Dt(new Date,{year:d.value(B)});return aF({start:lu(R),end:KC(R)}).map(W=>{const X=Xo(W),J=d0(W),H=p(W),ce=T(X),ie=I(X);return{text:C(X,J),value:X,active:k.value(X),highlighted:ie,disabled:H,isBetween:ce}})}),Y=B=>{H_(B,u,c.value.limit),e("auto-apply",!0)},ne=B=>{u.value=j_(u,B,e),kf(u.value,e,t.autoApply,t.modelAuto)},N=B=>{u.value=B,e("auto-apply")};return{defaultedConfig:s,defaultedMultiCalendars:i,groupedYears:v,year:d,isDisabled:x,quarters:V,showYearPicker:y,modelValue:u,setHoverDate:B=>{n.value=B},selectYear:m,selectQuarter:(B,R,W)=>{if(!W)return g.value[R].month=at(d0(B)),c.value.enabled?Y(B):o.value.enabled?ne(B):N(B)},toggleYearPicker:E,handleYearSelect:w,handleYear:b}},AB={class:"dp--quarter-items"},PB=["data-test","disabled","onClick","onMouseover"],MB=fn({compatConfig:{MODE:3},__name:"QuarterPicker",props:{..._s},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const i=n,s=t,r=va(),o=Pi(r,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:c,year:u,isDisabled:d,quarters:f,modelValue:g,showYearPicker:p,setHoverDate:m,selectQuarter:v,toggleYearPicker:y,handleYearSelect:x,handleYear:E}=TB(s,i);return e({getSidebarProps:()=>({modelValue:g,year:u,selectQuarter:v,handleYearSelect:x,handleYear:E})}),(w,b)=>(P(),Ce(Sf,{"multi-calendars":Z(a).count,collapse:w.collapse,stretch:""},{default:Pe(({instance:C})=>[h("div",{class:"dp-quarter-picker-wrap",style:Mn({minHeight:`${Z(l).modeHeight}px`})},[w.$slots["top-extra"]?Fe(w.$slots,"top-extra",{key:0,value:w.internalModelValue}):se("",!0),h("div",null,[$(bS,xn(w.$props,{items:Z(c)(C),instance:C,"show-year-picker":Z(p)[C],year:Z(u)(C),"is-disabled":k=>Z(d)(C,k),onHandleYear:k=>Z(E)(C,k),onYearSelect:k=>Z(x)(k,C),onToggleYearPicker:k=>Z(y)(C,k?.flow,k?.show)}),Xn({_:2},[Ge(Z(o),(k,T)=>({name:k,fn:Pe(A=>[Fe(w.$slots,k,In(ii(A)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),h("div",AB,[(P(!0),F(Ie,null,Ge(Z(f)(C),(k,T)=>(P(),F("div",{key:T},[h("button",{type:"button",class:Ee(["dp--qr-btn",{"dp--qr-btn-active":k.active,"dp--qr-btn-between":k.isBetween,"dp--qr-btn-disabled":k.disabled,"dp--highlighted":k.highlighted}]),"data-test":k.value,disabled:k.disabled,onClick:A=>Z(v)(k.value,C,k.disabled),onMouseover:A=>Z(m)(k.value)},[w.$slots.quarter?Fe(w.$slots,"quarter",{key:0,value:k.value,text:k.text}):(P(),F(Ie,{key:1},[Be(pe(k.text),1)],64))],42,PB)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),IB=["id","tabindex","role","aria-label"],DB={key:0,class:"dp--menu-load-container"},RB={key:1,class:"dp--menu-header"},$B={key:0,class:"dp__sidebar_left"},LB=["data-test","onClick","onKeydown"],OB={key:2,class:"dp__sidebar_right"},NB={key:3,class:"dp__action_extra"},k0=fn({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Cf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,s=t,r=me(null),o=ve(()=>{const{openOnTop:j,...re}=s;return{...re,flowStep:A.value,collapse:s.collapse,noOverlayFocus:s.noOverlayFocus,menuWrapRef:r.value}}),{setMenuFocused:a,setShiftKey:l,control:c}=yS(),u=va(),{defaultedTextInput:d,defaultedInline:f,defaultedConfig:g,defaultedUI:p}=Ut(s),m=me(null),v=me(0),y=me(null),x=me(!1),E=me(null);Vt(()=>{if(!s.shadow){x.value=!0,w(),window.addEventListener("resize",w);const j=bn(r);if(j&&!d.value.enabled&&!f.value.enabled&&(a(!0),R()),j){const re=Q=>{g.value.allowPreventDefault&&Q.preventDefault(),eo(Q,g.value,!0)};j.addEventListener("pointerdown",re),j.addEventListener("mousedown",re)}}}),_o(()=>{window.removeEventListener("resize",w)});const w=()=>{const j=bn(y);j&&(v.value=j.getBoundingClientRect().width)},{arrowRight:b,arrowLeft:C,arrowDown:k,arrowUp:T}=yo(),{flowStep:A,updateFlowStep:I,childMount:V,resetFlow:Y,handleFlow:ne}=zB(s,i,E),N=ve(()=>s.monthPicker?X4:s.yearPicker?Z4:s.timePicker?uB:s.quarterPicker?MB:kB),B=ve(()=>{var j;if(g.value.arrowLeft)return g.value.arrowLeft;const re=(j=r.value)==null?void 0:j.getBoundingClientRect(),Q=s.getInputRect();return Q?.width<v?.value&&Q?.left<=(re?.left??0)?`${Q?.width/2}px`:Q?.right>=(re?.right??0)&&Q?.width<v?.value?`${v?.value-Q?.width/2}px`:"50%"}),R=()=>{const j=bn(r);j&&j.focus({preventScroll:!0})},W=ve(()=>{var j;return((j=E.value)==null?void 0:j.getSidebarProps())||{}}),X=()=>{s.openOnTop&&i("recalculate-position")},J=Pi(u,"action"),H=ve(()=>s.monthPicker||s.yearPicker?Pi(u,"monthYear"):s.timePicker?Pi(u,"timePicker"):Pi(u,"shared")),ce=ve(()=>s.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ie=ve(()=>({dp__menu_disabled:s.disabled,dp__menu_readonly:s.readonly,"dp-menu-loading":s.loading})),te=ve(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,...p.value.menu??{}})),D=j=>{eo(j,g.value,!0)},ee=()=>{s.escClose&&i("close-picker")},ue=j=>{if(s.arrowNavigation){if(j===Qn.up)return T();if(j===Qn.down)return k();if(j===Qn.left)return C();if(j===Qn.right)return b()}else j===Qn.left||j===Qn.up?z("handleArrow",Qn.left,0,j===Qn.up):z("handleArrow",Qn.right,0,j===Qn.down)},L=j=>{l(j.shiftKey),!s.disableMonthYearSelect&&j.code===Nt.tab&&j.target.classList.contains("dp__menu")&&c.value.shiftKeyInMenu&&(j.preventDefault(),eo(j,g.value,!0),i("close-picker"))},le=()=>{R(),i("time-picker-close")},de=j=>{var re,Q,ge;(re=E.value)==null||re.toggleTimePicker(!1,!1),(Q=E.value)==null||Q.toggleMonthPicker(!1,!1,j),(ge=E.value)==null||ge.toggleYearPicker(!1,!1,j)},xe=(j,re=0)=>{var Q,ge,be;return j==="month"?(Q=E.value)==null?void 0:Q.toggleMonthPicker(!1,!0,re):j==="year"?(ge=E.value)==null?void 0:ge.toggleYearPicker(!1,!0,re):j==="time"?(be=E.value)==null?void 0:be.toggleTimePicker(!0,!1):de(re)},z=(j,...re)=>{var Q,ge;(Q=E.value)!=null&&Q[j]&&((ge=E.value)==null||ge[j](...re))},fe=()=>{z("selectCurrentDate")},S=(j,re)=>{z("presetDate",j,re)},O=()=>{z("clearHoverDate")},K=(j,re)=>{z("updateMonthYear",j,re)},U=(j,re)=>{j.preventDefault(),ue(re)},oe=j=>{var re,Q,ge;if(L(j),j.key===Nt.home||j.key===Nt.end)return z("selectWeekDate",j.key===Nt.home,j.target.getAttribute("id"));switch((j.key===Nt.pageUp||j.key===Nt.pageDown)&&(j.shiftKey?(z("changeYear",j.key===Nt.pageUp),(re=rm(r.value,"overlay-year"))==null||re.focus()):(z("changeMonth",j.key===Nt.pageUp),(Q=rm(r.value,j.key===Nt.pageUp?"action-prev":"action-next"))==null||Q.focus()),j.target.getAttribute("id")&&((ge=r.value)==null||ge.focus({preventScroll:!0}))),j.key){case Nt.esc:return ee();case Nt.arrowLeft:return U(j,Qn.left);case Nt.arrowRight:return U(j,Qn.right);case Nt.arrowUp:return U(j,Qn.up);case Nt.arrowDown:return U(j,Qn.down);default:return}};return e({updateMonthYear:K,switchView:xe,handleFlow:ne}),(j,re)=>{var Q,ge,be;return P(),F("div",{id:j.uid?`dp-menu-${j.uid}`:void 0,ref_key:"dpMenuRef",ref:r,tabindex:Z(f).enabled?void 0:"0",role:Z(f).enabled?void 0:"dialog","aria-label":(Q=j.ariaLabels)==null?void 0:Q.menu,class:Ee(te.value),style:Mn({"--dp-arrow-left":B.value}),onMouseleave:O,onClick:D,onKeydown:oe},[(j.disabled||j.readonly)&&Z(f).enabled||j.loading?(P(),F("div",{key:0,class:Ee(ie.value)},[j.loading?(P(),F("div",DB,re[19]||(re[19]=[h("span",{class:"dp--menu-loader"},null,-1)]))):se("",!0)],2)):se("",!0),j.$slots["menu-header"]?(P(),F("div",RB,[Fe(j.$slots,"menu-header")])):se("",!0),!Z(f).enabled&&!j.teleportCenter?(P(),F("div",{key:2,class:Ee(ce.value)},null,2)):se("",!0),h("div",{ref_key:"innerMenuRef",ref:y,class:Ee({dp__menu_content_wrapper:((ge=j.presetDates)==null?void 0:ge.length)||!!j.$slots["left-sidebar"]||!!j.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((be=j.presetDates)==null?void 0:be.length)||!!j.$slots["left-sidebar"]||!!j.$slots["right-sidebar"])}),style:Mn({"--dp-menu-width":`${v.value}px`})},[j.$slots["left-sidebar"]?(P(),F("div",$B,[Fe(j.$slots,"left-sidebar",In(ii(W.value)))])):se("",!0),j.presetDates.length?(P(),F("div",{key:1,class:Ee({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(P(!0),F(Ie,null,Ge(j.presetDates,(we,Me)=>(P(),F(Ie,{key:Me},[we.slot?Fe(j.$slots,we.slot,{key:0,presetDate:S,label:we.label,value:we.value}):(P(),F("button",{key:1,type:"button",style:Mn(we.style||{}),class:Ee(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":we.testId??void 0,onClick:ru(De=>S(we.value,we.noTz),["prevent"]),onKeydown:De=>Z(si)(De,()=>S(we.value,we.noTz),!0)},pe(we.label),47,LB))],64))),128))],2)):se("",!0),h("div",{ref_key:"calendarWrapperRef",ref:m,class:"dp__instance_calendar",role:"document"},[(P(),Ce(_a(N.value),xn({ref_key:"dynCmpRef",ref:E},o.value,{"flow-step":Z(A),onMount:Z(V),onUpdateFlowStep:Z(I),onResetFlow:Z(Y),onFocusMenu:R,onSelectDate:re[0]||(re[0]=we=>j.$emit("select-date")),onDateUpdate:re[1]||(re[1]=we=>j.$emit("date-update",we)),onTooltipOpen:re[2]||(re[2]=we=>j.$emit("tooltip-open",we)),onTooltipClose:re[3]||(re[3]=we=>j.$emit("tooltip-close",we)),onAutoApply:re[4]||(re[4]=we=>j.$emit("auto-apply",we)),onRangeStart:re[5]||(re[5]=we=>j.$emit("range-start",we)),onRangeEnd:re[6]||(re[6]=we=>j.$emit("range-end",we)),onInvalidFixedRange:re[7]||(re[7]=we=>j.$emit("invalid-fixed-range",we)),onTimeUpdate:re[8]||(re[8]=we=>j.$emit("time-update")),onAmPmChange:re[9]||(re[9]=we=>j.$emit("am-pm-change",we)),onTimePickerOpen:re[10]||(re[10]=we=>j.$emit("time-picker-open",we)),onTimePickerClose:le,onRecalculatePosition:X,onUpdateMonthYear:re[11]||(re[11]=we=>j.$emit("update-month-year",we)),onAutoApplyInvalid:re[12]||(re[12]=we=>j.$emit("auto-apply-invalid",we)),onInvalidDate:re[13]||(re[13]=we=>j.$emit("invalid-date",we)),onOverlayToggle:re[14]||(re[14]=we=>j.$emit("overlay-toggle",we)),"onUpdate:internalModelValue":re[15]||(re[15]=we=>j.$emit("update:internal-model-value",we))}),Xn({_:2},[Ge(H.value,(we,Me)=>({name:we,fn:Pe(De=>[Fe(j.$slots,we,In(ii({...De})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),j.$slots["right-sidebar"]?(P(),F("div",OB,[Fe(j.$slots,"right-sidebar",In(ii(W.value)))])):se("",!0),j.$slots["action-extra"]?(P(),F("div",NB,[j.$slots["action-extra"]?Fe(j.$slots,"action-extra",{key:0,selectCurrentDate:fe}):se("",!0)])):se("",!0)],6),!j.autoApply||Z(g).keepActionRow?(P(),Ce(W4,xn({key:3,"menu-mount":x.value},o.value,{"calendar-width":v.value,onClosePicker:re[16]||(re[16]=we=>j.$emit("close-picker")),onSelectDate:re[17]||(re[17]=we=>j.$emit("select-date")),onInvalidSelect:re[18]||(re[18]=we=>j.$emit("invalid-select")),onSelectNow:fe}),Xn({_:2},[Ge(Z(J),(we,Me)=>({name:we,fn:Pe(De=>[Fe(j.$slots,we,In(ii({...De})))])}))]),1040,["menu-mount","calendar-width"])):se("",!0)],46,IB)}}});var qa=(t=>(t.center="center",t.left="left",t.right="right",t))(qa||{});const FB=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:i,inline:s,emit:r,props:o,slots:a})=>{const{defaultedConfig:l}=Ut(o),c=me({}),u=me(!1),d=me({top:"0",left:"0"}),f=me(!1),g=tu(o,"teleportCenter");jt(g,()=>{d.value=JSON.parse(JSON.stringify({})),b()});const p=R=>{if(o.teleport){const W=R.getBoundingClientRect();return{left:W.left+window.scrollX,top:W.top+window.scrollY}}return{top:0,left:0}},m=(R,W)=>{d.value.left=`${R+W-c.value.width}px`},v=R=>{d.value.left=`${R}px`},y=(R,W)=>{o.position===qa.left&&v(R),o.position===qa.right&&m(R,W),o.position===qa.center&&(d.value.left=`${R+W/2-c.value.width/2}px`)},x=R=>{const{width:W,height:X}=R.getBoundingClientRect(),{top:J,left:H}=o.altPosition?o.altPosition(R):p(R);return{top:+J,left:+H,width:W,height:X}},E=()=>{d.value.left="50%",d.value.top="50%",d.value.transform="translate(-50%, -50%)",d.value.position="fixed",delete d.value.opacity},w=()=>{const R=bn(n),{top:W,left:X,transform:J}=o.altPosition(R);d.value={top:`${W}px`,left:`${X}px`,transform:J??""}},b=(R=!0)=>{var W;if(!s.value.enabled){if(g.value)return E();if(o.altPosition!==null)return w();if(R){const X=o.teleport?(W=e.value)==null?void 0:W.$el:t.value;X&&(c.value=X.getBoundingClientRect()),r("recalculate-position")}return Y()}},C=({inputEl:R,left:W,width:X})=>{window.screen.width>768&&!u.value&&y(W,X),A(R)},k=R=>{const{top:W,left:X,height:J,width:H}=x(R);d.value.top=`${J+W+ +o.offset}px`,f.value=!1,u.value||(d.value.left=`${X+H/2-c.value.width/2}px`),C({inputEl:R,left:X,width:H})},T=R=>{const{top:W,left:X,width:J}=x(R);d.value.top=`${W-+o.offset-c.value.height}px`,f.value=!0,C({inputEl:R,left:X,width:J})},A=R=>{if(o.autoPosition){const{left:W,width:X}=x(R),{left:J,right:H}=c.value;if(!u.value){if(Math.abs(J)!==Math.abs(H)){if(J<=0)return u.value=!0,v(W);if(H>=document.documentElement.clientWidth)return u.value=!0,m(W,X)}return y(W,X)}}},I=()=>{const R=bn(n);if(R){const{height:W}=c.value,{top:X,height:J}=R.getBoundingClientRect(),H=window.innerHeight-X-J,ce=X;return W<=H?Ho.bottom:W>H&&W<=ce?Ho.top:H>=ce?Ho.bottom:Ho.top}return Ho.bottom},V=R=>I()===Ho.bottom?k(R):T(R),Y=()=>{const R=bn(n);if(R)return o.autoPosition?V(R):k(R)},ne=function(R){if(R){const W=R.scrollHeight>R.clientHeight,X=window.getComputedStyle(R).overflowY.indexOf("hidden")!==-1;return W&&!X}return!0},N=function(R){return!R||R===document.body||R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:ne(R)?R:N(R.assignedSlot&&l.value.shadowDom?R.assignedSlot.parentNode:R.parentNode)},B=R=>{if(R)switch(o.position){case qa.left:return{left:0,transform:"translateX(0)"};case qa.right:return{left:`${R.width}px`,transform:"translateX(-100%)"};default:return{left:`${R.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:f,menuStyle:d,xCorrect:u,setMenuPosition:b,getScrollableParent:N,shadowRender:(R,W)=>{var X,J,H;const ce=document.createElement("div"),ie=(X=bn(n))==null?void 0:X.getBoundingClientRect();ce.setAttribute("id","dp--temp-container");const te=(J=i.value)!=null&&J.clientWidth?i.value:document.body;te.append(ce);const D=B(ie),ee=l.value.shadowDom?Object.keys(a).filter(L=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(L)):Object.keys(a),ue=ha(R,{...W,shadow:!0,style:{opacity:0,position:"absolute",...D}},Object.fromEntries(ee.map(L=>[L,a[L]])));Fb(ue,ce),c.value=(H=ue.el)==null?void 0:H.getBoundingClientRect(),Fb(null,ce),te.removeChild(ce)}}},Mr=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],BB=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],VB={all:()=>Mr,monthYear:()=>Mr.filter(t=>t.use.includes("month-year")),input:()=>BB,timePicker:()=>Mr.filter(t=>t.use.includes("time")),action:()=>Mr.filter(t=>t.use.includes("action")),calendar:()=>Mr.filter(t=>t.use.includes("calendar")),menu:()=>Mr.filter(t=>t.use.includes("menu")),shared:()=>Mr.filter(t=>t.use.includes("shared")),yearMode:()=>Mr.filter(t=>t.use.includes("year-mode"))},Pi=(t,e,n)=>{const i=[];return VB[e]().forEach(s=>{t[s.name]&&i.push(s.name)}),n!=null&&n.length&&n.forEach(s=>{s.slot&&i.push(s.slot)}),i},Yu=t=>{const e=ve(()=>i=>t.value?i?t.value.open:t.value.close:""),n=ve(()=>i=>t.value?i?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Hu=(t,e,n)=>{const{defaultedRange:i,defaultedTz:s}=Ut(t),r=ke(xi(ke(),s.value.timezone)),o=me([{month:at(r),year:Ze(r)}]),a=f=>{const g={hours:vr(r),minutes:ao(r),seconds:0};return i.value.enabled?[g[f],g[f]]:g[f]},l=Ei({hours:a("hours"),minutes:a("minutes"),seconds:a("seconds")});jt(i,(f,g)=>{f.enabled!==g.enabled&&(l.hours=a("hours"),l.minutes=a("minutes"),l.seconds=a("seconds"))},{deep:!0});const c=ve({get:()=>t.internalModelValue,set:f=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",f)}}),u=ve(()=>f=>o.value[f]?o.value[f].month:0),d=ve(()=>f=>o.value[f]?o.value[f].year:0);return jt(c,(f,g)=>{n&&JSON.stringify(f??{})!==JSON.stringify(g??{})&&n()},{deep:!0}),{calendars:o,time:l,modelValue:c,month:u,year:d,today:r}},WB=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:i,defaultedUI:s,defaultedHighlight:r,defaultedTz:o,propDates:a,defaultedRange:l}=Ut(e),{isDisabled:c}=bo(e),u=me(null),d=me(xi(new Date,o.value.timezone)),f=D=>{!D.current&&e.hideOffsetDates||(u.value=D.value)},g=()=>{u.value=null},p=D=>Array.isArray(t.value)&&l.value.enabled&&t.value[0]&&u.value?D?ln(u.value,t.value[0]):tn(u.value,t.value[0]):!0,m=(D,ee)=>{const ue=()=>t.value?ee?t.value[0]||null:t.value[1]:null,L=t.value&&Array.isArray(t.value)?ue():null;return ct(ke(D.value),L)},v=D=>{const ee=Array.isArray(t.value)?t.value[0]:null;return D?!tn(u.value??null,ee):!0},y=(D,ee=!0)=>(l.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!D.current?!1:ct(ke(D.value),t.value[ee?0:1]):l.value.enabled?m(D,ee)&&v(ee)||ct(D.value,Array.isArray(t.value)?t.value[0]:null)&&p(ee):!1,x=(D,ee)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const ue=ct(D.value,u.value);return ee?ln(t.value[0],D.value)&&ue:tn(t.value[0],D.value)&&ue}return!1},E=D=>!t.value||e.hideOffsetDates&&!D.current?!1:l.value.enabled?e.modelAuto&&Array.isArray(t.value)?ct(D.value,t.value[0]?t.value[0]:d.value):!1:i.value.enabled&&Array.isArray(t.value)?t.value.some(ee=>ct(ee,D.value)):ct(D.value,t.value?t.value:d.value),w=D=>{if(l.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!D.current)return!1;const ee=rs(u.value,+l.value.autoRange),ue=nr(ke(u.value),e.weekStart);return e.weekPicker?ct(ue[1],ke(D.value)):ct(ee,ke(D.value))}return!1}return!1},b=D=>{if(l.value.autoRange||e.weekPicker){if(u.value){const ee=rs(u.value,+l.value.autoRange);if(e.hideOffsetDates&&!D.current)return!1;const ue=nr(ke(u.value),e.weekStart);return e.weekPicker?ln(D.value,ue[0])&&tn(D.value,ue[1]):ln(D.value,u.value)&&tn(D.value,ee)}return!1}return!1},C=D=>{if(l.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!D.current)return!1;const ee=nr(ke(u.value),e.weekStart);return e.weekPicker?ct(ee[0],D.value):ct(u.value,D.value)}return!1}return!1},k=D=>Ef(t.value,u.value,D.value),T=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,A=()=>e.modelAuto?lS(e.internalModelValue):!0,I=D=>{if(e.weekPicker)return!1;const ee=l.value.enabled?!y(D)&&!y(D,!1):!0;return!c(D.value)&&!E(D)&&!(!D.current&&e.hideOffsetDates)&&ee},V=D=>l.value.enabled?e.modelAuto?T()&&E(D):!1:E(D),Y=D=>r.value?h4(D.value,a.value.highlight):!1,ne=D=>{const ee=c(D.value);return ee&&(typeof r.value=="function"?!r.value(D.value,ee):!r.value.options.highlightDisabled)},N=D=>{var ee;return typeof r.value=="function"?r.value(D.value):(ee=r.value.weekdays)==null?void 0:ee.includes(D.value.getDay())},B=D=>(l.value.enabled||e.weekPicker)&&(!(n.value.count>0)||D.current)&&A()&&!(!D.current&&e.hideOffsetDates)&&!E(D)?k(D):!1,R=D=>{const{isRangeStart:ee,isRangeEnd:ue}=H(D),L=l.value.enabled?ee||ue:!1;return{dp__cell_offset:!D.current,dp__pointer:!e.disabled&&!(!D.current&&e.hideOffsetDates)&&!c(D.value),dp__cell_disabled:c(D.value),dp__cell_highlight:!ne(D)&&(Y(D)||N(D))&&!V(D)&&!L&&!C(D)&&!(B(D)&&e.weekPicker)&&!ue,dp__cell_highlight_active:!ne(D)&&(Y(D)||N(D))&&V(D),dp__today:!e.noToday&&ct(D.value,d.value)&&D.current,"dp--past":tn(D.value,d.value),"dp--future":ln(D.value,d.value)}},W=D=>({dp__active_date:V(D),dp__date_hover:I(D)}),X=D=>{if(t.value&&!Array.isArray(t.value)){const ee=nr(t.value,e.weekStart);return{...ie(D),dp__range_start:ct(ee[0],D.value),dp__range_end:ct(ee[1],D.value),dp__range_between_week:ln(D.value,ee[0])&&tn(D.value,ee[1])}}return{...ie(D)}},J=D=>{if(t.value&&Array.isArray(t.value)){const ee=nr(t.value[0],e.weekStart),ue=t.value[1]?nr(t.value[1],e.weekStart):[];return{...ie(D),dp__range_start:ct(ee[0],D.value)||ct(ue[0],D.value),dp__range_end:ct(ee[1],D.value)||ct(ue[1],D.value),dp__range_between_week:ln(D.value,ee[0])&&tn(D.value,ee[1])||ln(D.value,ue[0])&&tn(D.value,ue[1]),dp__range_between:ln(D.value,ee[1])&&tn(D.value,ue[0])}}return{...ie(D)}},H=D=>{const ee=n.value.count>0?D.current&&y(D)&&A():y(D)&&A(),ue=n.value.count>0?D.current&&y(D,!1)&&A():y(D,!1)&&A();return{isRangeStart:ee,isRangeEnd:ue}},ce=D=>{const{isRangeStart:ee,isRangeEnd:ue}=H(D);return{dp__range_start:ee,dp__range_end:ue,dp__range_between:B(D),dp__date_hover:ct(D.value,u.value)&&!ee&&!ue&&!e.weekPicker,dp__date_hover_start:x(D,!0),dp__date_hover_end:x(D,!1)}},ie=D=>({...ce(D),dp__cell_auto_range:b(D),dp__cell_auto_range_start:C(D),dp__cell_auto_range_end:w(D)}),te=D=>l.value.enabled?l.value.autoRange?ie(D):e.modelAuto?{...W(D),...ce(D)}:e.weekPicker?J(D):ce(D):e.weekPicker?X(D):W(D);return{setHoverDate:f,clearHoverDate:g,getDayClassData:D=>e.hideOffsetDates&&!D.current?{}:{...R(D),...te(D),[e.dayClass?e.dayClass(D.value,e.internalModelValue):""]:!0,...s.value.calendarCell??{}}}},bo=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:i,defaultedMultiDates:s}=Ut(t),r=N=>i.value.disabledDates?typeof i.value.disabledDates=="function"?i.value.disabledDates(ke(N)):!!Th(N,i.value.disabledDates):!1,o=N=>i.value.maxDate?t.yearPicker?Ze(N)>Ze(i.value.maxDate):ln(N,i.value.maxDate):!1,a=N=>i.value.minDate?t.yearPicker?Ze(N)<Ze(i.value.minDate):tn(N,i.value.minDate):!1,l=N=>{const B=o(N),R=a(N),W=r(N),X=e.value.months.map(te=>+te).includes(at(N)),J=t.disabledWeekDays.length?t.disabledWeekDays.some(te=>+te===e5(N)):!1,H=g(N),ce=Ze(N),ie=ce<+t.yearRange[0]||ce>+t.yearRange[1];return!(B||R||W||X||ie||J||H)},c=(N,B)=>tn(...Kr(i.value.minDate,N,B))||ct(...Kr(i.value.minDate,N,B)),u=(N,B)=>ln(...Kr(i.value.maxDate,N,B))||ct(...Kr(i.value.maxDate,N,B)),d=(N,B,R)=>{let W=!1;return i.value.maxDate&&R&&u(N,B)&&(W=!0),i.value.minDate&&!R&&c(N,B)&&(W=!0),W},f=(N,B,R,W)=>{let X=!1;return W&&(i.value.minDate||i.value.maxDate)?i.value.minDate&&i.value.maxDate?X=d(N,B,R):(i.value.minDate&&c(N,B)||i.value.maxDate&&u(N,B))&&(X=!0):X=!0,X},g=N=>Array.isArray(i.value.allowedDates)&&!i.value.allowedDates.length?!0:i.value.allowedDates?!Th(N,i.value.allowedDates):!1,p=N=>!l(N),m=N=>n.value.noDisabledRange?!jC({start:N[0],end:N[1]}).some(B=>p(B)):!0,v=N=>{if(N){const B=Ze(N);return B>=+t.yearRange[0]&&B<=t.yearRange[1]}return!0},y=(N,B)=>!!(Array.isArray(N)&&N[B]&&(n.value.maxRange||n.value.minRange)&&v(N[B])),x=(N,B,R=0)=>{if(y(B,R)&&v(N)){const W=YC(N,B[R]),X=fS(B[R],N),J=X.length===1?0:X.filter(ce=>p(ce)).length,H=Math.abs(W)-(n.value.minMaxRawRange?0:J);if(n.value.minRange&&n.value.maxRange)return H>=+n.value.minRange&&H<=+n.value.maxRange;if(n.value.minRange)return H>=+n.value.minRange;if(n.value.maxRange)return H<=+n.value.maxRange}return!0},E=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,w=N=>Array.isArray(N)?[N[0]?Bg(N[0]):null,N[1]?Bg(N[1]):null]:Bg(N),b=(N,B,R)=>N.find(W=>+W.hours===vr(B)&&W.minutes==="*"?!0:+W.minutes===ao(B)&&+W.hours===vr(B))&&R,C=(N,B,R)=>{const[W,X]=N,[J,H]=B;return!b(W,J,R)&&!b(X,H,R)&&R},k=(N,B)=>{const R=Array.isArray(B)?B:[B];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?C(t.disabledTimes,R,N):!R.some(W=>b(t.disabledTimes,W,N)):N},T=(N,B)=>{const R=Array.isArray(B)?[sa(B[0]),B[1]?sa(B[1]):void 0]:sa(B),W=!t.disabledTimes(R);return N&&W},A=(N,B)=>t.disabledTimes?Array.isArray(t.disabledTimes)?k(B,N):T(B,N):B,I=N=>{let B=!0;if(!N||E())return!0;const R=!i.value.minDate&&!i.value.maxDate?w(N):N;return(t.maxTime||i.value.maxDate)&&(B=x0(t.maxTime,i.value.maxDate,"max",Tn(R),B)),(t.minTime||i.value.minDate)&&(B=x0(t.minTime,i.value.minDate,"min",Tn(R),B)),A(N,B)},V=N=>{if(!t.monthPicker)return!0;let B=!0;const R=ke(os(N));if(i.value.minDate&&i.value.maxDate){const W=ke(os(i.value.minDate)),X=ke(os(i.value.maxDate));return ln(R,W)&&tn(R,X)||ct(R,W)||ct(R,X)}if(i.value.minDate){const W=ke(os(i.value.minDate));B=ln(R,W)||ct(R,W)}if(i.value.maxDate){const W=ke(os(i.value.maxDate));B=tn(R,W)||ct(R,W)}return B},Y=ve(()=>N=>!t.enableTimePicker||t.ignoreTimeValidation?!0:I(N)),ne=ve(()=>N=>t.monthPicker?Array.isArray(N)&&(n.value.enabled||s.value.enabled)?!N.filter(B=>!V(B)).length:V(N):!0);return{isDisabled:p,validateDate:l,validateMonthYearInRange:f,isDateRangeAllowed:m,checkMinMaxRange:x,isValidTime:I,isTimeValid:Y,isMonthValid:ne}},Tf=()=>{const t=ve(()=>(i,s)=>i?.includes(s)),e=ve(()=>(i,s)=>i.count?i.solo?!0:s===0:!0),n=ve(()=>(i,s)=>i.count?i.solo?!0:s===i.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},zB=(t,e,n)=>{const i=me(0),s=Ei({[ia.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ia.calendar]:!1,[ia.header]:!1}),r=ve(()=>t.monthPicker||t.timePicker),o=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&r.value)return u();s[d]=!0,Object.keys(s).filter(g=>!s[g]).length||u()}},a=()=>{var d,f;(d=t.flow)!=null&&d.length&&i.value!==-1&&(i.value+=1,e("flow-step",i.value),u()),((f=t.flow)==null?void 0:f.length)===i.value&&Rn().then(()=>l())},l=()=>{i.value=-1},c=(d,f,...g)=>{var p,m;t.flow[i.value]===d&&n.value&&((m=(p=n.value)[f])==null||m.call(p,...g))},u=(d=0)=>{d&&(i.value+=d),c(jn.month,"toggleMonthPicker",!0),c(jn.year,"toggleYearPicker",!0),c(jn.calendar,"toggleTimePicker",!1,!0),c(jn.time,"toggleTimePicker",!0,!0);const f=t.flow[i.value];(f===jn.hours||f===jn.minutes||f===jn.seconds)&&c(f,"toggleTimePicker",!0,!0,f)};return{childMount:o,updateFlowStep:a,resetFlow:l,handleFlow:u,flowStep:i}},YB={key:1,class:"dp__input_wrap"},HB=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],jB={key:2,class:"dp--clear-btn"},KB=["aria-label"],UB=fn({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Cf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:e,emit:n}){const i=n,s=t,{defaultedTextInput:r,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,defaultedRange:c,defaultedMultiDates:u,defaultedUI:d,getDefaultPattern:f,getDefaultStartTime:g}=Ut(s),{checkMinMaxRange:p}=bo(s),m=me(),v=me(null),y=me(!1),x=me(!1),E=ve(()=>({dp__pointer:!s.disabled&&!s.readonly&&!r.value.enabled,dp__disabled:s.disabled,dp__input_readonly:!r.value.enabled,dp__input:!0,dp__input_icon_pad:!s.hideInputIcon,dp__input_valid:typeof s.state=="boolean"?s.state:!1,dp__input_invalid:typeof s.state=="boolean"?!s.state:!1,dp__input_focus:y.value||s.isMenuOpen,dp__input_reg:!r.value.enabled,...d.value.input??{}})),w=()=>{i("set-input-date",null),s.clearable&&s.autoApply&&(i("set-empty-date"),m.value=null)},b=H=>{const ce=g();return f4(H,r.value.format??f(),ce??gS({},s.enableSeconds),s.inputValue,x.value,s.formatLocale)},C=H=>{const{rangeSeparator:ce}=r.value,[ie,te]=H.split(`${ce}`);if(ie){const D=b(ie.trim()),ee=te?b(te.trim()):null;if(Tl(D,ee))return;const ue=D&&ee?[D,ee]:[D];p(ee,ue,0)&&(m.value=D?ue:null)}},k=()=>{x.value=!0},T=H=>{if(c.value.enabled)C(H);else if(u.value.enabled){const ce=H.split(";");m.value=ce.map(ie=>b(ie.trim())).filter(ie=>ie)}else m.value=b(H)},A=H=>{var ce;const ie=typeof H=="string"?H:(ce=H.target)==null?void 0:ce.value;ie!==""?(r.value.openMenu&&!s.isMenuOpen&&i("open"),T(ie),i("set-input-date",m.value)):w(),x.value=!1,i("update:input-value",ie),i("text-input",H,m.value)},I=H=>{r.value.enabled?(T(H.target.value),r.value.enterSubmit&&om(m.value)&&s.inputValue!==""?(i("set-input-date",m.value,!0),m.value=null):r.value.enterSubmit&&s.inputValue===""&&(m.value=null,i("clear"))):ne(H)},V=(H,ce)=>{r.value.enabled&&r.value.tabSubmit&&!ce&&T(H.target.value),r.value.tabSubmit&&om(m.value)&&s.inputValue!==""?(i("set-input-date",m.value,!0,!0),m.value=null):r.value.tabSubmit&&s.inputValue===""&&(m.value=null,i("clear",!0))},Y=()=>{y.value=!0,i("focus"),Rn().then(()=>{var H;r.value.enabled&&r.value.selectOnFocus&&((H=v.value)==null||H.select())})},ne=H=>{if(eo(H,l.value,!0),r.value.enabled&&r.value.openMenu&&!a.value.input){if(r.value.openMenu==="open"&&!s.isMenuOpen)return i("open");if(r.value.openMenu==="toggle")return i("toggle")}else r.value.enabled||i("toggle")},N=()=>{i("real-blur"),y.value=!1,(!s.isMenuOpen||a.value.enabled&&a.value.input)&&i("blur"),s.autoApply&&r.value.enabled&&m.value&&!s.isMenuOpen&&(i("set-input-date",m.value),i("select-date"),m.value=null)},B=H=>{eo(H,l.value,!0),i("clear")},R=H=>{if(H.key==="Tab"&&V(H),H.key==="Enter"&&I(H),!r.value.enabled){if(H.code==="Tab")return;H.preventDefault()}},W=()=>{var H;(H=v.value)==null||H.focus({preventScroll:!0})},X=H=>{m.value=H},J=H=>{H.key===Nt.tab&&V(H,!0)};return e({focusInput:W,setParsedDate:X}),(H,ce)=>{var ie,te,D;return P(),F("div",{onClick:ne},[H.$slots.trigger&&!H.$slots["dp-input"]&&!Z(a).enabled?Fe(H.$slots,"trigger",{key:0}):se("",!0),!H.$slots.trigger&&(!Z(a).enabled||Z(a).input)?(P(),F("div",YB,[H.$slots["dp-input"]&&!H.$slots.trigger&&(!Z(a).enabled||Z(a).enabled&&Z(a).input)?Fe(H.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:A,onEnter:I,onTab:V,onClear:B,onBlur:N,onKeypress:R,onPaste:k,onFocus:Y,openMenu:()=>H.$emit("open"),closeMenu:()=>H.$emit("close"),toggleMenu:()=>H.$emit("toggle")}):se("",!0),H.$slots["dp-input"]?se("",!0):(P(),F("input",{key:1,id:H.uid?`dp-input-${H.uid}`:void 0,ref_key:"inputRef",ref:v,"data-test":"dp-input",name:H.name,class:Ee(E.value),inputmode:Z(r).enabled?"text":"none",placeholder:H.placeholder,disabled:H.disabled,readonly:H.readonly,required:H.required,value:t.inputValue,autocomplete:H.autocomplete,"aria-label":(ie=Z(o))==null?void 0:ie.input,"aria-disabled":H.disabled||void 0,"aria-invalid":H.state===!1?!0:void 0,onInput:A,onBlur:N,onFocus:Y,onKeypress:R,onKeydown:ce[0]||(ce[0]=ee=>R(ee)),onPaste:k},null,42,HB)),h("div",{onClick:ce[3]||(ce[3]=ee=>i("toggle"))},[H.$slots["input-icon"]&&!H.hideInputIcon?(P(),F("span",{key:0,class:"dp__input_icon",onClick:ce[1]||(ce[1]=ee=>i("toggle"))},[Fe(H.$slots,"input-icon")])):se("",!0),!H.$slots["input-icon"]&&!H.hideInputIcon&&!H.$slots["dp-input"]?(P(),Ce(Z(Gl),{key:1,"aria-label":(te=Z(o))==null?void 0:te.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:ce[2]||(ce[2]=ee=>i("toggle"))},null,8,["aria-label"])):se("",!0)]),H.$slots["clear-icon"]&&t.inputValue&&H.clearable&&!H.disabled&&!H.readonly?(P(),F("span",jB,[Fe(H.$slots,"clear-icon",{clear:B})])):se("",!0),H.clearable&&!H.$slots["clear-icon"]&&t.inputValue&&!H.disabled&&!H.readonly?(P(),F("button",{key:3,"aria-label":(D=Z(o))==null?void 0:D.clearInput,class:"dp--clear-btn",type:"button",onKeydown:ce[4]||(ce[4]=ee=>Z(si)(ee,()=>B(ee),!0,J)),onClick:ce[5]||(ce[5]=ru(ee=>B(ee),["prevent"]))},[$(Z(oS),{class:"dp__input_icons","data-test":"clear-icon"})],40,KB)):se("",!0)])):se("",!0)])}}}),GB=typeof window<"u"?window:void 0,jg=()=>{},XB=t=>af()?(o_(t),!0):!1,qB=(t,e,n,i)=>{if(!t)return jg;let s=jg;const r=jt(()=>Z(t),a=>{s(),a&&(a.addEventListener(e,n,i),s=()=>{a.removeEventListener(e,n,i),s=jg})},{immediate:!0,flush:"post"}),o=()=>{r(),s()};return XB(o),o},ZB=(t,e,n,i={})=>{const{window:s=GB,event:r="pointerdown"}=i;return s?qB(s,r,o=>{const a=bn(t),l=bn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},JB=fn({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Cf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:e,emit:n}){const i=n,s=t,r=va(),o=me(!1),a=tu(s,"modelValue"),l=tu(s,"timezone"),c=me(null),u=me(null),d=me(null),f=me(!1),g=me(null),p=me(!1),m=me(!1),v=me(!1),y=me(!1),{setMenuFocused:x,setShiftKey:E}=yS(),{clearArrowNav:w}=yo(),{validateDate:b,isValidTime:C}=bo(s),{defaultedTransitions:k,defaultedTextInput:T,defaultedInline:A,defaultedConfig:I,defaultedRange:V,defaultedMultiDates:Y}=Ut(s),{menuTransition:ne,showTransition:N}=Yu(k);Vt(()=>{ee(s.modelValue),Rn().then(()=>{if(!A.value.enabled){const he=ce(g.value);he?.addEventListener("scroll",K),window?.addEventListener("resize",U)}}),A.value.enabled&&(o.value=!0),window?.addEventListener("keyup",oe),window?.addEventListener("keydown",j)}),_o(()=>{if(!A.value.enabled){const he=ce(g.value);he?.removeEventListener("scroll",K),window?.removeEventListener("resize",U)}window?.removeEventListener("keyup",oe),window?.removeEventListener("keydown",j)});const B=Pi(r,"all",s.presetDates),R=Pi(r,"input");jt([a,l],()=>{ee(a.value)},{deep:!0});const{openOnTop:W,menuStyle:X,xCorrect:J,setMenuPosition:H,getScrollableParent:ce,shadowRender:ie}=FB({menuRef:c,menuRefInner:u,inputRef:d,pickerWrapperRef:g,inline:A,emit:i,props:s,slots:r}),{inputValue:te,internalModelValue:D,parseExternalModelValue:ee,emitModelValue:ue,formatInputValue:L,checkBeforeEmit:le}=N4(i,s,f),de=ve(()=>({dp__main:!0,dp__theme_dark:s.dark,dp__theme_light:!s.dark,dp__flex_display:A.value.enabled,"dp--flex-display-collapsed":v.value,dp__flex_display_with_input:A.value.input})),xe=ve(()=>s.dark?"dp__theme_dark":"dp__theme_light"),z=ve(()=>s.teleport?{to:typeof s.teleport=="boolean"?"body":s.teleport,disabled:!s.teleport||A.value.enabled}:{}),fe=ve(()=>({class:"dp__outer_menu_wrap"})),S=ve(()=>A.value.enabled&&(s.timePicker||s.monthPicker||s.yearPicker||s.quarterPicker)),O=()=>{var he,Ae;return(Ae=(he=d.value)==null?void 0:he.$el)==null?void 0:Ae.getBoundingClientRect()},K=()=>{o.value&&(I.value.closeOnScroll?je():H())},U=()=>{var he;o.value&&H();const Ae=(he=u.value)==null?void 0:he.$el.getBoundingClientRect().width;v.value=document.body.offsetWidth<=Ae},oe=he=>{he.key==="Tab"&&!A.value.enabled&&!s.teleport&&I.value.tabOutClosesMenu&&(g.value.contains(document.activeElement)||je()),m.value=he.shiftKey},j=he=>{m.value=he.shiftKey},re=()=>{!s.disabled&&!s.readonly&&(ie(k0,s),H(!1),o.value=!0,o.value&&i("open"),o.value||Ye(),ee(s.modelValue))},Q=()=>{var he;te.value="",Ye(),(he=d.value)==null||he.setParsedDate(null),i("update:model-value",null),i("update:model-timezone-value",null),i("cleared"),I.value.closeOnClearValue&&je()},ge=()=>{const he=D.value;return!he||!Array.isArray(he)&&b(he)?!0:Array.isArray(he)?Y.value.enabled||he.length===2&&b(he[0])&&b(he[1])?!0:V.value.partialRange&&!s.timePicker?b(he[0]):!1:!1},be=()=>{le()&&ge()?(ue(),je()):i("invalid-select",D.value)},we=he=>{Me(),ue(),I.value.closeOnAutoApply&&!he&&je()},Me=()=>{d.value&&T.value.enabled&&d.value.setParsedDate(D.value)},De=(he=!1)=>{s.autoApply&&C(D.value)&&ge()&&(V.value.enabled&&Array.isArray(D.value)?(V.value.partialRange||D.value.length===2)&&we(he):we(he))},Ye=()=>{T.value.enabled||(D.value=null)},je=()=>{A.value.enabled||(o.value&&(o.value=!1,J.value=!1,x(!1),E(!1),w(),i("closed"),te.value&&ee(a.value)),Ye(),i("blur"))},nt=(he,Ae,Ne=!1)=>{if(!he){D.value=null;return}const Xt=Array.isArray(he)?!he.some($i=>!b($i)):b(he),pn=C(he);Xt&&pn?(y.value=!0,D.value=he,Ae&&(p.value=Ne,be(),i("text-submit")),Rn().then(()=>{y.value=!1})):i("invalid-date",he)},et=()=>{s.autoApply&&C(D.value)&&ue(),Me()},Jt=()=>o.value?je():re(),Wt=he=>{D.value=he},gn=()=>{T.value.enabled&&(f.value=!0,L()),i("focus")},Gt=()=>{if(T.value.enabled&&(f.value=!1,ee(s.modelValue),p.value)){const he=d4(g.value,m.value);he?.focus()}i("blur")},Ci=he=>{u.value&&u.value.updateMonthYear(0,{month:v0(he.month),year:v0(he.year)})},qi=he=>{ee(he??s.modelValue)},Qt=(he,Ae)=>{var Ne;(Ne=u.value)==null||Ne.switchView(he,Ae)},ae=he=>I.value.onClickOutside?I.value.onClickOutside(he):je(),Te=(he=0)=>{var Ae;(Ae=u.value)==null||Ae.handleFlow(he)};return ZB(c,d,()=>ae(ge)),e({closeMenu:je,selectDate:be,clearValue:Q,openMenu:re,onScroll:K,formatInputValue:L,updateInternalModelValue:Wt,setMonthYear:Ci,parseModel:qi,switchView:Qt,toggleMenu:Jt,handleFlow:Te,dpWrapMenuRef:c}),(he,Ae)=>(P(),F("div",{ref_key:"pickerWrapperRef",ref:g,class:Ee(de.value),"data-datepicker-instance":""},[$(UB,xn({ref_key:"inputRef",ref:d,"input-value":Z(te),"onUpdate:inputValue":Ae[0]||(Ae[0]=Ne=>Ht(te)?te.value=Ne:null),"is-menu-open":o.value},he.$props,{onClear:Q,onOpen:re,onSetInputDate:nt,onSetEmptyDate:Z(ue),onSelectDate:be,onToggle:Jt,onClose:je,onFocus:gn,onBlur:Gt,onRealBlur:Ae[1]||(Ae[1]=Ne=>f.value=!1),onTextInput:Ae[2]||(Ae[2]=Ne=>he.$emit("text-input",Ne))}),Xn({_:2},[Ge(Z(R),(Ne,Xt)=>({name:Ne,fn:Pe(pn=>[Fe(he.$slots,Ne,In(ii(pn)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(P(),Ce(_a(he.teleport?kD:"div"),In(ii(z.value)),{default:Pe(()=>[$(vt,{name:Z(ne)(Z(W)),css:Z(N)&&!Z(A).enabled},{default:Pe(()=>[o.value?(P(),F("div",xn({key:0,ref_key:"dpWrapMenuRef",ref:c},fe.value,{class:{"dp--menu-wrapper":!Z(A).enabled},style:Z(A).enabled?void 0:Z(X)}),[$(k0,xn({ref_key:"dpMenuRef",ref:u},he.$props,{"internal-model-value":Z(D),"onUpdate:internalModelValue":Ae[3]||(Ae[3]=Ne=>Ht(D)?D.value=Ne:null),class:{[xe.value]:!0,"dp--menu-wrapper":he.teleport},"open-on-top":Z(W),"no-overlay-focus":S.value,collapse:v.value,"get-input-rect":O,"is-text-input-date":y.value,onClosePicker:je,onSelectDate:be,onAutoApply:De,onTimeUpdate:et,onFlowStep:Ae[4]||(Ae[4]=Ne=>he.$emit("flow-step",Ne)),onUpdateMonthYear:Ae[5]||(Ae[5]=Ne=>he.$emit("update-month-year",Ne)),onInvalidSelect:Ae[6]||(Ae[6]=Ne=>he.$emit("invalid-select",Z(D))),onAutoApplyInvalid:Ae[7]||(Ae[7]=Ne=>he.$emit("invalid-select",Ne)),onInvalidFixedRange:Ae[8]||(Ae[8]=Ne=>he.$emit("invalid-fixed-range",Ne)),onRecalculatePosition:Z(H),onTooltipOpen:Ae[9]||(Ae[9]=Ne=>he.$emit("tooltip-open",Ne)),onTooltipClose:Ae[10]||(Ae[10]=Ne=>he.$emit("tooltip-close",Ne)),onTimePickerOpen:Ae[11]||(Ae[11]=Ne=>he.$emit("time-picker-open",Ne)),onTimePickerClose:Ae[12]||(Ae[12]=Ne=>he.$emit("time-picker-close",Ne)),onAmPmChange:Ae[13]||(Ae[13]=Ne=>he.$emit("am-pm-change",Ne)),onRangeStart:Ae[14]||(Ae[14]=Ne=>he.$emit("range-start",Ne)),onRangeEnd:Ae[15]||(Ae[15]=Ne=>he.$emit("range-end",Ne)),onDateUpdate:Ae[16]||(Ae[16]=Ne=>he.$emit("date-update",Ne)),onInvalidDate:Ae[17]||(Ae[17]=Ne=>he.$emit("invalid-date",Ne)),onOverlayToggle:Ae[18]||(Ae[18]=Ne=>he.$emit("overlay-toggle",Ne))}),Xn({_:2},[Ge(Z(B),(Ne,Xt)=>({name:Ne,fn:Pe(pn=>[Fe(he.$slots,Ne,In(ii({...pn})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):se("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),ju=(()=>{const t=JB;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),QB=Object.freeze(Object.defineProperty({__proto__:null,default:ju},Symbol.toStringTag,{value:"Module"}));Object.entries(QB).forEach(([t,e])=>{t!=="default"&&(ju[t]=e)});const eV={name:"newDashboardAPIKey",components:{LocaleText:Le,VueDatePicker:ju},data(){return{newKeyData:{ExpiredAt:Fn().add(7,"d").format("YYYY-MM-DD HH:mm:ss"),neverExpire:!1},submitting:!1}},setup(){return{store:Xe()}},mounted(){console.log(this.newKeyData.ExpiredAt)},methods:{submitNewAPIKey(){this.submitting=!0,dt("/api/newDashboardAPIKey",this.newKeyData,t=>{t.status?(this.$emit("created",t.data),this.store.newMessage("Server","API Key created","success"),this.$emit("close")):this.store.newMessage("Server",t.message,"danger"),this.submitting=!1})},fixDate(t){return console.log(Fn(t).format("YYYY-MM-DDTHH:mm:ss")),Fn(t).format("YYYY-MM-DDTHH:mm:ss")},parseTime(t){t?this.newKeyData.ExpiredAt=Fn(t).format("YYYY-MM-DD HH:mm:ss"):this.newKeyData.ExpiredAt=void 0}}},tV={class:"position-absolute w-100 h-100 top-0 start-0 rounded-bottom-3 p-3 d-flex",style:{"background-color":"#00000060","backdrop-filter":"blur(3px)"}},nV={class:"card m-auto rounded-3 mt-5"},iV={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-0"},sV={class:"mb-0"},rV={class:"card-body d-flex gap-2 p-4 flex-column"},oV={class:"text-muted"},aV={class:"d-flex align-items-center gap-2"},lV={class:"form-check"},cV=["disabled"],uV={class:"form-check-label",for:"neverExpire"},dV={key:0,class:"bi bi-check-lg me-2"};function hV(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("VueDatePicker");return P(),F("div",tV,[h("div",nV,[h("div",iV,[h("h6",sV,[$(o,{t:"Create API Key"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[0]||(e[0]=l=>this.$emit("close"))})]),h("div",rV,[h("small",oV,[$(o,{t:"When should this API Key expire?"})]),h("div",aV,[$(a,{is24:!0,"min-date":new Date,"model-value":this.newKeyData.ExpiredAt,"onUpdate:modelValue":this.parseTime,"time-picker-inline":"",format:"yyyy-MM-dd HH:mm:ss","preview-format":"yyyy-MM-dd HH:mm:ss",clearable:!1,disabled:this.newKeyData.neverExpire||this.submitting,dark:this.store.Configuration.Server.dashboard_theme==="dark"},null,8,["min-date","model-value","onUpdate:modelValue","disabled","dark"])]),h("div",lV,[Re(h("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=l=>this.newKeyData.neverExpire=l),id:"neverExpire",disabled:this.submitting},null,8,cV),[[Gn,this.newKeyData.neverExpire]]),h("label",uV,[$(o,{t:"Never Expire"}),e[3]||(e[3]=Be(" (")),e[4]||(e[4]=h("i",{class:"bi bi-emoji-grimace-fill me-2"},null,-1)),$(o,{t:"Don't think that's a good idea"}),e[5]||(e[5]=Be(") "))])]),h("button",{class:Ee(["ms-auto btn bg-success-subtle text-success-emphasis border-1 border-success-subtle rounded-3 shadow-sm",{disabled:this.submitting}]),onClick:e[2]||(e[2]=l=>this.submitNewAPIKey())},[this.submitting?se("",!0):(P(),F("i",dV)),this.submitting?(P(),Ce(o,{key:1,t:"Creating..."})):(P(),Ce(o,{key:2,t:"Create"}))],2)])])])}const fV=ze(eV,[["render",hV]]),gV={name:"dashboardAPIKey",components:{LocaleText:Le},props:{apiKey:Object},setup(){return{store:Xe()}},data(){return{confirmDelete:!1}},methods:{deleteAPIKey(){dt("/api/deleteDashboardAPIKey",{Key:this.apiKey.Key},t=>{t.status?(this.$emit("deleted",t.data),this.store.newMessage("Server","API Key deleted","success")):this.store.newMessage("Server",t.message,"danger")})}}},pV={class:"card rounded-3 shadow-sm"},mV={key:0,class:"card-body d-flex gap-3 align-items-center apiKey-card-body"},_V={class:"d-flex align-items-center gap-2"},vV={class:"text-muted"},yV={style:{"word-break":"break-all"}},bV={class:"d-flex align-items-center gap-2 ms-auto"},wV={class:"text-muted"},xV={key:0,class:"card-body d-flex gap-3 align-items-center justify-content-end"};function EV(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",pV,[this.confirmDelete?(P(),F(Ie,{key:1},[this.store.getActiveCrossServer()?se("",!0):(P(),F("div",xV,[$(o,{t:"Are you sure to delete this API key?"}),h("a",{role:"button",class:"btn btn-sm bg-success-subtle text-success-emphasis rounded-3",onClick:e[1]||(e[1]=a=>this.deleteAPIKey())},e[4]||(e[4]=[h("i",{class:"bi bi-check-lg"},null,-1)])),h("a",{role:"button",class:"btn btn-sm bg-secondary-subtle text-secondary-emphasis rounded-3",onClick:e[2]||(e[2]=a=>this.confirmDelete=!1)},e[5]||(e[5]=[h("i",{class:"bi bi-x-lg"},null,-1)]))]))],64)):(P(),F("div",mV,[h("div",_V,[h("small",vV,[$(o,{t:"Key"})]),h("span",yV,pe(this.apiKey.Key),1)]),h("div",bV,[h("small",wV,[$(o,{t:"Expire At"})]),this.apiKey.ExpiredAt?se("",!0):(P(),Ce(o,{key:0,t:"Never Expire"})),h("span",null,pe(this.apiKey.ExpiredAt),1)]),this.store.getActiveCrossServer()?se("",!0):(P(),F("a",{key:0,role:"button",class:"btn btn-sm bg-danger-subtle text-danger-emphasis rounded-3",onClick:e[0]||(e[0]=a=>this.confirmDelete=!0)},e[3]||(e[3]=[h("i",{class:"bi bi-trash-fill"},null,-1)])))]))])}const CV=ze(gV,[["render",EV],["__scopeId","data-v-a76253c8"]]),SV={name:"dashboardAPIKeys",components:{LocaleText:Le,DashboardAPIKey:CV,NewDashboardAPIKey:fV},setup(){return{store:Xe()}},data(){return{value:this.store.Configuration.Server.dashboard_api_key,apiKeys:[],newDashboardAPIKey:!1}},methods:{async toggleDashboardAPIKeys(){await dt("/api/updateDashboardConfigurationItem",{section:"Server",key:"dashboard_api_key",value:this.value},t=>{t.status?(this.store.Configuration.Peers[this.targetData]=this.value,this.store.newMessage("Server",`API Keys function is successfully ${this.value?"enabled":"disabled"}`,"success")):(this.value=this.store.Configuration.Peers[this.targetData],this.store.newMessage("Server",`API Keys function is failed to ${this.value?"enabled":"disabled"}`,"danger"))})}},watch:{value:{immediate:!0,handler(t){t?Pt("/api/getDashboardAPIKeys",{},e=>{console.log(e),e.status?this.apiKeys=e.data:(this.apiKeys=[],this.store.newMessage("Server",e.message,"danger"))}):this.apiKeys=[]}}}},kV={class:"card rounded-3"},TV={class:"my-2"},AV={key:0,class:"form-check form-switch ms-auto"},PV={class:"form-check-label",for:"allowAPIKeysSwitch"},MV={key:0,class:"card-body position-relative d-flex flex-column gap-2"},IV={key:1,class:"card",style:{height:"300px"}},DV={class:"card-body d-flex text-muted"},RV={class:"m-auto"},$V={key:2,class:"d-flex flex-column gap-2 position-relative",style:{"min-height":"300px"}};function LV(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("DashboardAPIKey"),l=Se("NewDashboardAPIKey");return P(),F("div",kV,[h("div",{class:Ee(["card-header d-flex align-items-center",{"border-bottom-0 rounded-3":!this.value}])},[h("h6",TV,[$(o,{t:"API Keys"})]),this.store.getActiveCrossServer()?se("",!0):(P(),F("div",AV,[Re(h("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=c=>this.value=c),onChange:e[1]||(e[1]=c=>this.toggleDashboardAPIKeys()),role:"switch",id:"allowAPIKeysSwitch"},null,544),[[Gn,this.value]]),h("label",PV,[this.value?(P(),Ce(o,{key:0,t:"Enabled"})):(P(),Ce(o,{key:1,t:"Disabled"}))])]))],2),this.value?(P(),F("div",MV,[this.store.getActiveCrossServer()?se("",!0):(P(),F("button",{key:0,class:"btn bg-primary-subtle text-primary-emphasis border-1 border-primary-subtle rounded-3 shadow-sm",onClick:e[2]||(e[2]=c=>this.newDashboardAPIKey=!0)},[e[6]||(e[6]=h("i",{class:"bi bi-plus-circle-fill me-2"},null,-1)),$(o,{t:"API Key"})])),this.apiKeys.length===0?(P(),F("div",IV,[h("div",DV,[h("span",RV,[$(o,{t:"No WGDashboard API Key"})])])])):(P(),F("div",$V,[$(vo,{name:"apiKey"},{default:Pe(()=>[(P(!0),F(Ie,null,Ge(this.apiKeys,c=>(P(),Ce(a,{apiKey:c,key:c.Key,onDeleted:e[3]||(e[3]=u=>this.apiKeys=u)},null,8,["apiKey"]))),128))]),_:1})])),$(vt,{name:"zoomReversed"},{default:Pe(()=>[this.newDashboardAPIKey?(P(),Ce(l,{key:0,onCreated:e[4]||(e[4]=c=>this.apiKeys=c),onClose:e[5]||(e[5]=c=>this.newDashboardAPIKey=!1)})):se("",!0)]),_:1})])):se("",!0)])}const OV=ze(SV,[["render",LV],["__scopeId","data-v-3d3ef755"]]),NV={name:"accountSettingsMFA",components:{LocaleText:Le},setup(){const t=Xe(),e=`input_${Bs()}`;return{store:t,uuid:e}},data(){return{status:!1}},mounted(){this.status=this.store.Configuration.Account.enable_totp},methods:{async resetMFA(){await dt("/api/updateDashboardConfigurationItem",{section:"Account",key:"totp_verified",value:"false"},async t=>{await dt("/api/updateDashboardConfigurationItem",{section:"Account",key:"enable_totp",value:"false"},e=>{e.status&&this.$router.push("/2FASetup")})})}}},FV={class:"d-flex align-items-center"},BV={class:"form-check form-switch"},VV={for:"allowMFAKeysSwitch"};function WV(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("div",FV,[h("div",BV,[Re(h("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=a=>this.status=a),role:"switch",id:"allowMFAKeysSwitch"},null,512),[[Gn,this.status]]),h("label",VV,[this.status?(P(),Ce(o,{key:0,t:"Enabled"})):(P(),Ce(o,{key:1,t:"Disabled"}))])]),this.status?(P(),F("button",{key:0,class:"btn bg-warning-subtle text-warning-emphasis border-1 border-warning-subtle ms-auto rounded-3 shadow-sm",onClick:e[1]||(e[1]=a=>this.resetMFA())},[e[2]||(e[2]=h("i",{class:"bi bi-shield-lock-fill me-2"},null,-1)),this.store.Configuration.Account.totp_verified?(P(),Ce(o,{key:0,t:"Reset"})):(P(),Ce(o,{key:1,t:"Setup"})),e[3]||(e[3]=Be(" MFA "))])):se("",!0)])])}const zV=ze(NV,[["render",WV]]),YV={name:"dashboardLanguage",components:{LocaleText:Le},setup(){return{store:Xe()}},data(){return{languages:void 0}},mounted(){Pt("/api/locale/available",{},t=>{this.languages=t.data})},methods:{changeLanguage(t){dt("/api/locale/update",{lang_id:t},e=>{e.status?(this.store.Configuration.Server.dashboard_language=t,this.store.Locale=e.data):this.store.newMessage("Server","Dashboard language update failed","danger")})}},computed:{currentLanguage(){let t=this.store.Configuration.Server.dashboard_language;return this.languages.find(e=>e.lang_id===t)}}},HV={class:"text-muted d-block mb-1"},jV={class:"d-flex gap-2"},KV={class:"dropdown w-100"},UV=["disabled"],GV={key:1},XV={class:"dropdown-menu rounded-3 shadow"},qV=["onClick"],ZV={class:"me-auto mb-0"},JV={class:"d-block",style:{"font-size":"0.8rem"}},QV={key:0,class:"bi bi-check text-primary fs-5"};function e6(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("small",HV,[h("strong",null,[$(o,{t:"Language"})])]),h("div",jV,[h("div",KV,[h("button",{class:"btn bg-primary-subtle text-primary-emphasis dropdown-toggle w-100 rounded-3",disabled:!this.languages,type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[this.languages?(P(),F("span",GV,pe(r.currentLanguage?.lang_name_localized),1)):(P(),Ce(o,{key:0,t:"Loading..."}))],8,UV),h("ul",XV,[(P(!0),F(Ie,null,Ge(this.languages,a=>(P(),F("li",null,[h("a",{class:"dropdown-item d-flex align-items-center",role:"button",onClick:l=>this.changeLanguage(a.lang_id)},[h("p",ZV,[Be(pe(a.lang_name_localized)+" ",1),h("small",JV,pe(a.lang_name),1)]),r.currentLanguage?.lang_id===a.lang_id?(P(),F("i",QV)):se("",!0)],8,qV)]))),256))])])])])}const t6=ze(YV,[["render",e6],["__scopeId","data-v-08b165a8"]]),n6={name:"dashboardIPPortInput",components:{LocaleText:Le},setup(){return{store:Xe()}},data(){return{ipAddress:"",port:0,invalidFeedback:"",showInvalidFeedback:!1,isValid:!1,timeout:void 0,changed:!1,updating:!1}},mounted(){this.ipAddress=this.store.Configuration.Server.app_ip,this.port=this.store.Configuration.Server.app_port},methods:{async useValidation(t,e,n){this.changed&&(this.updating=!0,await dt("/api/updateDashboardConfigurationItem",{section:"Server",key:e,value:n},i=>{i.status?(t.target.classList.add("is-valid"),this.showInvalidFeedback=!1,this.store.Configuration.Server[e]=n,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{t.target.classList.remove("is-valid")},5e3)):(this.isValid=!1,this.showInvalidFeedback=!0,this.invalidFeedback=i.message),this.changed=!1,this.updating=!1}))}}},i6={class:"row g-2"},s6={class:"col-sm"},r6={class:"form-group"},o6={for:"input_dashboard_ip",class:"text-muted mb-1"},a6=["disabled"],l6={class:"invalid-feedback"},c6={class:"col-sm"},u6={class:"form-group"},d6={for:"input_dashboard_ip",class:"text-muted mb-1"},h6=["disabled"],f6={class:"invalid-feedback"},g6={class:"px-2 py-1 text-warning-emphasis bg-warning-subtle border border-warning-subtle rounded-2 d-inline-block mb-2 mt-2"};function p6(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("div",i6,[h("div",s6,[h("div",r6,[h("label",o6,[h("strong",null,[h("small",null,[$(o,{t:"IP Address / Hostname"})])])]),Re(h("input",{type:"text",class:Ee(["form-control",{"is-invalid":s.showInvalidFeedback,"is-valid":s.isValid}]),id:"input_dashboard_ip","onUpdate:modelValue":e[0]||(e[0]=a=>this.ipAddress=a),onKeydown:e[1]||(e[1]=a=>this.changed=!0),onBlur:e[2]||(e[2]=a=>r.useValidation(a,"app_ip",this.ipAddress)),disabled:this.updating},null,42,a6),[[We,this.ipAddress]]),h("div",l6,pe(this.invalidFeedback),1)])]),h("div",c6,[h("div",u6,[h("label",d6,[h("strong",null,[h("small",null,[$(o,{t:"Listen Port"})])])]),Re(h("input",{type:"number",class:Ee(["form-control",{"is-invalid":s.showInvalidFeedback,"is-valid":s.isValid}]),id:"input_dashboard_ip","onUpdate:modelValue":e[3]||(e[3]=a=>this.port=a),onKeydown:e[4]||(e[4]=a=>this.changed=!0),onBlur:e[5]||(e[5]=a=>r.useValidation(a,"app_port",this.port)),disabled:this.updating},null,42,h6),[[We,this.port]]),h("div",f6,pe(this.invalidFeedback),1)])])]),h("div",g6,[h("small",null,[e[6]||(e[6]=h("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),$(o,{t:"Manual restart of WGDashboard is needed to apply changes on IP Address and Listen Port"})])])])}const m6=ze(n6,[["render",p6]]),_6={class:"card rounded-3"},v6={class:"card-header"},y6={class:"my-2"},b6={class:"card-body d-flex gap-2"},w6={class:"list-group w-100"},x6=["onClick"],E6={__name:"dashboardSettingsWireguardConfigurationAutostart",setup(t){const e=Xe(),n=$n(),i=me(e.Configuration.WireGuardConfiguration.autostart),s=ve(()=>n.Configurations.map(a=>a.Name)),r=async()=>{await dt("/api/updateDashboardConfigurationItem",{section:"WireGuardConfiguration",key:"autostart",value:i.value},async a=>{a.status?e.newMessage("Server","Start up configurations saved","success"):e.newMessage("Server","Start up configurations failed to save","danger")})},o=a=>{i.value.includes(a)?i.value=i.value.filter(l=>l!==a):i.value.push(a)};return jt(i,()=>{r()},{deep:!0}),(a,l)=>(P(),F("div",_6,[h("div",v6,[h("h6",y6,[$(Le,{t:"Toggle When Start Up"})])]),h("div",b6,[h("div",w6,[(P(!0),F(Ie,null,Ge(s.value,c=>(P(),F("button",{type:"button",key:c,onClick:u=>o(c),class:"list-group-item list-group-item-action py-2 w-100 d-flex align-items-center"},[h("samp",null,pe(c),1),h("i",{class:Ee(["ms-auto",[i.value.includes(c)?"bi-check-circle-fill":"bi-circle"]])},null,2)],8,x6))),128))])])]))}},C6=ze(E6,[["__scopeId","data-v-c1f65888"]]),S6={name:"settings",methods:{ipV46RegexCheck:j3},components:{DashboardSettingsWireguardConfigurationAutostart:C6,DashboardIPPortInput:m6,DashboardLanguage:t6,LocaleText:Le,AccountSettingsMFA:zV,DashboardAPIKeys:OV,DashboardSettingsInputIPAddressAndPort:qN,DashboardTheme:BN,DashboardSettingsInputWireguardConfigurationPath:$N,AccountSettingsInputPassword:_N,AccountSettingsInputUsername:J3,PeersDefaultSettingsInput:H3},setup(){return{dashboardConfigurationStore:Xe()}},data(){return{activeTab:"WGDashboard"}}},k6={class:"mt-md-5 mt-3 text-body mb-3"},T6={class:"container-md d-flex flex-column gap-4"},A6={class:"nav nav-pills nav-justified align-items-center gap-2"},P6={class:"nav-item"},M6={class:"nav-item"},I6={class:"nav-item"},D6={key:0,class:"d-flex gap-3 flex-column"},R6={key:1,class:"d-flex gap-3 flex-column"},$6={class:"card rounded-3"},L6={class:"card-header"},O6={class:"my-2"},N6={class:"card-body"},F6={key:2,class:"d-flex gap-3 flex-column"},B6={class:"card rounded-3"},V6={class:"card-header"},W6={class:"my-2"},z6={class:"card-body"},Y6={class:"row g-2"},H6={class:"col-sm"},j6={class:"col-sm"},K6={class:"card"},U6={class:"card-header"},G6={class:"my-2"},X6={class:"card-body"},q6={class:"card"},Z6={class:"card-header"},J6={class:"my-2"},Q6={class:"card-body d-flex flex-column gap-3"},e8={class:"card"},t8={class:"card-header"},n8={class:"my-2"},i8={class:"card-body"};function s8(t,e,n,i,s,r){const o=Se("DashboardSettingsInputWireguardConfigurationPath"),a=Se("DashboardSettingsWireguardConfigurationAutostart"),l=Se("LocaleText"),c=Se("PeersDefaultSettingsInput"),u=Se("DashboardTheme"),d=Se("DashboardLanguage"),f=Se("DashboardIPPortInput"),g=Se("AccountSettingsInputUsername"),p=Se("AccountSettingsInputPassword"),m=Se("AccountSettingsMFA"),v=Se("DashboardAPIKeys");return P(),F("div",k6,[h("div",T6,[h("div",null,[h("ul",A6,[h("li",P6,[h("a",{class:Ee(["nav-link rounded-3",{active:this.activeTab==="WGDashboard"}]),onClick:e[0]||(e[0]=y=>this.activeTab="WGDashboard"),role:"button"},e[3]||(e[3]=[h("h6",{class:"my-2"}," WGDashboard Settings ",-1)]),2)]),h("li",M6,[h("a",{class:Ee(["nav-link rounded-3",{active:this.activeTab==="Peers"}]),onClick:e[1]||(e[1]=y=>this.activeTab="Peers"),role:"button"},e[4]||(e[4]=[h("h6",{class:"my-2"}," Peers Settings ",-1)]),2)]),h("li",I6,[h("a",{class:Ee(["nav-link rounded-3",{active:this.activeTab==="WireGuardConfiguration"}]),onClick:e[2]||(e[2]=y=>this.activeTab="WireGuardConfiguration"),role:"button"},e[5]||(e[5]=[h("h6",{class:"my-2"}," WireGuard Configuration Settings ",-1)]),2)])]),e[7]||(e[7]=h("hr",null,null,-1)),h("div",null,[$(vt,{name:"fade2",mode:"out-in"},{default:Pe(()=>[s.activeTab==="WireGuardConfiguration"?(P(),F("div",D6,[$(o,{targetData:"wg_conf_path",title:"Configurations Directory",warning:!0,"warning-text":"Remember to remove / at the end of your path. e.g /etc/wireguard"}),$(a)])):s.activeTab==="Peers"?(P(),F("div",R6,[h("div",$6,[h("div",L6,[h("h6",O6,[$(l,{t:"Peer Default Settings"})])]),h("div",N6,[h("div",null,[$(c,{targetData:"peer_global_dns",title:"DNS"}),$(c,{targetData:"peer_endpoint_allowed_ip",title:"Endpoint Allowed IPs"}),$(c,{targetData:"peer_mtu",title:"MTU"}),$(c,{targetData:"peer_keep_alive",title:"Persistent Keepalive"}),$(c,{targetData:"remote_endpoint",title:"Peer Remote Endpoint",warning:!0,warningText:"This will be changed globally, and will be apply to all peer's QR code and configuration file."})])])])])):s.activeTab==="WGDashboard"?(P(),F("div",F6,[h("div",B6,[h("div",V6,[h("h6",W6,[$(l,{t:"Appearance"})])]),h("div",z6,[h("div",Y6,[h("div",H6,[$(u)]),h("div",j6,[$(d)])])])]),h("div",K6,[h("div",U6,[h("h6",G6,[$(l,{t:"Dashboard IP Address & Listen Port"})])]),h("div",X6,[$(f)])]),h("div",q6,[h("div",Z6,[h("h6",J6,[$(l,{t:"Account Settings"})])]),h("div",Q6,[h("div",null,[$(g,{targetData:"username",title:"Username"})]),e[6]||(e[6]=h("hr",null,null,-1)),h("div",null,[$(p,{targetData:"password"})])])]),h("div",e8,[h("div",t8,[h("h6",n8,[$(l,{t:"Multi-Factor Authentication (MFA)"})])]),h("div",i8,[this.dashboardConfigurationStore.getActiveCrossServer()?se("",!0):(P(),Ce(m,{key:0}))])]),$(v)])):se("",!0)]),_:1})])])])])}const r8=ze(S6,[["render",s8]]),o8={name:"setup",components:{LocaleText:Le},setup(){return{store:Xe()}},data(){return{setup:{username:"",newPassword:"",repeatNewPassword:"",enable_totp:!0},loading:!1,errorMessage:"",done:!1}},computed:{goodToSubmit(){return this.setup.username&&this.setup.newPassword.length>=8&&this.setup.repeatNewPassword.length>=8&&this.setup.newPassword===this.setup.repeatNewPassword}},methods:{submit(){this.loading=!0,dt("/api/Welcome_Finish",this.setup,t=>{t.status?(this.done=!0,this.$router.push("/2FASetup")):(document.querySelectorAll("#createAccount input").forEach(e=>e.classList.add("is-invalid")),this.errorMessage=t.message,document.querySelector(".login-container-fluid").scrollTo({top:0,left:0,behavior:"smooth"})),this.loading=!1})}}},a8=["data-bs-theme"],l8={class:"m-auto text-body",style:{width:"500px"}},c8={class:"dashboardLogo display-4"},u8={class:"mb-5"},d8={key:0,class:"alert alert-danger"},h8={class:"d-flex flex-column gap-3"},f8={id:"createAccount",class:"d-flex flex-column gap-2"},g8={class:"form-group text-body"},p8={for:"username",class:"mb-1 text-muted"},m8={class:"form-group text-body"},_8={for:"password",class:"mb-1 text-muted"},v8={class:"form-group text-body"},y8={for:"confirmPassword",class:"mb-1 text-muted"},b8=["disabled"],w8={key:0,class:"d-flex align-items-center w-100"},x8={key:1,class:"d-flex align-items-center w-100"};function E8(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",{class:"container-fluid login-container-fluid d-flex main pt-5 overflow-scroll","data-bs-theme":this.store.Configuration.Server.dashboard_theme},[h("div",l8,[h("span",c8,[$(o,{t:"Nice to meet you!"})]),h("p",u8,[$(o,{t:"Please fill in the following fields to finish setup"}),e[4]||(e[4]=Be(" 😊"))]),h("div",null,[h("h3",null,[$(o,{t:"Create an account"})]),this.errorMessage?(P(),F("div",d8,pe(this.errorMessage),1)):se("",!0),h("div",h8,[h("form",f8,[h("div",g8,[h("label",p8,[h("small",null,[$(o,{t:"Enter an username you like"})])]),Re(h("input",{type:"text",autocomplete:"username","onUpdate:modelValue":e[0]||(e[0]=a=>this.setup.username=a),class:"form-control",id:"username",name:"username",required:""},null,512),[[We,this.setup.username]])]),h("div",m8,[h("label",_8,[h("small",null,[$(o,{t:"Enter a password"}),h("code",null,[$(o,{t:"(At least 8 characters and make sure is strong enough!)"})])])]),Re(h("input",{type:"password",autocomplete:"new-password","onUpdate:modelValue":e[1]||(e[1]=a=>this.setup.newPassword=a),class:"form-control",id:"password",name:"password",required:""},null,512),[[We,this.setup.newPassword]])]),h("div",v8,[h("label",y8,[h("small",null,[$(o,{t:"Confirm password"})])]),Re(h("input",{type:"password",autocomplete:"confirm-new-password","onUpdate:modelValue":e[2]||(e[2]=a=>this.setup.repeatNewPassword=a),class:"form-control",id:"confirmPassword",name:"confirmPassword",required:""},null,512),[[We,this.setup.repeatNewPassword]])])]),h("button",{class:"btn btn-dark btn-lg mb-5 d-flex btn-brand shadow align-items-center",ref:"signInBtn",disabled:!this.goodToSubmit||this.loading||this.done,onClick:e[3]||(e[3]=a=>this.submit())},[!this.loading&&!this.done?(P(),F("span",w8,[$(o,{t:"Next"}),e[5]||(e[5]=h("i",{class:"bi bi-chevron-right ms-auto"},null,-1))])):(P(),F("span",x8,[$(o,{t:"Saving..."}),e[6]||(e[6]=h("span",{class:"spinner-border ms-auto spinner-border-sm",role:"status"},[h("span",{class:"visually-hidden"},"Loading...")],-1))]))],8,b8)])])])],8,a8)}const C8=ze(o8,[["render",E8]]);function K_(t){return t.includes(":")?6:t.includes(".")?4:0}function S8(t){const e=K_(t);if(!e)throw new Error(`Invalid IP address: ${t}`);let n=0n,i=0n;const s=Object.create(null);if(e===4)for(const r of t.split(".").map(BigInt).reverse())n+=r*2n**i,i+=8n;else{if(t.includes(".")&&(s.ipv4mapped=!0,t=t.split(":").map(a=>{if(a.includes(".")){const[l,c,u,d]=a.split(".").map(f=>Number(f).toString(16).padStart(2,"0"));return`${l}${c}:${u}${d}`}else return a}).join(":")),t.includes("%")){let a;[,t,a]=/(.+)%(.+)/.exec(t)||[],s.scopeid=a}const r=t.split(":"),o=r.indexOf("");if(o!==-1)for(;r.length<8;)r.splice(o,0,"");for(const a of r.map(l=>BigInt(parseInt(l||"0",16))).reverse())n+=a*2n**i,i+=16n}return s.number=n,s.version=e,s}const Kg={4:32,6:128},k8=t=>t.includes("/")?K_(t):0;function am(t){const e=k8(t),n=Object.create(null);if(e)n.cidr=t,n.version=e;else{const d=K_(t);if(d)n.cidr=`${t}/${Kg[d]}`,n.version=d;else throw new Error(`Network is not a CIDR or IP: ${t}`)}const[i,s]=n.cidr.split("/");if(!/^[0-9]+$/.test(s))throw new Error(`Network is not a CIDR or IP: ${t}`);n.prefix=s,n.single=s===String(Kg[n.version]);const{number:r,version:o}=S8(i),a=Kg[o],l=r.toString(2).padStart(a,"0"),c=Number(a-s),u=l.substring(0,a-c);return n.start=BigInt(`0b${u}${"0".repeat(c)}`),n.end=BigInt(`0b${u}${"1".repeat(c)}`),n}/*! SPDX-License-Identifier: GPL-2.0
 *
 * Copyright (C) 2015-2020 Jason A. Donenfeld <Jason@zx2c4.com>. All Rights Reserved.
 */(function(){function t(b){var C=new Float64Array(16);if(b)for(var k=0;k<b.length;++k)C[k]=b[k];return C}function e(b,C){for(var k,T=t(),A=t(),I=0;I<16;++I)A[I]=C[I];n(A),n(A),n(A);for(var V=0;V<2;++V){T[0]=A[0]-65517;for(var I=1;I<15;++I)T[I]=A[I]-65535-(T[I-1]>>16&1),T[I-1]&=65535;T[15]=A[15]-32767-(T[14]>>16&1),k=T[15]>>16&1,T[14]&=65535,i(A,T,1-k)}for(var I=0;I<16;++I)b[2*I]=A[I]&255,b[2*I+1]=A[I]>>8}function n(b){for(var C=0;C<16;++C)b[(C+1)%16]+=(C<15?1:38)*Math.floor(b[C]/65536),b[C]&=65535}function i(b,C,k){for(var T,A=~(k-1),I=0;I<16;++I)T=A&(b[I]^C[I]),b[I]^=T,C[I]^=T}function s(b,C,k){for(var T=0;T<16;++T)b[T]=C[T]+k[T]|0}function r(b,C,k){for(var T=0;T<16;++T)b[T]=C[T]-k[T]|0}function o(b,C,k){for(var T=new Float64Array(31),A=0;A<16;++A)for(var I=0;I<16;++I)T[A+I]+=C[A]*k[I];for(var A=0;A<15;++A)T[A]+=38*T[A+16];for(var A=0;A<16;++A)b[A]=T[A];n(b),n(b)}function a(b,C){for(var k=t(),T=0;T<16;++T)k[T]=C[T];for(var T=253;T>=0;--T)o(k,k,k),T!==2&&T!==4&&o(k,k,C);for(var T=0;T<16;++T)b[T]=k[T]}function l(b){b[31]=b[31]&127|64,b[0]&=248}function c(b){for(var C,k=new Uint8Array(32),T=t([1]),A=t([9]),I=t(),V=t([1]),Y=t(),ne=t(),N=t([56129,1]),B=t([9]),R=0;R<32;++R)k[R]=b[R];l(k);for(var R=254;R>=0;--R)C=k[R>>>3]>>>(R&7)&1,i(T,A,C),i(I,V,C),s(Y,T,I),r(T,T,I),s(I,A,V),r(A,A,V),o(V,Y,Y),o(ne,T,T),o(T,I,T),o(I,A,Y),s(Y,T,I),r(T,T,I),o(A,T,T),r(I,V,ne),o(T,I,N),s(T,T,V),o(I,I,T),o(T,V,ne),o(V,A,B),o(A,Y,Y),i(T,A,C),i(I,V,C);return a(I,I),o(T,T,I),e(k,T),k}function u(){var b=new Uint8Array(32);return window.crypto.getRandomValues(b),b}function d(){var b=u();return l(b),b}function f(b,C){for(var k=Uint8Array.from([C[0]>>2&63,(C[0]<<4|C[1]>>4)&63,(C[1]<<2|C[2]>>6)&63,C[2]&63]),T=0;T<4;++T)b[T]=k[T]+65+(25-k[T]>>8&6)-(51-k[T]>>8&75)-(61-k[T]>>8&15)+(62-k[T]>>8&3)}function g(b){var C,k=new Uint8Array(44);for(C=0;C<32/3;++C)f(k.subarray(C*4),b.subarray(C*3));return f(k.subarray(C*4),Uint8Array.from([b[C*3+0],b[C*3+1],0])),k[43]=61,String.fromCharCode.apply(null,k)}function p(b){let C=window.atob(b),k=C.length,T=new Uint8Array(k);for(let I=0;I<k;I++)T[I]=C.charCodeAt(I);return new Uint8Array(T.buffer)}function m(b,C){b.push(C&255,C>>>8&255,C>>>16&255,C>>>24&255)}function v(b,C){b.push(C&255,C>>>8&255)}function y(b,C){for(var k=0;k<C.length;++k)b.push(C[k]&255)}function x(b){for(var C=unescape(encodeURIComponent(b)),k=new Uint8Array(C.length),T=0;T<C.length;++T)k[T]=C.charCodeAt(T);return k}function E(b){if(!E.table){E.table=[];for(var C=0,k=0;k<256;C=++k){for(var T=0;T<8;++T)C=C&1?3988292384^C>>>1:C>>>1;E.table[k]=C}}for(var A=-1,I=0;I<b.length;++I)A=A>>>8^E.table[(A^b[I])&255];return(A^-1)>>>0}function w(b){for(var C=[],k=[],T=0,A=0;A<b.length;++A){var I=x(b[A].fileName),V=x(b[A].file),Y=E(V);m(C,67324752),v(C,20),v(C,0),v(C,0),v(C,0),v(C,0),m(C,Y),m(C,V.length),m(C,V.length),v(C,I.length),v(C,0),y(C,I),y(C,V),m(k,33639248),v(k,0),v(k,20),v(k,0),v(k,0),v(k,0),v(k,0),m(k,Y),m(k,V.length),m(k,V.length),v(k,I.length),v(k,0),v(k,0),v(k,0),v(k,0),m(k,32),m(k,T),y(k,I),T+=30+V.length+I.length}return y(C,k),m(C,101010256),v(C,0),v(C,0),v(C,b.length),v(C,b.length),m(C,k.length),m(C,T),v(C,0),Uint8Array.from(C)}window.wireguard={generateKeypair:function(){var b=d(),C=c(b),k=u();return{publicKey:g(C),privateKey:g(b),presharedKey:g(k)}},generatePublicKey:function(b){return b=p(b),g(c(b))},generateZipFiles:function(b,C){var k=b.data,T=w(k),A=new Blob([T],{type:"application/zip"}),I=document.createElement("a");I.download=C,I.href=URL.createObjectURL(A),I.style.display="none",document.body.appendChild(I),I.click(),document.body.removeChild(I)}}})();const T8={name:"newConfiguration",components:{LocaleText:Le},setup(){return{store:$n()}},data(){return{newConfiguration:{ConfigurationName:"",Address:"",ListenPort:"",PrivateKey:"",PublicKey:"",PresharedKey:"",PreUp:"",PreDown:"",PostUp:"",PostDown:""},numberOfAvailableIPs:"0",error:!1,errorMessage:"",success:!1,loading:!1}},created(){this.wireguardGenerateKeypair()},methods:{wireguardGenerateKeypair(){const t=window.wireguard.generateKeypair();this.newConfiguration.PrivateKey=t.privateKey,this.newConfiguration.PublicKey=t.publicKey,this.newConfiguration.PresharedKey=t.presharedKey},async saveNewConfiguration(){this.goodToSubmit&&(this.loading=!0,await dt("/api/addWireguardConfiguration",this.newConfiguration,async t=>{t.status?(this.success=!0,await this.store.getConfigurations(),this.$router.push(`/configuration/${this.newConfiguration.ConfigurationName}/peers`)):(this.error=!0,this.errorMessage=t.message,document.querySelector(`#${t.data}`).classList.remove("is-valid"),document.querySelector(`#${t.data}`).classList.add("is-invalid"),this.loading=!1)}))}},computed:{goodToSubmit(){let t=["ConfigurationName","Address","ListenPort","PrivateKey"],e=[...document.querySelectorAll("input[required]")];return t.find(n=>this.newConfiguration[n].length===0)===void 0&&e.find(n=>n.classList.contains("is-invalid"))===void 0}},watch:{"newConfiguration.Address"(t){let e=document.querySelector("#Address");e.classList.remove("is-invalid","is-valid");try{if(t.trim().split("/").filter(s=>s.length>0).length!==2)throw Error();let n=am(t),i=n.end-n.start;this.numberOfAvailableIPs=i.toLocaleString(),e.classList.add("is-valid")}catch{this.numberOfAvailableIPs="0",e.classList.add("is-invalid")}},"newConfiguration.ListenPort"(t){let e=document.querySelector("#ListenPort");e.classList.remove("is-invalid","is-valid"),t<0||t>65353||!Number.isInteger(t)?e.classList.add("is-invalid"):e.classList.add("is-valid")},"newConfiguration.ConfigurationName"(t){let e=document.querySelector("#ConfigurationName");e.classList.remove("is-invalid","is-valid"),!/^[a-zA-Z0-9_=+.-]{1,15}$/.test(t)||t.length===0||this.store.Configurations.find(n=>n.Name===t)?e.classList.add("is-invalid"):e.classList.add("is-valid")},"newConfiguration.PrivateKey"(t){let e=document.querySelector("#PrivateKey");e.classList.remove("is-invalid","is-valid");try{wireguard.generatePublicKey(t),e.classList.add("is-valid")}catch{e.classList.add("is-invalid")}}}},A8={class:"mt-5 text-body"},P8={class:"container mb-4"},M8={class:"mb-4 d-flex align-items-center gap-4"},I8={class:"mb-0"},D8={class:"card rounded-3 shadow"},R8={class:"card-header"},$8={class:"card-body"},L8=["disabled"],O8={class:"invalid-feedback"},N8={key:0},F8={key:1},B8={class:"mb-0"},V8={class:"card rounded-3 shadow"},W8={class:"card-header"},z8={class:"card-body",style:{"font-family":"var(--bs-font-monospace)"}},Y8={class:"mb-2"},H8={class:"text-muted fw-bold mb-1"},j8={class:"input-group"},K8=["disabled"],U8={class:"text-muted fw-bold mb-1"},G8={class:"card rounded-3 shadow"},X8={class:"card-header"},q8={class:"card-body"},Z8=["disabled"],J8={class:"invalid-feedback"},Q8={key:0},eW={key:1},tW={class:"card rounded-3 shadow"},nW={class:"card-header d-flex align-items-center"},iW={class:"badge rounded-pill text-bg-success ms-auto"},sW={class:"card-body"},rW=["disabled"],oW={class:"invalid-feedback"},aW={key:0},lW={key:1},cW={class:"accordion",id:"newConfigurationOptionalAccordion"},uW={class:"accordion-item"},dW={class:"accordion-header"},hW={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#newConfigurationOptionalAccordionCollapse"},fW={id:"newConfigurationOptionalAccordionCollapse",class:"accordion-collapse collapse","data-bs-parent":"#newConfigurationOptionalAccordion"},gW={class:"accordion-body d-flex flex-column gap-3"},pW={class:"card rounded-3"},mW={class:"card-body"},_W={class:"card rounded-3"},vW={class:"card-body"},yW={class:"card rounded-3"},bW={class:"card-body"},wW={class:"card rounded-3"},xW={class:"card-body"},EW=["disabled"],CW={key:0,class:"d-flex w-100"},SW={key:1,class:"d-flex w-100"},kW={key:2,class:"d-flex w-100 align-items-center"};function TW(t,e,n,i,s,r){const o=Se("RouterLink"),a=Se("LocaleText");return P(),F("div",A8,[h("div",P8,[h("div",M8,[$(o,{to:"/",class:"btn btn-dark btn-brand p-2 shadow",style:{"border-radius":"100%"}},{default:Pe(()=>e[11]||(e[11]=[h("h2",{class:"mb-0",style:{"line-height":"0"}},[h("i",{class:"bi bi-arrow-left-circle"})],-1)])),_:1}),h("h2",I8,[$(a,{t:"New Configuration"})]),$(o,{to:"/restore_configuration",class:"btn btn-dark btn-brand p-2 shadow ms-auto",style:{"border-radius":"100%"}},{default:Pe(()=>e[12]||(e[12]=[h("h2",{class:"mb-0",style:{"line-height":"0"}},[h("i",{class:"bi bi-clock-history"})],-1)])),_:1})]),h("form",{class:"text-body d-flex flex-column gap-3",onSubmit:e[10]||(e[10]=l=>{l.preventDefault(),this.saveNewConfiguration()})},[h("div",D8,[h("div",R8,[$(a,{t:"Configuration Name"})]),h("div",$8,[Re(h("input",{type:"text",class:"form-control",placeholder:"ex. wg1",id:"ConfigurationName","onUpdate:modelValue":e[0]||(e[0]=l=>this.newConfiguration.ConfigurationName=l),disabled:this.loading,required:""},null,8,L8),[[We,this.newConfiguration.ConfigurationName]]),h("div",O8,[this.error?(P(),F("div",N8,pe(this.errorMessage),1)):(P(),F("div",F8,[$(a,{t:"Configuration name is invalid. Possible reasons:"}),h("ul",B8,[h("li",null,[$(a,{t:"Configuration name already exist."})]),h("li",null,[$(a,{t:"Configuration name can only contain 15 lower/uppercase alphabet, numbers, underscore, equal sign, plus sign, period and hyphen."})])])]))])])]),h("div",V8,[h("div",W8,[$(a,{t:"Private Key"}),e[13]||(e[13]=Be(" & ")),$(a,{t:"Public Key"})]),h("div",z8,[h("div",Y8,[h("label",H8,[h("small",null,[$(a,{t:"Private Key"})])]),h("div",j8,[Re(h("input",{type:"text",class:"form-control",id:"PrivateKey",required:"",disabled:this.loading,"onUpdate:modelValue":e[1]||(e[1]=l=>this.newConfiguration.PrivateKey=l)},null,8,K8),[[We,this.newConfiguration.PrivateKey]]),h("button",{class:"btn btn-outline-primary",type:"button",title:"Regenerate Private Key",onClick:e[2]||(e[2]=l=>r.wireguardGenerateKeypair())},e[14]||(e[14]=[h("i",{class:"bi bi-arrow-repeat"},null,-1)]))])]),h("div",null,[h("label",U8,[h("small",null,[$(a,{t:"Public Key"})])]),Re(h("input",{type:"text",class:"form-control",id:"PublicKey","onUpdate:modelValue":e[3]||(e[3]=l=>this.newConfiguration.PublicKey=l),disabled:""},null,512),[[We,this.newConfiguration.PublicKey]])])])]),h("div",G8,[h("div",X8,[$(a,{t:"Listen Port"})]),h("div",q8,[Re(h("input",{type:"number",class:"form-control",placeholder:"0-65353",id:"ListenPort",min:"1",max:"65353","onUpdate:modelValue":e[4]||(e[4]=l=>this.newConfiguration.ListenPort=l),disabled:this.loading,required:""},null,8,Z8),[[We,this.newConfiguration.ListenPort]]),h("div",J8,[this.error?(P(),F("div",Q8,pe(this.errorMessage),1)):(P(),F("div",eW,[$(a,{t:"Invalid port"})]))])])]),h("div",tW,[h("div",nW,[$(a,{t:"IP Address/CIDR"}),h("span",iW,pe(s.numberOfAvailableIPs)+" Available IPs",1)]),h("div",sW,[Re(h("input",{type:"text",class:"form-control",placeholder:"Ex: 10.0.0.1/24",id:"Address","onUpdate:modelValue":e[5]||(e[5]=l=>this.newConfiguration.Address=l),disabled:this.loading,required:""},null,8,rW),[[We,this.newConfiguration.Address]]),h("div",oW,[this.error?(P(),F("div",aW,pe(this.errorMessage),1)):(P(),F("div",lW," IP Address/CIDR is invalid "))])])]),e[23]||(e[23]=h("hr",null,null,-1)),h("div",cW,[h("div",uW,[h("h2",dW,[h("button",hW,[$(a,{t:"Optional Settings"})])]),h("div",fW,[h("div",gW,[h("div",pW,[e[15]||(e[15]=h("div",{class:"card-header"},"PreUp",-1)),h("div",mW,[Re(h("input",{type:"text",class:"form-control",id:"preUp","onUpdate:modelValue":e[6]||(e[6]=l=>this.newConfiguration.PreUp=l)},null,512),[[We,this.newConfiguration.PreUp]])])]),h("div",_W,[e[16]||(e[16]=h("div",{class:"card-header"},"PreDown",-1)),h("div",vW,[Re(h("input",{type:"text",class:"form-control",id:"preDown","onUpdate:modelValue":e[7]||(e[7]=l=>this.newConfiguration.PreDown=l)},null,512),[[We,this.newConfiguration.PreDown]])])]),h("div",yW,[e[17]||(e[17]=h("div",{class:"card-header"},"PostUp",-1)),h("div",bW,[Re(h("input",{type:"text",class:"form-control",id:"postUp","onUpdate:modelValue":e[8]||(e[8]=l=>this.newConfiguration.PostUp=l)},null,512),[[We,this.newConfiguration.PostUp]])])]),h("div",wW,[e[18]||(e[18]=h("div",{class:"card-header"},"PostDown",-1)),h("div",xW,[Re(h("input",{type:"text",class:"form-control",id:"postDown","onUpdate:modelValue":e[9]||(e[9]=l=>this.newConfiguration.PostDown=l)},null,512),[[We,this.newConfiguration.PostDown]])])])])])])]),h("button",{class:"btn btn-dark btn-brand rounded-3 px-3 py-2 shadow ms-auto",disabled:!this.goodToSubmit||this.loading||this.success},[this.success?(P(),F("span",CW,[$(a,{t:"Success"}),e[19]||(e[19]=Be("! ")),e[20]||(e[20]=h("i",{class:"bi bi-check-circle-fill ms-2"},null,-1))])):this.loading?(P(),F("span",kW,[$(a,{t:"Saving..."}),e[22]||(e[22]=h("span",{class:"ms-2 spinner-border spinner-border-sm",role:"status"},null,-1))])):(P(),F("span",SW,[e[21]||(e[21]=h("i",{class:"bi bi-save-fill me-2"},null,-1)),$(a,{t:"Save"})]))],8,EW)],32)])])}const AW=ze(T8,[["render",TW]]),PW={name:"configuration"},MW={class:"mt-md-5 mt-3 text-body"};function IW(t,e,n,i,s,r){const o=Se("RouterView");return P(),F("div",MW,[$(o,null,{default:Pe(({Component:a,route:l})=>[$(vt,{name:"fade2",mode:"out-in"},{default:Pe(()=>[(P(),Ce(x_,null,{default:Pe(()=>[(P(),Ce(_a(a),{key:l.path}))]),_:2},1024))]),_:2},1024)]),_:1})])}const DW=ze(PW,[["render",IW]]),RW={name:"peerSearch",components:{LocaleText:Le},setup(){const t=Xe(),e=$n();return{store:t,wireguardConfigurationStore:e}},props:{configuration:Object},data(){return{sort:{status:At("Status"),name:At("Name"),allowed_ip:At("Allowed IPs"),restricted:At("Restricted")},interval:{5e3:At("5 Seconds"),1e4:At("10 Seconds"),3e4:At("30 Seconds"),6e4:At("1 Minutes")},searchString:"",searchStringTimeout:void 0,showDisplaySettings:!1,showMoreSettings:!1}},methods:{debounce(){this.searchStringTimeout?(clearTimeout(this.searchStringTimeout),this.searchStringTimeout=setTimeout(()=>{this.wireguardConfigurationStore.searchString=this.searchString},300)):this.searchStringTimeout=setTimeout(()=>{this.wireguardConfigurationStore.searchString=this.searchString},300)},updateSort(t){dt("/api/updateDashboardConfigurationItem",{section:"Server",key:"dashboard_sort",value:t},e=>{e.status&&this.store.getConfiguration()})},updateRefreshInterval(t){dt("/api/updateDashboardConfigurationItem",{section:"Server",key:"dashboard_refresh_interval",value:t},e=>{e.status&&this.store.getConfiguration()})},downloadAllPeer(){Pt(`/api/downloadAllPeers/${this.configuration.Name}`,{},t=>{console.log(t),window.wireguard.generateZipFiles(t,this.configuration.Name)})}},computed:{searchBarPlaceholder(){return At("Search Peers...")}}},$W={class:"mb-3"},LW={class:"d-flex gap-2 z-3 peerSearchContainer"},OW={class:"mt-3 mt-md-0 flex-grow-1"},NW=["placeholder"],FW={key:0,class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll displayModal"},BW={class:"container-md d-flex h-100 w-100"},VW={class:"m-auto modal-dialog-centered dashboardModal"},WW={class:"card rounded-3 shadow w-100"},zW={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-2"},YW={class:"mb-0 fw-normal"},HW={class:"card-body px-4 pb-4 d-flex gap-3 flex-column"},jW={class:"text-muted fw-bold mb-2"},KW={class:"list-group"},UW=["onClick"],GW={class:"me-auto"},XW={key:0,class:"bi bi-check text-primary"},qW={class:"text-muted fw-bold mb-2"},ZW={class:"list-group"},JW=["onClick"],QW={class:"me-auto"},ez={key:0,class:"bi bi-check text-primary"},tz={key:0,class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll displayModal"},nz={class:"container-md d-flex h-100 w-100"},iz={class:"m-auto modal-dialog-centered dashboardModal"},sz={class:"card rounded-3 shadow w-100"},rz={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4"},oz={class:"mb-0"},az={class:"card-body px-4 pb-4 d-flex gap-3 flex-column pt-0"},lz={class:"text-muted fw-bold mb-2"},cz={class:"list-group"},uz={class:"text-muted fw-bold mb-2"},dz={class:"list-group"};function hz(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("RouterLink");return P(),F("div",$W,[h("div",LW,[$(a,{to:"create",class:"text-decoration-none btn text-primary-emphasis bg-primary-subtle rounded-3 border-1 border-primary-subtle shadow-sm"},{default:Pe(()=>[e[13]||(e[13]=h("i",{class:"bi bi-plus-lg me-2"},null,-1)),$(o,{t:"Peer"})]),_:1}),h("button",{class:"btn text-primary-emphasis bg-primary-subtle rounded-3 border-1 border-primary-subtle shadow-sm",onClick:e[0]||(e[0]=l=>this.downloadAllPeer())},[e[14]||(e[14]=h("i",{class:"bi bi-download me-2"},null,-1)),$(o,{t:"Download All"})]),h("div",OW,[Re(h("input",{class:"form-control rounded-3 bg-secondary-subtle border-1 border-secondary-subtle shadow-sm w-100",placeholder:r.searchBarPlaceholder,id:"searchPeers",onKeyup:e[1]||(e[1]=l=>this.debounce()),"onUpdate:modelValue":e[2]||(e[2]=l=>this.searchString=l)},null,40,NW),[[We,this.searchString]])]),h("button",{onClick:e[3]||(e[3]=l=>this.showDisplaySettings=!0),class:"btn text-secondary-emphasis bg-secondary-subtle rounded-3 border-1 border-secondary-subtle shadow-sm",type:"button","aria-expanded":"false"},[e[15]||(e[15]=h("i",{class:"bi bi-filter-circle me-2"},null,-1)),$(o,{t:"Display"})]),h("button",{class:"btn text-secondary-emphasis bg-secondary-subtle rounded-3 border-1 border-secondary-subtle shadow-sm",onClick:e[4]||(e[4]=l=>this.$emit("editConfiguration")),type:"button","aria-expanded":"false"},e[16]||(e[16]=[h("i",{class:"bi bi-gear-fill"},null,-1)])),h("button",{class:"btn text-secondary-emphasis bg-secondary-subtle rounded-3 border-1 border-secondary-subtle shadow-sm",onClick:e[5]||(e[5]=l=>this.showMoreSettings=!0),type:"button","aria-expanded":"false"},e[17]||(e[17]=[h("i",{class:"bi bi-three-dots"},null,-1)])),$(vt,{name:"zoom"},{default:Pe(()=>[this.showDisplaySettings?(P(),F("div",FW,[h("div",BW,[h("div",VW,[h("div",WW,[h("div",zW,[h("h4",YW,[$(o,{t:"Display"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[6]||(e[6]=l=>this.showDisplaySettings=!1)})]),h("div",HW,[h("div",null,[h("p",jW,[h("small",null,[$(o,{t:"Sort by"})])]),h("div",KW,[(P(!0),F(Ie,null,Ge(this.sort,(l,c)=>(P(),F("a",{class:"list-group-item list-group-item-action d-flex",role:"button",onClick:u=>this.updateSort(c)},[h("span",GW,pe(l),1),i.store.Configuration.Server.dashboard_sort===c?(P(),F("i",XW)):se("",!0)],8,UW))),256))])]),h("div",null,[h("p",qW,[h("small",null,[$(o,{t:"Refresh Interval"})])]),h("div",ZW,[(P(!0),F(Ie,null,Ge(this.interval,(l,c)=>(P(),F("a",{class:"list-group-item list-group-item-action d-flex",role:"button",onClick:u=>this.updateRefreshInterval(c)},[h("span",QW,pe(l),1),i.store.Configuration.Server.dashboard_refresh_interval===c?(P(),F("i",ez)):se("",!0)],8,JW))),256))])])])])])])])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[this.showMoreSettings?(P(),F("div",tz,[h("div",nz,[h("div",iz,[h("div",sz,[h("div",rz,[h("h4",oz,[$(o,{t:"Other Settings"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[7]||(e[7]=l=>this.showMoreSettings=!1)})]),h("div",az,[h("div",null,[h("p",lz,[h("small",null,[$(o,{t:"Peers"})])]),h("div",cz,[h("a",{class:"list-group-item list-group-item-action d-flex",role:"button",onClick:e[8]||(e[8]=l=>this.$emit("selectPeers"))},[$(o,{t:"Select Peers"})]),h("a",{class:"list-group-item list-group-item-action d-flex",role:"button",onClick:e[9]||(e[9]=l=>this.$emit("jobsAll"))},[$(o,{t:"Active Jobs"})]),h("a",{class:"list-group-item list-group-item-action d-flex",role:"button",onClick:e[10]||(e[10]=l=>this.$emit("jobLogs"))},[$(o,{t:"Logs"})])])]),h("div",null,[h("p",uz,[h("small",null,[$(o,{t:"Configuration"})])]),h("div",dz,[h("a",{class:"list-group-item list-group-item-action d-flex",role:"button",onClick:e[11]||(e[11]=l=>this.$emit("backupRestore"))},[$(o,{t:"Backup & Restore"})]),h("a",{class:"list-group-item list-group-item-action d-flex text-danger fw-bold",role:"button",onClick:e[12]||(e[12]=l=>this.$emit("deleteConfiguration"))},[$(o,{t:"Delete"})])])])])])])])])):se("",!0)]),_:1})])])}const fz=ze(RW,[["render",hz],["__scopeId","data-v-aaa147c4"]]);function gz(t){return af()?(o_(t),!0):!1}function kS(t){return typeof t=="function"?t():Z(t)}const TS=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pz=Object.prototype.toString,mz=t=>pz.call(t)==="[object Object]",uh=()=>{},_z=vz();function vz(){var t,e;return TS&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function xc(t){var e;const n=kS(t);return(e=n?.$el)!=null?e:n}const AS=TS?window:void 0;function Ug(...t){let e,n,i,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,s]=t,e=AS):[e,n,i,s]=t,!e)return uh;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,d,f,g)=>(u.addEventListener(d,f,g),()=>u.removeEventListener(d,f,g)),l=jt(()=>[xc(e),kS(s)],([u,d])=>{if(o(),!u)return;const f=mz(d)?{...d}:d;r.push(...n.flatMap(g=>i.map(p=>a(u,g,p,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return gz(c),c}let T0=!1;function yz(t,e,n={}){const{window:i=AS,ignore:s=[],capture:r=!0,detectIframe:o=!1}=n;if(!i)return uh;_z&&!T0&&(T0=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",uh)),i.document.documentElement.addEventListener("click",uh));let a=!0;const l=f=>s.some(g=>{if(typeof g=="string")return Array.from(i.document.querySelectorAll(g)).some(p=>p===f.target||f.composedPath().includes(p));{const p=xc(g);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Ug(i,"click",f=>{const g=xc(t);if(!(!g||g===f.target||f.composedPath().includes(g))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:r}),Ug(i,"pointerdown",f=>{const g=xc(t);a=!l(f)&&!!(g&&!f.composedPath().includes(g))},{passive:!0}),o&&Ug(i,"blur",f=>{setTimeout(()=>{var g;const p=xc(t);((g=i.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!p?.contains(i.document.activeElement)&&e(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}const bz={name:"peerSettingsDropdown",components:{LocaleText:Le},setup(){return{dashboardStore:Xe()}},props:{Peer:Object},data(){return{deleteBtnDisabled:!1,restrictBtnDisabled:!1,allowAccessBtnDisabled:!1,confirmDelete:!1}},methods:{downloadPeer(){Pt("/api/downloadPeer/"+this.$route.params.id,{id:this.Peer.id},t=>{if(t.status){const e=new Blob([t.data.file],{type:"text/plain"}),n=URL.createObjectURL(e),i=`${t.data.fileName}.conf`,s=document.createElement("a");s.href=n,s.download=i,s.click(),this.dashboardStore.newMessage("WGDashboard","Peer download started","success")}else this.dashboardStore.newMessage("Server",t.message,"danger")})},downloadQRCode(){Pt("/api/downloadPeer/"+this.$route.params.id,{id:this.Peer.id},t=>{t.status?this.$emit("qrcode",t.data.file):this.dashboardStore.newMessage("Server",t.message,"danger")})},deletePeer(){this.deleteBtnDisabled=!0,dt(`/api/deletePeers/${this.$route.params.id}`,{peers:[this.Peer.id]},t=>{this.dashboardStore.newMessage("Server",t.message,t.status?"success":"danger"),this.$emit("refresh"),this.deleteBtnDisabled=!1})},restrictPeer(){this.restrictBtnDisabled=!0,dt(`/api/restrictPeers/${this.$route.params.id}`,{peers:[this.Peer.id]},t=>{this.dashboardStore.newMessage("Server",t.message,t.status?"success":"danger"),this.$emit("refresh"),this.restrictBtnDisabled=!1})},allowAccessPeer(){this.allowAccessBtnDisabled=!0,dt(`/api/allowAccessPeers/${this.$route.params.id}`,{peers:[this.Peer.id]},t=>{this.dashboardStore.newMessage("Server",t.message,t.status?"success":"danger"),this.$emit("refresh"),this.allowAccessBtnDisabled=!1})}}},wz={class:"dropdown-menu mt-2 shadow-lg d-block rounded-3",style:{"max-width":"200px"}},xz={style:{"font-size":"0.8rem","padding-left":"var(--bs-dropdown-item-padding-x)","padding-right":"var(--bs-dropdown-item-padding-x)"}},Ez={class:"text-body d-flex"},Cz={class:"ms-auto"},Sz={key:1},kz={class:"w-100 dropdown-item text-muted",style:{"white-space":"break-spaces","font-size":"0.7rem"}},Tz={key:2,class:"d-flex",style:{"padding-left":"var(--bs-dropdown-item-padding-x)","padding-right":"var(--bs-dropdown-item-padding-x)"}},Az={key:1,class:"confirmDelete"},Pz={class:"d-flex w-100 gap-2"},Mz=["disabled"],Iz=["disabled"],Dz={key:1};function Rz(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("ul",wz,[this.Peer.restricted?(P(),F("li",Dz,[h("a",{class:Ee(["dropdown-item d-flex text-warning",{disabled:this.allowAccessBtnDisabled}]),onClick:e[9]||(e[9]=a=>this.allowAccessPeer()),role:"button"},[e[24]||(e[24]=h("i",{class:"me-auto bi bi-unlock"},null,-1)),this.allowAccessBtnDisabled?(P(),Ce(o,{key:1,t:"Allowing Access..."})):(P(),Ce(o,{key:0,t:"Allow Access"}))],2)])):(P(),F(Ie,{key:0},[this.confirmDelete?(P(),F("li",Az,[e[23]||(e[23]=h("small",{style:{"white-space":"break-spaces"},class:"mb-2 d-block fw-bold"},"Are you sure to delete this peer?",-1)),h("div",Pz,[h("button",{disabled:this.deleteBtnDisabled,onClick:e[7]||(e[7]=a=>this.confirmDelete=!1),class:"flex-grow-1 btn btn-sm bg-secondary-subtle text-secondary-emphasis border border-secondary-subtle"},[$(o,{t:"No"})],8,Mz),h("button",{onClick:e[8]||(e[8]=a=>this.deletePeer()),disabled:this.deleteBtnDisabled,class:"flex-grow-1 ms-auto btn btn-sm bg-danger"},[$(o,{t:"Yes"})],8,Iz)])])):(P(),F(Ie,{key:0},[this.Peer.status==="running"?(P(),F(Ie,{key:0},[h("li",xz,[h("span",Ez,[e[10]||(e[10]=h("i",{class:"bi bi-box-arrow-in-right"},null,-1)),h("span",Cz,pe(this.Peer.endpoint),1)])]),e[11]||(e[11]=h("li",null,[h("hr",{class:"dropdown-divider"})],-1))],64)):se("",!0),this.Peer.private_key?(P(),F("li",Tz,[h("a",{class:"dropdown-item text-center px-0 rounded-3",role:"button",onClick:e[0]||(e[0]=a=>this.downloadPeer())},e[12]||(e[12]=[h("i",{class:"me-auto bi bi-download"},null,-1)])),h("a",{class:"dropdown-item text-center px-0 rounded-3",role:"button",onClick:e[1]||(e[1]=a=>this.downloadQRCode())},e[13]||(e[13]=[h("i",{class:"me-auto bi bi-qr-code"},null,-1)])),h("a",{class:"dropdown-item text-center px-0 rounded-3",role:"button",onClick:e[2]||(e[2]=a=>this.$emit("share"))},e[14]||(e[14]=[h("i",{class:"me-auto bi bi-share"},null,-1)]))])):(P(),F("li",Sz,[h("small",kz,[$(o,{t:"Download & QR Code is not available due to no private key set for this peer"})])])),e[21]||(e[21]=h("li",null,[h("hr",{class:"dropdown-divider"})],-1)),h("li",null,[h("a",{class:"dropdown-item d-flex",role:"button",onClick:e[3]||(e[3]=a=>this.$emit("setting"))},[e[15]||(e[15]=h("i",{class:"me-auto bi bi-pen"},null,-1)),e[16]||(e[16]=Be()),$(o,{t:"Peer Settings"})])]),h("li",null,[h("a",{class:"dropdown-item d-flex",role:"button",onClick:e[4]||(e[4]=a=>this.$emit("jobs"))},[e[17]||(e[17]=h("i",{class:"me-auto bi bi-app-indicator"},null,-1)),e[18]||(e[18]=Be()),$(o,{t:"Schedule Jobs"})])]),e[22]||(e[22]=h("li",null,[h("hr",{class:"dropdown-divider"})],-1)),h("li",null,[h("a",{class:Ee(["dropdown-item d-flex text-warning",{disabled:this.restrictBtnDisabled}]),onClick:e[5]||(e[5]=a=>this.restrictPeer()),role:"button"},[e[19]||(e[19]=h("i",{class:"me-auto bi bi-lock"},null,-1)),this.restrictBtnDisabled?(P(),Ce(o,{key:1,t:"Restricting..."})):(P(),Ce(o,{key:0,t:"Restrict Access"}))],2)]),h("li",null,[h("a",{class:Ee(["dropdown-item d-flex fw-bold text-danger",{disabled:this.deleteBtnDisabled}]),onClick:e[6]||(e[6]=a=>this.confirmDelete=!0),role:"button"},[e[20]||(e[20]=h("i",{class:"me-auto bi bi-trash"},null,-1)),this.deleteBtnDisabled?(P(),Ce(o,{key:1,t:"Deleting..."})):(P(),Ce(o,{key:0,t:"Delete"}))],2)])],64))],64))])}const $z=ze(bz,[["render",Rz],["__scopeId","data-v-3fa1c090"]]),Lz={name:"peer",components:{LocaleText:Le,PeerSettingsDropdown:$z},props:{Peer:Object},data(){return{}},setup(){const t=me(null),e=me(!1);return yz(t,n=>{e.value=!1}),{target:t,subMenuOpened:e}},computed:{getLatestHandshake(){return this.Peer.latest_handshake.includes(",")?this.Peer.latest_handshake.split(",")[0]:this.Peer.latest_handshake}}},Oz={key:0,class:"card-header bg-transparent d-flex align-items-center gap-2 border-0"},Nz={style:{"font-size":"0.8rem"},class:"ms-auto d-flex gap-2"},Fz={class:"text-primary"},Bz={class:"text-success"},Vz={key:0,class:"text-secondary"},Wz={key:1,class:"border-0 card-header bg-transparent text-warning fw-bold",style:{"font-size":"0.8rem"}},zz={class:"card-body pt-1",style:{"font-size":"0.9rem"}},Yz={class:"mb-1"},Hz={class:"d-block"},jz={class:"text-muted"},Kz={class:"d-block"},Uz={class:"d-flex align-items-end"};function Gz(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("PeerSettingsDropdown");return P(),F("div",{class:Ee(["card shadow-sm rounded-3 peerCard bg-transparent",{"border-warning":n.Peer.restricted}])},[h("div",null,[n.Peer.restricted?(P(),F("div",Wz,[e[11]||(e[11]=h("i",{class:"bi-lock-fill me-2"},null,-1)),$(o,{t:"Access Restricted"})])):(P(),F("div",Oz,[h("div",{class:Ee(["dot ms-0",{active:n.Peer.status==="running"}])},null,2),h("div",Nz,[h("span",Fz,[e[6]||(e[6]=h("i",{class:"bi bi-arrow-down"},null,-1)),h("strong",null,pe((n.Peer.cumu_receive+n.Peer.total_receive).toFixed(4)),1),e[7]||(e[7]=Be(" GB "))]),h("span",Bz,[e[8]||(e[8]=h("i",{class:"bi bi-arrow-up"},null,-1)),h("strong",null,pe((n.Peer.cumu_sent+n.Peer.total_sent).toFixed(4)),1),e[9]||(e[9]=Be(" GB "))]),n.Peer.latest_handshake!=="No Handshake"?(P(),F("span",Vz,[e[10]||(e[10]=h("i",{class:"bi bi-arrows-angle-contract"},null,-1)),Be(" "+pe(r.getLatestHandshake)+" ago ",1)])):se("",!0)])]))]),h("div",zz,[h("h6",null,pe(n.Peer.name?n.Peer.name:"Untitled Peer"),1),h("div",Yz,[e[12]||(e[12]=h("small",{class:"text-muted"}," Public Key ",-1)),h("small",Hz,[h("samp",null,pe(n.Peer.id),1)])]),h("div",null,[h("small",jz,[$(o,{t:"Allowed IPs"})]),h("small",Kz,[h("samp",null,pe(n.Peer.allowed_ip),1)])]),h("div",Uz,[h("div",{class:Ee(["ms-auto px-2 rounded-3 subMenuBtn",{active:this.subMenuOpened}])},[h("a",{role:"button",class:"text-body",onClick:e[0]||(e[0]=l=>this.subMenuOpened=!0)},e[13]||(e[13]=[h("h5",{class:"mb-0"},[h("i",{class:"bi bi-three-dots"})],-1)])),$(vt,{name:"slide-fade"},{default:Pe(()=>[this.subMenuOpened?(P(),Ce(a,{key:0,onQrcode:e[1]||(e[1]=l=>this.$emit("qrcode",l)),onSetting:e[2]||(e[2]=l=>this.$emit("setting")),onJobs:e[3]||(e[3]=l=>this.$emit("jobs")),onRefresh:e[4]||(e[4]=l=>this.$emit("refresh")),onShare:e[5]||(e[5]=l=>this.$emit("share")),Peer:n.Peer,ref:"target"},null,8,["Peer"])):se("",!0)]),_:1})],2)])])],2)}const Xz=ze(Lz,[["render",Gz],["__scopeId","data-v-116e739e"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ku(t){return t+.5|0}const Ur=(t,e,n)=>Math.max(Math.min(t,n),e);function Ec(t){return Ur(Ku(t*2.55),0,255)}function no(t){return Ur(Ku(t*255),0,255)}function ir(t){return Ur(Ku(t/2.55)/100,0,1)}function A0(t){return Ur(Ku(t*100),0,100)}const Bi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lm=[..."0123456789ABCDEF"],qz=t=>lm[t&15],Zz=t=>lm[(t&240)>>4]+lm[t&15],Ad=t=>(t&240)>>4===(t&15),Jz=t=>Ad(t.r)&&Ad(t.g)&&Ad(t.b)&&Ad(t.a);function Qz(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Bi[t[1]]*17,g:255&Bi[t[2]]*17,b:255&Bi[t[3]]*17,a:e===5?Bi[t[4]]*17:255}:(e===7||e===9)&&(n={r:Bi[t[1]]<<4|Bi[t[2]],g:Bi[t[3]]<<4|Bi[t[4]],b:Bi[t[5]]<<4|Bi[t[6]],a:e===9?Bi[t[7]]<<4|Bi[t[8]]:255})),n}const eY=(t,e)=>t<255?e(t):"";function tY(t){var e=Jz(t)?qz:Zz;return t?"#"+e(t.r)+e(t.g)+e(t.b)+eY(t.a,e):void 0}const nY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PS(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function iY(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function sY(t,e,n){const i=PS(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function rY(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function U_(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=rY(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function G_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(no)}function X_(t,e,n){return G_(PS,t,e,n)}function oY(t,e,n){return G_(sY,t,e,n)}function aY(t,e,n){return G_(iY,t,e,n)}function MS(t){return(t%360+360)%360}function lY(t){const e=nY.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ec(+e[5]):no(+e[5]));const s=MS(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=oY(s,r,o):e[1]==="hsv"?i=aY(s,r,o):i=X_(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function cY(t,e){var n=U_(t);n[0]=MS(n[0]+e),n=X_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function uY(t){if(!t)return;const e=U_(t),n=e[0],i=A0(e[1]),s=A0(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${ir(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const P0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},M0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dY(){const t={},e=Object.keys(M0),n=Object.keys(P0);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,P0[r]);r=parseInt(M0[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Pd;function hY(t){Pd||(Pd=dY(),Pd.transparent=[0,0,0,0]);const e=Pd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const fY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gY(t){const e=fY.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ec(o):Ur(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Ec(i):Ur(i,0,255)),s=255&(e[4]?Ec(s):Ur(s,0,255)),r=255&(e[6]?Ec(r):Ur(r,0,255)),{r:i,g:s,b:r,a:n}}}function pY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ir(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Gg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Oa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function mY(t,e,n){const i=Oa(ir(t.r)),s=Oa(ir(t.g)),r=Oa(ir(t.b));return{r:no(Gg(i+n*(Oa(ir(e.r))-i))),g:no(Gg(s+n*(Oa(ir(e.g))-s))),b:no(Gg(r+n*(Oa(ir(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Md(t,e,n){if(t){let i=U_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=X_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function IS(t,e){return t&&Object.assign(e||{},t)}function I0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=no(t[3]))):(e=IS(t,{r:0,g:0,b:0,a:1}),e.a=no(e.a)),e}function _Y(t){return t.charAt(0)==="r"?gY(t):lY(t)}class du{constructor(e){if(e instanceof du)return e;const n=typeof e;let i;n==="object"?i=I0(e):n==="string"&&(i=Qz(e)||hY(e)||_Y(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=IS(this._rgb);return e&&(e.a=ir(e.a)),e}set rgb(e){this._rgb=I0(e)}rgbString(){return this._valid?pY(this._rgb):void 0}hexString(){return this._valid?tY(this._rgb):void 0}hslString(){return this._valid?uY(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=mY(this._rgb,e._rgb,n)),this}clone(){return new du(this.rgb)}alpha(e){return this._rgb.a=no(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ku(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Md(this._rgb,2,e),this}darken(e){return Md(this._rgb,2,-e),this}saturate(e){return Md(this._rgb,1,e),this}desaturate(e){return Md(this._rgb,1,-e),this}rotate(e){return cY(this._rgb,e),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Us(){}const vY=(()=>{let t=0;return()=>t++})();function gt(t){return t===null||typeof t>"u"}function Yt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ut(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function nn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Si(t,e){return nn(t)?t:e}function it(t,e){return typeof t>"u"?e:t}const yY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,DS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function $t(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Tt(t,e,n,i){let s,r,o;if(Yt(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(ut(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Ah(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Ph(t){if(Yt(t))return t.map(Ph);if(ut(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Ph(t[n[s]]);return e}return t}function RS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function bY(t,e,n,i){if(!RS(t))return;const s=e[t],r=n[t];ut(s)&&ut(r)?hu(s,r,i):e[t]=Ph(r)}function hu(t,e,n){const i=Yt(e)?e:[e],s=i.length;if(!ut(t))return t;n=n||{};const r=n.merger||bY;let o;for(let a=0;a<s;++a){if(o=i[a],!ut(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Kc(t,e){return hu(t,e,{merger:wY})}function wY(t,e,n){if(!RS(t))return;const i=e[t],s=n[t];ut(i)&&ut(s)?Kc(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ph(s))}const D0={"":t=>t,x:t=>t.x,y:t=>t.y};function xY(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function EY(t){const e=xY(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function lo(t,e){return(D0[e]||(D0[e]=EY(e)))(t)}function q_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const fu=t=>typeof t<"u",co=t=>typeof t=="function",R0=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function CY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Bt=Math.PI,Ft=2*Bt,SY=Ft+Bt,Mh=Number.POSITIVE_INFINITY,kY=Bt/180,dn=Bt/2,Oo=Bt/4,$0=Bt*2/3,Gr=Math.log10,Os=Math.sign;function Uc(t,e,n){return Math.abs(t-e)<n}function L0(t){const e=Math.round(t);t=Uc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Gr(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function TY(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Il(t){return!isNaN(parseFloat(t))&&isFinite(t)}function AY(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function $S(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ls(t){return t*(Bt/180)}function Z_(t){return t*(180/Bt)}function O0(t){if(!nn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function LS(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Bt&&(r+=Ft),{angle:r,distance:s}}function cm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PY(t,e){return(t-e+SY)%Ft-Bt}function ki(t){return(t%Ft+Ft)%Ft}function gu(t,e,n,i){const s=ki(t),r=ki(e),o=ki(n),a=ki(r-s),l=ki(o-s),c=ki(s-r),u=ki(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Dn(t,e,n){return Math.max(e,Math.min(n,t))}function MY(t){return Dn(t,-32768,32767)}function lr(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function J_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const cr=(t,e,n,i)=>J_(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),IY=(t,e,n)=>J_(t,n,i=>t[i][e]>=n);function DY(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const OS=["push","pop","shift","splice","unshift"];function RY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),OS.forEach(n=>{const i="_onData"+q_(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function N0(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(OS.forEach(r=>{delete t[r]}),delete t._chartjs)}function NS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const FS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function BS(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,FS.call(window,()=>{i=!1,t.apply(e,n)}))}}function $Y(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Q_=t=>t==="start"?"left":t==="end"?"right":"center",Yn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,LY=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function VS(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(s=Dn(Math.min(cr(a,l,c).lo,n?i:cr(e,l,o.getPixelForValue(c)).lo),0,i-1)),f?r=Dn(Math.max(cr(a,o.axis,u,!0).hi+1,n?0:cr(e,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function WS(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Id=t=>t===0||t===1,F0=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ft/n)),B0=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ft/n)+1,Gc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*dn)+1,easeOutSine:t=>Math.sin(t*dn),easeInOutSine:t=>-.5*(Math.cos(Bt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Id(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Id(t)?t:F0(t,.075,.3),easeOutElastic:t=>Id(t)?t:B0(t,.075,.3),easeInOutElastic(t){return Id(t)?t:t<.5?.5*F0(t*2,.1125,.45):.5+.5*B0(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Gc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Gc.easeInBounce(t*2)*.5:Gc.easeOutBounce(t*2-1)*.5+.5};function ev(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function V0(t){return ev(t)?t:new du(t)}function Xg(t){return ev(t)?t:new du(t).saturate(.5).darken(.1).hexString()}const OY=["x","y","borderWidth","radius","tension"],NY=["color","borderColor","backgroundColor"];function FY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:NY},numbers:{type:"number",properties:OY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function BY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const W0=new Map;function VY(t,e){e=e||{};const n=t+JSON.stringify(e);let i=W0.get(n);return i||(i=new Intl.NumberFormat(t,e),W0.set(n,i)),i}function Uu(t,e,n){return VY(e,n).format(t)}const zS={values(t){return Yt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=WY(t,n)}const o=Gr(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Uu(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Gr(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?zS.numeric.call(this,t,e,n):""}};function WY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Af={formatters:zS};function zY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Af.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const fa=Object.create(null),um=Object.create(null);function Xc(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function qg(t,e,n){return typeof e=="string"?hu(Xc(t,e),n):hu(Xc(t,""),e)}class YY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Xg(s.backgroundColor),this.hoverBorderColor=(i,s)=>Xg(s.borderColor),this.hoverColor=(i,s)=>Xg(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return qg(this,e,n)}get(e){return Xc(this,e)}describe(e,n){return qg(um,e,n)}override(e,n){return qg(fa,e,n)}route(e,n,i,s){const r=Xc(this,e),o=Xc(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ut(l)?Object.assign({},c,l):it(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var sn=new YY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FY,BY,zY]);function HY(t){return!t||gt(t.size)||gt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ih(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function jY(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Yt(d))o=Ih(t,s,r,o,d);else if(Yt(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Yt(f)&&(o=Ih(t,s,r,o,f));t.restore();const g=r.length/2;if(g>n.length){for(l=0;l<g;l++)delete s[r[l]];r.splice(0,g)}return o}function No(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function z0(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function dm(t,e,n,i){YS(t,e,n,i,null)}function YS(t,e,n,i,s){let r,o,a,l,c,u,d,f;const g=e.pointStyle,p=e.rotation,m=e.radius;let v=(p||0)*kY;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,i,s/2,m,0,0,Ft):t.arc(n,i,m,0,Ft),t.closePath();break;case"triangle":u=s?s/2:m,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=$0,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=$0,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(v+Oo)*l,d=Math.cos(v+Oo)*(s?s/2-c:l),a=Math.sin(v+Oo)*l,f=Math.sin(v+Oo)*(s?s/2-c:l),t.arc(n-d,i-a,c,v-Bt,v-dn),t.arc(n+f,i-o,c,v-dn,v),t.arc(n+d,i+a,c,v,v+dn),t.arc(n-f,i+o,c,v+dn,v+Bt),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=Oo;case"rectRot":d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":v+=Oo;case"cross":d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),v+=Oo,d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(v)*m,a=Math.sin(v)*m,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:m),i+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ur(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Pf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Mf(t){t.restore()}function KY(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function UY(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function GY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),gt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function XY(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function qY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ga(t,e,n,i,s,r={}){const o=Yt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,GY(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&qY(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),gt(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),XY(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function pu(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Bt,Bt,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Bt,dn,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,dn,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-dn,!0),t.lineTo(n+o.topLeft,i)}const ZY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function QY(t,e){const n=(""+t).match(ZY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const eH=t=>+t||0;function tv(t,e){const n={},i=ut(e),s=i?Object.keys(e):e,r=ut(t)?i?o=>it(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=eH(r(o));return n}function HS(t){return tv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ra(t){return tv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Zn(t){const e=HS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function En(t,e){t=t||{},e=e||sn.font;let n=it(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=it(t.style,e.style);i&&!(""+i).match(JY)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:it(t.family,e.family),lineHeight:QY(it(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:it(t.weight,e.weight),string:""};return s.string=HY(s),s}function Cc(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function tH(t,e,n){const{min:i,max:s}=t,r=DS(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function wo(t,e){return Object.assign(Object.create(t),e)}function nv(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=GS("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>nv([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return KS(a,l,()=>cH(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return H0(a).includes(l)},ownKeys(a){return H0(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Dl(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:jS(t,i),setContext:r=>Dl(t,r,n,i),override:r=>Dl(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return KS(r,o,()=>iH(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function jS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:co(n)?n:()=>n,isIndexable:co(i)?i:()=>i}}const nH=(t,e)=>t?t+q_(e):e,iv=(t,e)=>ut(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function KS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function iH(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return co(a)&&o.isScriptable(e)&&(a=sH(e,a,t,n)),Yt(a)&&a.length&&(a=rH(e,a,t,o.isIndexable)),iv(e,a)&&(a=Dl(a,s,r&&r[e],o)),a}function sH(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),iv(t,l)&&(l=sv(s._scopes,s,t,l)),l}function rH(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(ut(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=sv(c,s,t,u);e.push(Dl(d,r,o&&o[t],a))}}return e}function US(t,e,n){return co(t)?t(e,n):t}const oH=(t,e)=>t===!0?e:typeof t=="string"?lo(e,t):void 0;function aH(t,e,n,i,s){for(const r of e){const o=oH(n,r);if(o){t.add(o);const a=US(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function sv(t,e,n,i){const s=e._rootScopes,r=US(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=Y0(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Y0(a,o,r,l,i),l===null)?!1:nv(Array.from(a),[""],s,r,()=>lH(e,n,i))}function Y0(t,e,n,i,s){for(;n;)n=aH(t,e,n,i,s);return n}function lH(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Yt(s)&&ut(n)?n:s||{}}function cH(t,e,n,i){let s;for(const r of e)if(s=GS(nH(r,t),n),typeof s<"u")return iv(t,s)?sv(n,i,t,s):s}function GS(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function H0(t){let e=t._keys;return e||(e=t._keys=uH(t._scopes)),e}function uH(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function XS(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(lo(u,r),c)};return o}const dH=Number.EPSILON||1e-14,Rl=(t,e)=>e<t.length&&!t[e].skip&&t[e],qS=t=>t==="x"?"y":"x";function hH(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=cm(r,s),l=cm(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:r.x-d*(o.x-s.x),y:r.y-d*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function fH(t,e,n){const i=t.length;let s,r,o,a,l,c=Rl(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Rl(t,u+1),!(!l||!c)){if(Uc(e[u],0,dH)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function gH(t,e,n="x"){const i=qS(n),s=t.length;let r,o,a,l=Rl(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Rl(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=d+r*e[c])}}function pH(t,e="x"){const n=qS(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Rl(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Rl(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Os(s[o-1])!==Os(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}fH(t,s,r),gH(t,r,e)}function Dd(t,e,n){return Math.max(Math.min(t,n),e)}function mH(t,e){let n,i,s,r,o,a=ur(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&ur(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Dd(s.cp1x,e.left,e.right),s.cp1y=Dd(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Dd(s.cp2x,e.left,e.right),s.cp2y=Dd(s.cp2y,e.top,e.bottom)))}function _H(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")pH(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=hH(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&mH(t,n)}function rv(){return typeof window<"u"&&typeof document<"u"}function ov(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Dh(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const If=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function vH(t,e){return If(t).getPropertyValue(e)}const yH=["top","right","bottom","left"];function oa(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=yH[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const bH=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function wH(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(bH(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function jo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=If(n),r=s.boxSizing==="border-box",o=oa(s,"padding"),a=oa(s,"border","width"),{x:l,y:c,box:u}=wH(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:g,height:p}=e;return r&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/g*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function xH(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&ov(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=If(r),l=oa(a,"border","width"),c=oa(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Dh(a.maxWidth,r,"clientWidth"),s=Dh(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Mh,maxHeight:s||Mh}}const Rd=t=>Math.round(t*10)/10;function EH(t,e,n,i){const s=If(t),r=oa(s,"margin"),o=Dh(s.maxWidth,t,"clientWidth")||Mh,a=Dh(s.maxHeight,t,"clientHeight")||Mh,l=xH(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=oa(s,"border","width"),g=oa(s,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Rd(Math.min(c,o,l.maxWidth)),u=Rd(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Rd(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Rd(Math.floor(u*i))),{width:c,height:u}}function j0(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const CH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};rv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function K0(t,e){const n=vH(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ko(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function SH(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function kH(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Ko(t,s,n),a=Ko(s,r,n),l=Ko(r,e,n),c=Ko(o,a,n),u=Ko(a,l,n);return Ko(c,u,n)}const TH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},AH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ul(t,e,n){return t?TH(e,n):AH()}function ZS(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function JS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function QS(t){return t==="angle"?{between:gu,compare:PY,normalize:ki}:{between:lr,compare:(e,n)=>e-n,normalize:e=>e}}function U0({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function PH(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=QS(i),l=e.length;let{start:c,end:u,loop:d}=t,f,g;if(d){for(c+=l,u+=l,f=0,g=l;f<g&&o(a(e[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function ek(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=QS(i),{start:u,end:d,loop:f,style:g}=PH(t,e,n),p=[];let m=!1,v=null,y,x,E;const w=()=>l(s,E,y)&&a(s,E)!==0,b=()=>a(r,y)===0||l(r,E,y),C=()=>m||w(),k=()=>!m||b();for(let T=u,A=u;T<=d;++T)x=e[T%o],!x.skip&&(y=c(x[i]),y!==E&&(m=l(y,s,r),v===null&&C()&&(v=a(y,s)===0?T:A),v!==null&&k()&&(p.push(U0({start:v,end:T,loop:f,count:o,style:g})),v=null),A=T,E=y));return v!==null&&p.push(U0({start:v,end:d,loop:f,count:o,style:g})),p}function tk(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=ek(i[s],t.points,e);r.length&&n.push(...r)}return n}function MH(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function IH(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function DH(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=MH(n,s,r,i);if(i===!0)return G0(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return G0(t,IH(n,o,l,c),n,e)}function G0(t,e,n,i){return!i||!i.setContext||!n?e:RH(t,e,n,i)}function RH(t,e,n,i){const s=t._chart.getContext(),r=X0(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,f=d;function g(p,m,v,y){const x=a?-1:1;if(p!==m){for(p+=l;n[p%l].skip;)p-=x;for(;n[m%l].skip;)m+=x;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:v,style:y}),u=y,d=m%l)}}for(const p of e){d=a?d:p.start;let m=n[d%l],v;for(f=d+1;f<=p.end;f++){const y=n[f%l];v=X0(i.setContext(wo(s,{type:"segment",p0:m,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),$H(v,u)&&g(d,f-1,p.loop,u),m=y,u=v}d<f-1&&g(d,f-1,p.loop,u)}return c}function X0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $H(t,e){if(!e)return!1;const n=[],i=function(s,r){return ev(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class LH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=FS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zs=new LH;const q0="transparent",OH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=V0(t||q0),s=i.valid&&V0(e||q0);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class NH{constructor(e,n,i,s){const r=n[i];s=Cc([e.to,s,r,e.from]);const o=Cc([e.from,r,s]);this._active=!0,this._fn=e.fn||OH[e.type||typeof o],this._easing=Gc[e.easing]||Gc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Cc([e.to,n,s,e.from]),this._from=Cc([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class nk{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ut(e))return;const n=Object.keys(sn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!ut(r))return;const o={};for(const a of n)o[a]=r[a];(Yt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=BH(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&FH(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=d=new NH(f,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Zs.add(this._chart,i),!0}}function FH(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function BH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Z0(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function VH(t,e,n){if(n===!1)return!1;const i=Z0(t,n),s=Z0(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function WH(t){let e,n,i,s;return ut(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function ik(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function J0(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=t.values[l],nn(c)&&(r||e===0||Os(e)===Os(c))&&(e+=c)}return e}}function zH(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:t[u]};return a}function Q0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function YH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function HH(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function jH(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function e1(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function t1(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=YH(r,o,i),d=e.length;let f;for(let g=0;g<d;++g){const p=e[g],{[l]:m,[c]:v}=p,y=p._stacks||(p._stacks={});f=y[c]=jH(s,u,m),f[a]=v,f._top=e1(f,o,!0,i.type),f._bottom=e1(f,o,!1,i.type);const x=f._visualValues||(f._visualValues={});x[a]=v}}function Zg(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function KH(t,e){return wo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function UH(t,e,n){return wo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hc(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Jg=t=>t==="reset"||t==="none",n1=(t,e)=>e?t:Object.assign({},t),GH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ik(n,!0),values:null};class xo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Q0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(d,f,g,p)=>d==="x"?f:d==="r"?p:g,r=n.xAxisID=it(i.xAxisID,Zg(e,"x")),o=n.yAxisID=it(i.yAxisID,Zg(e,"y")),a=n.rAxisID=it(i.rAxisID,Zg(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&N0(this._data,this),e._stacked&&hc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ut(n)){const s=this._cachedMeta;this._data=zH(n,s)}else if(i!==n){if(i){N0(i,this);const s=this._cachedMeta;hc(s),s._parsed=[]}n&&Object.isExtensible(n)&&RY(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Q0(n.vScale,n),n.stack!==i.stack&&(s=!0,hc(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&t1(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Yt(s[e])?f=this.parseArrayData(i,s,e,n):ut(s[e])?f=this.parseObjectData(i,s,e,n):f=this.parsePrimitiveData(i,s,e,n);const g=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);i._sorted=l}o&&t1(this,f)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(s);let f,g,p;for(f=0,g=s;f<g;++f)p=f+i,d[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+i,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+i,g=n[f],c[u]={x:r.parse(lo(g,a),f),y:o.parse(lo(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:ik(s,!0),values:n._stacks[e.axis]._visualValues};return J0(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=J0(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=GH(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=HH(a);let f,g;function p(){g=s[f];const m=g[a.axis];return!nn(g[e.axis])||u>m||d<m}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,g,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],nn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=WH(it(this.options.clip,VH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=UH(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=KH(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&fu(i);if(a)return n1(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(sn.elements[e]),p=()=>this.getContext(i,s,n),m=c.resolveNamedOptions(f,g,p,d);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(n1(m,l))),m}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,i,n))}const c=new nk(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Jg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Jg(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Jg(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&hc(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function XH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=NS(i.sort((s,r)=>s-r))}return t._cache.$bar}function qH(t){const e=t.iScale,n=XH(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(fu(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function ZH(t,e,n,i){const s=n.barThickness;let r,o;return gt(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function JH(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function QH(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function sk(t,e,n,i){return Yt(t)?QH(t,e,n,i):e[n.axis]=n.parse(t,i),e}function i1(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,d,f;for(c=n,u=n+i;c<u;++c)f=e[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(sk(f,d,r,c));return l}function Qg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function ej(t,e,n){return t!==0?Os(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function tj(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function nj(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=tj(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[s1(u,o,a,l)]=!0,s=c)),r[s1(s,o,a,l)]=!0,t.borderSkipped=r}function s1(t,e,n,i){return i?(t=ij(t,e,n),t=r1(t,n,e)):t=r1(t,e,n),t}function ij(t,e,n){return t===e?n:t===n?e:t}function r1(t,e,n){return t==="start"?e:t==="end"?n:t}function sj(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class rk extends xo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,s){return i1(e,n,i,s)}parseArrayData(e,n,i,s){return i1(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,g,p,m;for(f=i,g=i+s;f<g;++f)m=n[f],p={},p[r.axis]=r.parse(lo(m,c),f),d.push(sk(lo(m,u),p,o,f));return d}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=Qg(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const p=this.getParsed(g),m=r||gt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),v=this._calculateBarIndexPixels(g,u),y=(p._stacks||{})[a.axis],x={horizontal:c,base:m.base,enableBorderRadius:!y||Qg(p._custom)||o===y._top||o===y._bottom,x:c?m.head:v.center,y:c?v.center:m.head,height:c?v.size:Math.abs(m.size),width:c?Math.abs(m.size):v.size};f&&(x.options=d||this.resolveDataElementOptions(g,e[g].active?"active":s));const E=x.options||e[g].options;nj(x,E,y,o),sj(x,E,u.ratio),this.updateElement(e[g],g,x,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(g=>g[i.axis]===l),f=d&&d[u.vScale.axis];if(gt(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||qH(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Qg(c);let d=l[n.axis],f=0,g=i?this.applyStack(n,l,i):d,p,m;g!==d&&(f=g-d,g=d),u&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&Os(d)!==Os(c.barEnd)&&(f=0),f+=d);const v=!gt(r)&&!u?r:f;let y=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+g):p=y,m=p-y,Math.abs(m)<o){m=ej(m,n,a)*o,d===a&&(y-=m/2);const x=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),w=Math.min(x,E),b=Math.max(x,E);y=Math.max(Math.min(y,b),w),p=y+m,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const x=Os(m)*n.getLineWidthForValue(a)/2;y+=x,m-=x}return{size:m,base:y,head:p,center:p+m/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=it(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?JH(e,n,s,c):ZH(e,n,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class rj extends xo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=it(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=it(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,d=a.axis;for(let f=n;f<n+i;f++){const g=e[f],p=!r&&this.getParsed(f),m={},v=m[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=m[d]=r?a.getBasePixel():a.getPixelForValue(p[d]);m.skip=isNaN(v)||isNaN(y),c&&(m.options=l||this.resolveDataElementOptions(f,g.active?"active":s),r&&(m.options.radius=0)),this.updateElement(g,f,m,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=it(i&&i._custom,r),s}}function oj(t,e,n){let i=1,s=1,r=0,o=0;if(e<Ft){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(E,w,b)=>gu(E,a,l,!0)?1:Math.max(w,w*n,b,b*n),p=(E,w,b)=>gu(E,a,l,!0)?-1:Math.min(w,w*n,b,b*n),m=g(0,c,d),v=g(dn,u,f),y=p(Bt,c,d),x=p(Bt+dn,u,f);i=(m-y)/2,s=(v-x)/2,r=-(m+y)/2,o=-(v+x)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class ok extends xo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(ut(i[e])){const{key:l="value"}=this._parsing;r=c=>+lo(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return ls(this.options.rotation-90)}_getCircumference(){return ls(this.options.circumference)}_getRotationExtents(){let e=Ft,n=-Ft;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(yY(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=oj(d,u,l),v=(i.width-o)/f,y=(i.height-o)/g,x=Math.max(Math.min(v,y)/2,0),E=DS(this.options.radius,x),w=Math.max(E*l,0),b=(E-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*E,this.offsetY=m*E,s.total=this.calculateTotal(),this.outerRadius=E-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Ft)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=r&&c.animateScale,g=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,s);let y=this._getRotation(),x;for(x=0;x<n;++x)y+=this._circumference(x,r);for(x=n;x<n+i;++x){const E=this._circumference(x,r),w=e[x],b={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+E,circumference:E,outerRadius:p,innerRadius:g};v&&(b.options=m||this.resolveDataElementOptions(x,w.active?"active":s)),y+=E,this.updateElement(w,x,b,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ft*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Uu(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(it(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ak extends xo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=VS(n,s,o);this._drawStart=a,this._drawCount=l,WS(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,v=Il(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none",x=n+i,E=e.length;let w=n>0&&this.getParsed(n-1);for(let b=0;b<E;++b){const C=e[b],k=y?C:{};if(b<n||b>=x){k.skip=!0;continue}const T=this.getParsed(b),A=gt(T[g]),I=k[f]=o.getPixelForValue(T[f],b),V=k[g]=r||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[g],b);k.skip=isNaN(I)||isNaN(V)||A,k.stop=b>0&&Math.abs(T[f]-w[f])>v,m&&(k.parsed=T,k.raw=c.data[b]),d&&(k.options=u||this.resolveDataElementOptions(b,C.active?"active":s)),y||this.updateElement(C,b,k,s),w=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class aj extends xo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Uu(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return XS.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Bt;let g=f,p;const m=360/this.countVisibleElements();for(p=0;p<n;++p)g+=this._computeAngle(p,s,m);for(p=n;p<n+i;p++){const v=e[p];let y=g,x=g+this._computeAngle(p,s,m),E=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;g=x,r&&(l.animateScale&&(E=0),l.animateRotate&&(y=x=f));const w={x:u,y:d,innerRadius:0,outerRadius:E,startAngle:y,endAngle:x,options:this.resolveDataElementOptions(p,v.active?"active":s)};this.updateElement(v,p,w,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?ls(this.resolveDataElementOptions(e,n).angle||i):0}}class lj extends ok{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class cj extends xo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return XS.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:u.x,f=o?r.yCenter:u.y,g={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,g,s)}}}class uj extends xo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=VS(n,i,s);if(this._drawStart=r,this._drawCount=o,WS(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),d=this.getSharedOptions(u),f=this.includeOptions(s,d),g=o.axis,p=a.axis,{spanGaps:m,segment:v}=this.options,y=Il(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||s==="none";let E=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const b=e[w],C=this.getParsed(w),k=x?b:{},T=gt(C[p]),A=k[g]=o.getPixelForValue(C[g],w),I=k[p]=r||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[p],w);k.skip=isNaN(A)||isNaN(I)||T,k.stop=w>0&&Math.abs(C[g]-E[g])>y,v&&(k.parsed=C,k.raw=c.data[w]),f&&(k.options=d||this.resolveDataElementOptions(w,b.active?"active":s)),x||this.updateElement(b,w,k,s),E=C}this.updateSharedOptions(d,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}function Fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class av{static override(e){Object.assign(av.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fo()}parse(){return Fo()}format(){return Fo()}add(){return Fo()}diff(){return Fo()}startOf(){return Fo()}endOf(){return Fo()}}var dj={_date:av};function hj(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?IY:cr;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(r,e,n-u),f=l(r,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Gu(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:f}=hj(r[a],e,o,s);for(let g=d;g<=f;++g){const p=u[g];p.skip||i(p,c,g)}}}function fj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ep(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Gu(t,n,e,function(a,l,c){!s&&!ur(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function gj(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=LS(o,{x:e.x,y:e.y});gu(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Gu(t,n,e,r),s}function pj(t,e,n,i,s,r){let o=[];const a=fj(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,s);if(i&&!g)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!g)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:d,index:f}],l=v):v===l&&o.push({element:u,datasetIndex:d,index:f})}return Gu(t,n,e,c),o}function tp(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?gj(t,e,n,s):pj(t,e,n,i,s,r)}function o1(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Gu(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var mj={evaluateInteractionItems:Gu,modes:{index(t,e,n,i){const s=jo(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?ep(t,s,r,i,o):tp(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=jo(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?ep(t,s,r,i,o):tp(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=jo(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return ep(t,s,r,i,o)},nearest(t,e,n,i){const s=jo(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return tp(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=jo(e,t);return o1(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=jo(e,t);return o1(t,s,"y",n.intersect,i)}}};const lk=["left","top","right","bottom"];function fc(t,e){return t.filter(n=>n.pos===e)}function a1(t,e){return t.filter(n=>lk.indexOf(n.pos)===-1&&n.box.axis===e)}function gc(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function _j(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function vj(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!lk.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function yj(t,e){const n=vj(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function bj(t){const e=_j(t),n=gc(e.filter(c=>c.box.fullSize),!0),i=gc(fc(e,"left"),!0),s=gc(fc(e,"right")),r=gc(fc(e,"top"),!0),o=gc(fc(e,"bottom")),a=a1(e,"x"),l=a1(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:fc(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function l1(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ck(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function wj(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!ut(s)){n.size&&(t[s]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[s]+=n.size}r.getPadding&&ck(o,r.getPadding());const a=Math.max(0,e.outerWidth-l1(o,t,"left","right")),l=Math.max(0,e.outerHeight-l1(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function xj(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Ej(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Sc(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,Ej(a.horizontal,e));const{same:d,other:f}=wj(e,n,a,i);c|=d&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&Sc(s,e,n,i)||u}function $d(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function c1(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;fu(c.start)&&(o=c.start),l.fullSize?$d(l,s.left,o,n.outerWidth-s.right-s.left,f):$d(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;fu(c.start)&&(r=c.start),l.fullSize?$d(l,r,s.top,f,n.outerHeight-s.bottom-s.top):$d(l,r,e.top+c.placed,f,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var Wi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Zn(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=bj(t.boxes),l=a.vertical,c=a.horizontal;Tt(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);ck(f,Zn(i));const g=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=yj(l.concat(c),d);Sc(a.fullSize,g,d,p),Sc(l,g,d,p),Sc(c,g,d,p)&&Sc(l,g,d,p),xj(g),c1(a.leftAndTop,g,d,p),g.x+=g.w,g.y+=g.h,c1(a.rightAndBottom,g,d,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Tt(a.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class uk{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class Cj extends uk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const dh="$chartjs",Sj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},u1=t=>t===null||t==="";function kj(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[dh]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",u1(s)){const r=K0(t,"width");r!==void 0&&(t.width=r)}if(u1(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=K0(t,"height");r!==void 0&&(t.height=r)}return t}const dk=CH?{passive:!0}:!1;function Tj(t,e,n){t&&t.addEventListener(e,n,dk)}function Aj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,dk)}function Pj(t,e){const n=Sj[t.type]||t.type,{x:i,y:s}=jo(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Rh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Mj(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Rh(a.addedNodes,i),o=o&&!Rh(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Ij(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Rh(a.removedNodes,i),o=o&&!Rh(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const mu=new Map;let d1=0;function hk(){const t=window.devicePixelRatio;t!==d1&&(d1=t,mu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Dj(t,e){mu.size||window.addEventListener("resize",hk),mu.set(t,e)}function Rj(t){mu.delete(t),mu.size||window.removeEventListener("resize",hk)}function $j(t,e,n){const i=t.canvas,s=i&&ov(i);if(!s)return;const r=BS((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),Dj(t,r),o}function np(t,e,n){n&&n.disconnect(),e==="resize"&&Rj(t)}function Lj(t,e,n){const i=t.canvas,s=BS(r=>{t.ctx!==null&&n(Pj(r,t))},t);return Tj(i,e,s),s}class Oj extends uk{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(kj(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[dh])return!1;const i=n[dh].initial;["height","width"].forEach(r=>{const o=i[r];gt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[dh],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:Mj,detach:Ij,resize:$j}[n]||Lj;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:np,detach:np,resize:np}[n]||Aj)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return EH(e,n,i,s)}isAttached(e){const n=e&&ov(e);return!!(n&&n.isConnected)}}function Nj(t){return!rv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Cj:Oj}let xr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Il(this.x)&&Il(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}};function Fj(t,e){const n=t.options.ticks,i=Bj(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?Wj(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return zj(e,c,r,o/s),c;const u=Vj(r,e,s);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(Ld(e,c,u,gt(g)?0:a-g,a),d=0,f=o-1;d<f;d++)Ld(e,c,u,r[d],r[d+1]);return Ld(e,c,u,l,gt(g)?e.length:l+g),c}return Ld(e,c,u),c}function Bj(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function Vj(t,e,n){const i=Yj(t),s=e.length/n;if(!i)return Math.max(s,1);const r=TY(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function Wj(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function zj(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Ld(t,e,n,i,s){const r=it(i,0),o=Math.min(it(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function Yj(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Hj=t=>t==="left"?"right":t==="right"?"left":t,h1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,f1=(t,e)=>Math.min(e||t,t);function g1(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function jj(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function Kj(t,e){Tt(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function pc(t){return t.drawTicks?t.tickLength:0}function p1(t,e){if(!t.display)return 0;const n=En(t.font,e),i=Zn(t.padding);return(Yt(t.text)?t.text.length:1)*n.lineHeight+i.height}function Uj(t,e){return wo(t,{scale:e,type:"scale"})}function Gj(t,e,n){return wo(t,{tick:n,index:e,type:"tick"})}function Xj(t,e,n){let i=Q_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Hj(i)),i}function qj(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,p;const m=o-s,v=a-r;if(t.isHorizontal()){if(g=Yn(i,r,a),ut(n)){const y=Object.keys(n)[0],x=n[y];p=u[y].getPixelForValue(x)+m-e}else n==="center"?p=(c.bottom+c.top)/2+m-e:p=h1(t,n,e);f=a-r}else{if(ut(n)){const y=Object.keys(n)[0],x=n[y];g=u[y].getPixelForValue(x)-v+e}else n==="center"?g=(c.left+c.right)/2-v+e:g=h1(t,n,e);p=Yn(i,o,s),d=n==="left"?-dn:dn}return{titleX:g,titleY:p,maxWidth:f,rotation:d}}class ba extends xr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Si(e,Number.POSITIVE_INFINITY),n=Si(n,Number.NEGATIVE_INFINITY),i=Si(i,Number.POSITIVE_INFINITY),s=Si(s,Number.NEGATIVE_INFINITY),{min:Si(e,i),max:Si(n,s),minDefined:nn(e),maxDefined:nn(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Si(n,Si(i,n)),max:Si(i,Si(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$t(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tH(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?g1(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Fj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$t(this.options.afterUpdate,[this])}beforeSetDimensions(){$t(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$t(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),$t(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$t(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=$t(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){$t(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$t(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=f1(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=Dn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),d+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-pc(e.grid)-n.padding-p1(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=Z_(Math.min(Math.asin(Dn((u.highest.height+6)/a,-1,1)),Math.asin(Dn(l/c,-1,1))-Math.asin(Dn(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){$t(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$t(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=p1(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=pc(r)+l):(e.height=this.maxHeight,e.width=pc(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=i.padding*2,p=ls(this.labelRotation),m=Math.cos(p),v=Math.sin(p);if(a){const y=i.mirror?0:v*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+y+g)}else{const y=i.mirror?0:m*d.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+y+g)}this._calculatePadding(c,u,v,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=s*e.width,g=i*n.height):(f=i*e.height,g=s*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$t(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)gt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=g1(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/f1(n,i));let c=0,u=0,d,f,g,p,m,v,y,x,E,w,b;for(d=0;d<n;d+=l){if(p=e[d].label,m=this._resolveTickFontOptions(d),s.font=v=m.string,y=r[v]=r[v]||{data:{},gc:[]},x=m.lineHeight,E=w=0,!gt(p)&&!Yt(p))E=Ih(s,y.data,y.gc,E,p),w=x;else if(Yt(p))for(f=0,g=p.length;f<g;++f)b=p[f],!gt(b)&&!Yt(b)&&(E=Ih(s,y.data,y.gc,E,b),w+=x);o.push(E),a.push(w),c=Math.max(E,c),u=Math.max(w,u)}Kj(r,n);const C=o.indexOf(c),k=a.indexOf(u),T=A=>({width:o[A]||0,height:a[A]||0});return{first:T(0),last:T(n-1),widest:T(C),highest:T(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return MY(this._alignToPixels?No(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Gj(this.getContext(),e,i))}return this.$context||(this.$context=Uj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ls(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=pc(r),g=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,v=m/2,y=function(R){return No(i,R,m)};let x,E,w,b,C,k,T,A,I,V,Y,ne;if(o==="top")x=y(this.bottom),k=this.bottom-f,A=x-v,V=y(e.top)+v,ne=e.bottom;else if(o==="bottom")x=y(this.top),V=e.top,ne=y(e.bottom)-v,k=x+v,A=this.top+f;else if(o==="left")x=y(this.right),C=this.right-f,T=x-v,I=y(e.left)+v,Y=e.right;else if(o==="right")x=y(this.left),I=e.left,Y=y(e.right)-v,C=x+v,T=this.left+f;else if(n==="x"){if(o==="center")x=y((e.top+e.bottom)/2+.5);else if(ut(o)){const R=Object.keys(o)[0],W=o[R];x=y(this.chart.scales[R].getPixelForValue(W))}V=e.top,ne=e.bottom,k=x+v,A=k+f}else if(n==="y"){if(o==="center")x=y((e.left+e.right)/2);else if(ut(o)){const R=Object.keys(o)[0],W=o[R];x=y(this.chart.scales[R].getPixelForValue(W))}C=x-v,T=C-f,I=e.left,Y=e.right}const N=it(s.ticks.maxTicksLimit,d),B=Math.max(1,Math.ceil(d/N));for(E=0;E<d;E+=B){const R=this.getContext(E),W=r.setContext(R),X=a.setContext(R),J=W.lineWidth,H=W.color,ce=X.dash||[],ie=X.dashOffset,te=W.tickWidth,D=W.tickColor,ee=W.tickBorderDash||[],ue=W.tickBorderDashOffset;w=jj(this,E,l),w!==void 0&&(b=No(i,w,J),c?C=T=I=Y=b:k=A=V=ne=b,g.push({tx1:C,ty1:k,tx2:T,ty2:A,x1:I,y1:V,x2:Y,y2:ne,width:J,color:H,borderDash:ce,borderDashOffset:ie,tickWidth:te,tickColor:D,tickBorderDash:ee,tickBorderDashOffset:ue}))}return this._ticksLength=d,this._borderValue=x,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,f=pc(i.grid),g=f+u,p=d?-u:g,m=-ls(this.labelRotation),v=[];let y,x,E,w,b,C,k,T,A,I,V,Y,ne="middle";if(s==="top")C=this.bottom-p,k=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+p,k=this._getXAxisLabelAlignment();else if(s==="left"){const B=this._getYAxisLabelAlignment(f);k=B.textAlign,b=B.x}else if(s==="right"){const B=this._getYAxisLabelAlignment(f);k=B.textAlign,b=B.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+g;else if(ut(s)){const B=Object.keys(s)[0],R=s[B];C=this.chart.scales[B].getPixelForValue(R)+g}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")b=(e.left+e.right)/2-g;else if(ut(s)){const B=Object.keys(s)[0],R=s[B];b=this.chart.scales[B].getPixelForValue(R)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?ne="top":l==="end"&&(ne="bottom"));const N=this._getLabelSizes();for(y=0,x=a.length;y<x;++y){E=a[y],w=E.label;const B=r.setContext(this.getContext(y));T=this.getPixelForTick(y)+r.labelOffset,A=this._resolveTickFontOptions(y),I=A.lineHeight,V=Yt(w)?w.length:1;const R=V/2,W=B.color,X=B.textStrokeColor,J=B.textStrokeWidth;let H=k;o?(b=T,k==="inner"&&(y===x-1?H=this.options.reverse?"left":"right":y===0?H=this.options.reverse?"right":"left":H="center"),s==="top"?c==="near"||m!==0?Y=-V*I+I/2:c==="center"?Y=-N.highest.height/2-R*I+I:Y=-N.highest.height+I/2:c==="near"||m!==0?Y=I/2:c==="center"?Y=N.highest.height/2-R*I:Y=N.highest.height-V*I,d&&(Y*=-1),m!==0&&!B.showLabelBackdrop&&(b+=I/2*Math.sin(m))):(C=T,Y=(1-V)*I/2);let ce;if(B.showLabelBackdrop){const ie=Zn(B.backdropPadding),te=N.heights[y],D=N.widths[y];let ee=Y-ie.top,ue=0-ie.left;switch(ne){case"middle":ee-=te/2;break;case"bottom":ee-=te;break}switch(k){case"center":ue-=D/2;break;case"right":ue-=D;break;case"inner":y===x-1?ue-=D:y>0&&(ue-=D/2);break}ce={left:ue,top:ee,width:D+ie.width,height:te+ie.height,color:B.backdropColor}}v.push({label:w,font:A,textOffset:Y,options:{rotation:m,color:W,strokeColor:X,strokeWidth:J,textAlign:H,textBaseline:ne,translation:[b,C],backdrop:ce}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ls(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=No(e,this.left,o)-o/2,u=No(e,this.right,a)+a/2,d=f=l):(d=No(e,this.top,o)-o/2,f=No(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Pf(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ga(i,c,0,u,l,a)}s&&Mf(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=En(i.font),o=Zn(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ut(n)?(l+=o.bottom,Yt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=qj(this,l,n,a);ga(e,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:f,textAlign:Xj(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=it(e.grid&&e.grid.z,-1),s=it(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ba.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return En(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Od{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Qj(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,Zj(e,o,i),this.override&&sn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in sn[s]&&(delete sn[s][i],this.override&&delete fa[i])}}function Zj(t,e,n){const i=hu(Object.create(null),[n?sn.get(n):{},sn.get(e),t.defaults]);sn.set(e,i),t.defaultRoutes&&Jj(e,t.defaultRoutes),t.descriptors&&sn.describe(e,t.descriptors)}function Jj(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");sn.route(r,s,l,a)})}function Qj(t){return"id"in t&&"defaults"in t}class eK{constructor(){this.controllers=new Od(xo,"datasets",!0),this.elements=new Od(xr,"elements"),this.plugins=new Od(Object,"plugins"),this.scales=new Od(ba,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Tt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=q_(e);$t(i["before"+s],[],i),n[e](i),$t(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var xs=new eK;class tK{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if($t(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=it(i.options&&i.options.plugins,{}),r=nK(i);return s===!1&&!n?[]:sK(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function nK(t){const e={},n=[],i=Object.keys(xs.plugins.items);for(let r=0;r<i.length;r++)n.push(xs.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function iK(t,e){return!e&&t===!1?null:t===!0?{}:t}function sK(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=iK(i[l],s);c!==null&&r.push({plugin:a,options:rK(t.config,{plugin:a,local:n[l]},c,o)})}return r}function rK(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hm(t,e){const n=sn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function oK(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function aK(t,e){return t===e?"_index_":"_value_"}function m1(t){if(t==="x"||t==="y"||t==="r")return t}function lK(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function fm(t,...e){if(m1(t))return t;for(const n of e){const i=n.axis||lK(n.position)||t.length>1&&m1(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function _1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function cK(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return _1(t,"x",n[0])||_1(t,"y",n[0])}return{}}function uK(t,e){const n=fa[t.type]||{scales:{}},i=e.scales||{},s=hm(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ut(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=fm(o,a,cK(o,t),sn.scales[a.type]),c=aK(l,s),u=n.scales||{};r[o]=Kc(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||hm(a,e),u=(fa[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=oK(d,l),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),Kc(r[g],[{axis:f},i[g],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Kc(a,[sn.scales[a.type],sn.scale])}),r}function fk(t){const e=t.options||(t.options={});e.plugins=it(e.plugins,{}),e.scales=uK(t,e)}function gk(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function dK(t){return t=t||{},t.data=gk(t.data),fk(t),t}const v1=new Map,pk=new Set;function Nd(t,e){let n=v1.get(t);return n||(n=e(),v1.set(t,n),pk.add(n)),n}const mc=(t,e,n)=>{const i=lo(e,n);i!==void 0&&t.add(i)};let hK=class{constructor(e){this._config=dK(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Nd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Nd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Nd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Nd(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>mc(l,e,d))),u.forEach(d=>mc(l,s,d)),u.forEach(d=>mc(l,fa[r]||{},d)),u.forEach(d=>mc(l,sn,d)),u.forEach(d=>mc(l,um,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),pk.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,fa[n]||{},sn.datasets[n]||{},{type:n},sn,um]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=y1(this._resolverCache,e,s);let l=o;if(gK(o,n)){r.$shared=!1,i=co(i)?i():i;const c=this.createResolver(e,i,a);l=Dl(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=y1(this._resolverCache,e,i);return ut(n)?Dl(r,n,void 0,s):r}};function y1(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:nv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const fK=t=>ut(t)&&Object.getOwnPropertyNames(t).some(e=>co(t[e]));function gK(t,e){const{isScriptable:n,isIndexable:i}=jS(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(co(a)||fK(a))||o&&Yt(a))return!0}return!1}var pK="4.4.4";const mK=["top","bottom","left","right","chartArea"];function b1(t,e){return t==="top"||t==="bottom"||mK.indexOf(t)===-1&&e==="x"}function w1(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function x1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),$t(n&&n.onComplete,[t],e)}function _K(t){const e=t.chart,n=e.options.animation;$t(n&&n.onProgress,[t],e)}function mk(t){return rv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hh={},E1=t=>{const e=mk(t);return Object.values(hh).filter(n=>n.canvas===e).pop()};function vK(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function yK(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Fd(t,e,n){return t.options.clip?t[n]:e[n]}function bK(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Fd(n,e,"left"),right:Fd(n,e,"right"),top:Fd(i,e,"top"),bottom:Fd(i,e,"bottom")}:e}let Df=class{static defaults=sn;static instances=hh;static overrides=fa;static registry=xs;static version=pK;static getChart=E1;static register(...e){xs.add(...e),C1()}static unregister(...e){xs.remove(...e),C1()}constructor(e,n){const i=this.config=new hK(n),s=mk(e),r=E1(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Nj(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=vY(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tK,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$Y(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],hh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zs.listen(this,"complete",x1),Zs.listen(this,"progress",_K),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return gt(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():j0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return z0(this.canvas,this.ctx),this}stop(){return Zs.stop(this),this}resize(e,n){Zs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,j0(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),$t(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Tt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=fm(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Tt(r,o=>{const a=o.options,l=a.id,c=fm(l,a),u=it(a.type,o.dtype);(a.position===void 0||b1(a.position,c)!==b1(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=xs.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),Tt(s,(o,a)=>{o||delete i[a]}),Tt(i,o=>{Wi.configure(this,o,o.options),Wi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(w1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||hm(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=xs.getController(a),{datasetElementType:c,dataElementType:u}=sn.datasets[a];Object.assign(l,{dataElementType:xs.getElement(u),datasetElementType:c&&xs.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Tt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Tt(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(w1("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Tt(this.scales,e=>{Wi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!R0(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;vK(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!R0(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wi.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Tt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,co(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zs.has(this)?this.attached&&!Zs.running(this)&&Zs.start(this):(this.draw(),x1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=bK(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Pf(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&Mf(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ur(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=mj.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);fu(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Zs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),z0(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Tt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Tt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Tt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Ah(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=CY(e),c=yK(e,this._lastEvent,i,l);i&&(this._lastEvent=null,$t(r.onHover,[e,a,this],this),l&&$t(r.onClick,[e,a,this],this));const u=!Ah(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}};function C1(){return Tt(Df.instances,t=>t._plugins.invalidate())}function wK(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+dn,i-dn),t.closePath(),t.clip()}function xK(t){return tv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function EK(t,e,n,i){const s=xK(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return Dn(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Dn(s.innerStart,0,o),innerEnd:Dn(s.innerEnd,0,o)}}function Na(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function $h(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let g=0;const p=s-l;if(i){const B=u>0?u-i:0,R=d>0?d-i:0,W=(B+R)/2,X=W!==0?p*W/(W+i):p;g=(p-X)/2}const m=Math.max(.001,p*d-n/Bt)/d,v=(p-m)/2,y=l+v+g,x=s-v-g,{outerStart:E,outerEnd:w,innerStart:b,innerEnd:C}=EK(e,f,d,x-y),k=d-E,T=d-w,A=y+E/k,I=x-w/T,V=f+b,Y=f+C,ne=y+b/V,N=x-C/Y;if(t.beginPath(),r){const B=(A+I)/2;if(t.arc(o,a,d,A,B),t.arc(o,a,d,B,I),w>0){const J=Na(T,I,o,a);t.arc(J.x,J.y,w,I,x+dn)}const R=Na(Y,x,o,a);if(t.lineTo(R.x,R.y),C>0){const J=Na(Y,N,o,a);t.arc(J.x,J.y,C,x+dn,N+Math.PI)}const W=(x-C/f+(y+b/f))/2;if(t.arc(o,a,f,x-C/f,W,!0),t.arc(o,a,f,W,y+b/f,!0),b>0){const J=Na(V,ne,o,a);t.arc(J.x,J.y,b,ne+Math.PI,y-dn)}const X=Na(k,y,o,a);if(t.lineTo(X.x,X.y),E>0){const J=Na(k,A,o,a);t.arc(J.x,J.y,E,y-dn,A)}}else{t.moveTo(o,a);const B=Math.cos(A)*d+o,R=Math.sin(A)*d+a;t.lineTo(B,R);const W=Math.cos(I)*d+o,X=Math.sin(I)*d+a;t.lineTo(W,X)}t.closePath()}function CK(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){$h(t,e,n,i,l,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%Ft||Ft))}return $h(t,e,n,i,l,s),t.fill(),l}function SK(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(r){$h(t,e,n,i,p,s);for(let m=0;m<r;++m)t.stroke();isNaN(a)||(p=o+(a%Ft||Ft))}g&&wK(t,e,p),r||($h(t,e,n,i,p,s),t.stroke())}class kK extends xr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=LS(s,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=it(d,l-a),p=gu(r,a,l)&&a!==l,m=g>=Ft||p,v=lr(o,c+f,u+f);return m&&v}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(s+r)/2,d=(o+a+c+l)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ft?Math.floor(i/Ft):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*s,Math.sin(a)*s);const l=1-Math.sin(Math.min(Bt,i||0)),c=s*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,CK(e,this,c,r,o),SK(e,this,c,r,o),e.restore()}}function _k(t,e,n=e){t.lineCap=it(n.borderCapStyle,e.borderCapStyle),t.setLineDash(it(n.borderDash,e.borderDash)),t.lineDashOffset=it(n.borderDashOffset,e.borderDashOffset),t.lineJoin=it(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=it(n.borderWidth,e.borderWidth),t.strokeStyle=it(n.borderColor,e.borderColor)}function TK(t,e,n){t.lineTo(n.x,n.y)}function AK(t){return t.stepped?KY:t.tension||t.cubicInterpolationMode==="monotone"?UY:TK}function vk(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function PK(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=vk(s,n,i),u=AK(r);let{move:d=!0,reverse:f}=i||{},g,p,m;for(g=0;g<=c;++g)p=s[(a+(f?c-g:g))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,f,r.stepped),m=p);return l&&(p=s[(a+(f?c:0))%o],u(t,m,p,f,r.stepped)),!!l}function MK(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=vk(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,g,p,m,v,y;const x=w=>(o+(c?a-w:w))%r,E=()=>{m!==v&&(t.lineTo(u,v),t.lineTo(u,m),t.lineTo(u,y))};for(l&&(g=s[x(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=s[x(f)],g.skip)continue;const w=g.x,b=g.y,C=w|0;C===p?(b<m?m=b:b>v&&(v=b),u=(d*u+w)/++d):(E(),t.lineTo(w,b),p=C,d=0,m=v=b),y=b}E()}function gm(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?MK:PK}function IK(t){return t.stepped?SH:t.tension||t.cubicInterpolationMode==="monotone"?kH:Ko}function DK(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),_k(t,e.options),t.stroke(s)}function RK(t,e,n,i){const{segments:s,options:r}=e,o=gm(e);for(const a of s)_k(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const $K=typeof Path2D=="function";function LK(t,e,n,i){$K&&!e.options.segment?DK(t,e,n,i):RK(t,e,n,i)}class Rf extends xr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;_H(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=DH(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=tk(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=IK(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],g=r[d],p=r[f];if(g===p){a.push(g);continue}const m=Math.abs((s-g[n])/(p[n]-g[n])),v=l(g,p,m,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return gm(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=gm(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),LK(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function S1(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class OK extends xr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return S1(this,e,"x",n)}inYRange(e,n){return S1(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!ur(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,dm(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function yk(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-d,u=i+d):(d=r/2,a=n-d,l=n+d,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Xr(t,e,n,i){return t?0:Dn(e,n,i)}function NK(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=HS(i);return{t:Xr(s.top,r.top,0,n),r:Xr(s.right,r.right,0,e),b:Xr(s.bottom,r.bottom,0,n),l:Xr(s.left,r.left,0,e)}}function FK(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=ra(s),o=Math.min(e,n),a=t.borderSkipped,l=i||ut(s);return{topLeft:Xr(!l||a.top||a.left,r.topLeft,0,o),topRight:Xr(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Xr(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Xr(!l||a.bottom||a.right,r.bottomRight,0,o)}}function BK(t){const e=yk(t),n=e.right-e.left,i=e.bottom-e.top,s=NK(t,n/2,i/2),r=FK(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function ip(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&yk(t,i);return a&&(s||lr(e,a.left,a.right))&&(r||lr(n,a.top,a.bottom))}function VK(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function WK(t,e){t.rect(e.x,e.y,e.w,e.h)}function sp(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class zK extends xr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=BK(this),a=VK(o.radius)?pu:WK;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,sp(o,n,r)),e.clip(),a(e,sp(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,sp(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return ip(this,e,n,i)}inXRange(e,n){return ip(this,e,null,n)}inYRange(e,n){return ip(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function YK(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,d,f,g,p,m;for(o[l++]=t[u],d=0;d<r-2;d++){let v=0,y=0,x;const E=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,n)+e,b=w-E;for(x=E;x<w;x++)v+=t[x].x,y+=t[x].y;v/=b,y/=b;const C=Math.floor(d*a)+1+e,k=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:T,y:A}=t[u];for(g=p=-1,x=C;x<k;x++)p=.5*Math.abs((T-v)*(t[x].y-A)-(T-t[x].x)*(y-A)),p>g&&(g=p,f=t[x],m=x);o[l++]=f,u=m}return o[l++]=t[c],o}function HK(t,e,n,i){let s=0,r=0,o,a,l,c,u,d,f,g,p,m;const v=[],y=e+n-1,x=t[e].x,w=t[y].x-x;for(o=e;o<e+n;++o){a=t[o],l=(a.x-x)/w*i,c=a.y;const b=l|0;if(b===u)c<p?(p=c,d=o):c>m&&(m=c,f=o),s=(r*s+a.x)/++r;else{const C=o-1;if(!gt(d)&&!gt(f)){const k=Math.min(d,f),T=Math.max(d,f);k!==g&&k!==C&&v.push({...t[k],x:s}),T!==g&&T!==C&&v.push({...t[T],x:s})}o>0&&C!==g&&v.push(t[C]),v.push(a),u=b,r=0,p=m=c,d=f=g=o}}return v}function bk(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function k1(t){t.data.datasets.forEach(e=>{bk(e)})}function jK(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Dn(cr(e,r.axis,o).lo,0,n-1)),c?s=Dn(cr(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var KK={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){k1(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(Cc([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:f}=jK(l,c);const g=n.threshold||4*i;if(f<=g){bk(s);return}gt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(n.algorithm){case"lttb":p=YK(c,d,f,i,n);break;case"min-max":p=HK(c,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){k1(t)}};function UK(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=lv(l,c,s);const u=pm(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const d=tk(e,u);for(const f of d){const g=pm(n,r[f.start],r[f.end],f.loop),p=ek(a,s,g);for(const m of p)o.push({source:m,target:f,start:{[n]:T1(u,g,"start",Math.max)},end:{[n]:T1(u,g,"end",Math.min)}})}}return o}function pm(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=ki(s),r=ki(r)),{property:t,start:s,end:r}}function GK(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=lv(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function lv(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function T1(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function wk(t,e){let n=[],i=!1;return Yt(t)?(i=!0,n=t):n=GK(t,e),n.length?new Rf({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function A1(t){return t&&t.fill!==!1}function XK(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!nn(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function qK(t,e,n){const i=eU(t);if(ut(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return nn(s)&&Math.floor(s)===s?ZK(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ZK(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function JK(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ut(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function QK(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ut(t)?i=t.value:i=e.getBaseValue(),i}function eU(t){const e=t.options,n=e.fill;let i=it(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function tU(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=nU(e,n);a.push(wk({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)iU(s,o[u],a)}return new Rf({points:s,options:{}})}function nU(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function iU(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=sU(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function sU(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],d=o[u.start][n],f=o[u.end][n];if(lr(s,d,f)){a=s===d,l=s===f;break}}return{first:a,last:l,point:i}}class xk{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Ft},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function rU(t){const{chart:e,fill:n,line:i}=t;if(nn(n))return oU(e,n);if(n==="stack")return tU(t);if(n==="shape")return!0;const s=aU(t);return s instanceof xk?s:wk(s,i)}function oU(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function aU(t){return(t.scale||{}).getPointPositionForValue?cU(t):lU(t)}function lU(t){const{scale:e={},fill:n}=t,i=JK(n,e);if(nn(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function cU(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=QK(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new xk({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function rp(t,e,n){const i=rU(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&s.points.length&&(Pf(t,n),uU(t,{line:s,target:i,above:u,below:d,area:n,scale:r,axis:o}),Mf(t))}function uU(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(P1(t,i,o.top),M1(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),P1(t,i,o.bottom)),M1(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function P1(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],d=s[lv(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function M1(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=UK(n,i,s);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=r}={}}=l,g=i!==!0;t.save(),t.fillStyle=f,dU(t,o,g&&pm(s,u,d)),t.beginPath();const p=!!n.pathSegment(t,l);let m;if(g){p?t.closePath():I1(t,i,d,s);const v=!!i.pathSegment(t,c,{move:p,reverse:!0});m=p&&v,m||I1(t,i,u,s)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function dU(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function I1(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var hU={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Rf&&(l={visible:t.isDatasetVisible(o),index:o,fill:qK(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=XK(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&rp(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;A1(r)&&rp(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!A1(i)||n.drawTime!=="beforeDatasetDraw"||rp(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const D1=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},fU=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class R1 extends xr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=$t(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=En(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=D1(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((p,m)=>{const v=i+n/2+r.measureText(p.text).width;(m===0||c[c.length-1]+v+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,g+=u,f++),l[m]={left:0,top:g,row:f,width:v,height:s},c[c.length-1]+=v+a}),d}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,g=0,p=0,m=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:x,itemHeight:E}=gU(i,n,r,v,s);y>0&&g+E+2*a>u&&(d+=f+a,c.push({width:f,height:g}),p+=f+a,m++,f=g=0),l[y]={left:p,top:g,col:m,width:x,height:E},f=Math.max(f,x),g+=E+a}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=ul(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Yn(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Yn(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Yn(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Yn(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Pf(e,this),this._draw(),Mf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=sn.color,l=ul(e.rtl,this.left,this.width),c=En(o.font),{padding:u}=o,d=c.size,f=d/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:v}=D1(o,d),y=function(C,k,T){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;s.save();const A=it(T.lineWidth,1);if(s.fillStyle=it(T.fillStyle,a),s.lineCap=it(T.lineCap,"butt"),s.lineDashOffset=it(T.lineDashOffset,0),s.lineJoin=it(T.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=it(T.strokeStyle,a),s.setLineDash(it(T.lineDash,[])),o.usePointStyle){const I={radius:m*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:A},V=l.xPlus(C,p/2),Y=k+f;YS(s,I,V,Y,o.pointStyleWidth&&p)}else{const I=k+Math.max((d-m)/2,0),V=l.leftForLtr(C,p),Y=ra(T.borderRadius);s.beginPath(),Object.values(Y).some(ne=>ne!==0)?pu(s,{x:V,y:I,w:p,h:m,radius:Y}):s.rect(V,I,p,m),s.fill(),A!==0&&s.stroke()}s.restore()},x=function(C,k,T){ga(s,T.text,C,k+v/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},E=this.isHorizontal(),w=this._computeTitleHeight();E?g={x:Yn(r,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:g={x:this.left+u,y:Yn(r,this.top+w+u,this.bottom-n[0].height),line:0},ZS(this.ctx,e.textDirection);const b=v+u;this.legendItems.forEach((C,k)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const T=s.measureText(C.text).width,A=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),I=p+f+T;let V=g.x,Y=g.y;l.setWidth(this.width),E?k>0&&V+I+u>this.right&&(Y=g.y+=b,g.line++,V=g.x=Yn(r,this.left+u,this.right-i[g.line])):k>0&&Y+b>this.bottom&&(V=g.x=V+n[g.line].width+u,g.line++,Y=g.y=Yn(r,this.top+w+u,this.bottom-n[g.line].height));const ne=l.x(V);if(y(ne,Y,C),V=LY(A,V+p+f,E?V+I:this.right,e.rtl),x(l.x(V),Y,C),E)g.x+=I+u;else if(typeof C.text!="string"){const N=c.lineHeight;g.y+=Ek(C,N)+u}else g.y+=b}),JS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=En(n.font),s=Zn(n.padding);if(!n.display)return;const r=ul(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Yn(e.align,d,this.right-f);else{const p=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);u=c+Yn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=Yn(a,d,d+f);o.textAlign=r.textAlign(Q_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,ga(o,n.text,g,u,i)}_computeTitleHeight(){const e=this.options.title,n=En(e.font),i=Zn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(lr(e,this.left,this.right)&&lr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],lr(e,s.left,s.left+s.width)&&lr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!_U(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=fU(s,i);s&&!r&&$t(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&$t(n.onHover,[e,i,this],this)}else i&&$t(n.onClick,[e,i,this],this)}}function gU(t,e,n,i,s){const r=pU(i,t,e,n),o=mU(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function pU(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function mU(t,e,n){let i=t;return typeof e.text!="string"&&(i=Ek(e,n)),i}function Ek(t,e){const n=t.text?t.text.length:0;return e*n}function _U(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var vU={id:"legend",_element:R1,start(t,e,n){const i=t.legend=new R1({ctx:t.ctx,options:n,chart:t});Wi.configure(t,i,n),Wi.addBox(t,i)},stop(t){Wi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Wi.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Zn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ck extends xr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Yt(i.text)?i.text.length:1;this._padding=Zn(i.padding);const r=s*En(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Yn(a,i,r),d=n+e,c=r-i):(o.position==="left"?(u=i+e,d=Yn(a,s,n),l=Bt*-.5):(u=r-e,d=Yn(a,n,s),l=Bt*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=En(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);ga(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Q_(n.align),textBaseline:"middle",translation:[o,a]})}}function yU(t,e){const n=new Ck({ctx:t.ctx,options:e,chart:t});Wi.configure(t,n,e),Wi.addBox(t,n),t.titleBlock=n}var bU={id:"title",_element:Ck,start(t,e,n){yU(t,n)},stop(t){const e=t.titleBlock;Wi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Wi.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kc={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=cm(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function bs(t,e){return e&&(Yt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Js(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function wU(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function $1(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=En(e.bodyFont),c=En(e.titleFont),u=En(e.footerFont),d=r.length,f=s.length,g=i.length,p=Zn(e.padding);let m=p.height,v=0,y=i.reduce((w,b)=>w+b.before.length+b.lines.length+b.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=g*w+(y-g)*l.lineHeight+(y-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const E=function(w){v=Math.max(v,n.measureText(w).width+x)};return n.save(),n.font=c.string,Tt(t.title,E),n.font=l.string,Tt(t.beforeBody.concat(t.afterBody),E),x=e.displayColors?o+2+e.boxPadding:0,Tt(i,w=>{Tt(w.before,E),Tt(w.lines,E),Tt(w.after,E)}),x=0,n.font=u.string,Tt(t.footer,E),n.restore(),v+=p.width,{width:v,height:m}}function xU(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function EU(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function CU(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),EU(c,t,e,n)&&(c="center"),c}function L1(t,e,n){const i=n.yAlign||e.yAlign||xU(t,n);return{xAlign:n.xAlign||e.xAlign||CU(t,e,n,i),yAlign:i}}function SU(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function kU(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function O1(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=ra(o);let p=SU(e,a);const m=kU(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+s:a==="right"&&(p+=Math.max(d,g)+s),{x:Dn(p,0,i.width-e.width),y:Dn(m,0,i.height-e.height)}}function Bd(t,e,n){const i=Zn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function N1(t){return bs([],Js(t))}function TU(t,e,n){return wo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function F1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Sk={beforeTitle:Us,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Us,beforeBody:Us,beforeLabel:Us,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return gt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Us,afterBody:Us,beforeFooter:Us,footer:Us,afterFooter:Us};function hi(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?Sk[e].call(n,i):s}class B1 extends xr{static positioners=kc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new nk(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=TU(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=hi(i,"beforeTitle",this,e),r=hi(i,"title",this,e),o=hi(i,"afterTitle",this,e);let a=[];return a=bs(a,Js(s)),a=bs(a,Js(r)),a=bs(a,Js(o)),a}getBeforeBody(e,n){return N1(hi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Tt(e,r=>{const o={before:[],lines:[],after:[]},a=F1(i,r);bs(o.before,Js(hi(a,"beforeLabel",this,r))),bs(o.lines,hi(a,"label",this,r)),bs(o.after,Js(hi(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return N1(hi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=hi(i,"beforeFooter",this,e),r=hi(i,"footer",this,e),o=hi(i,"afterFooter",this,e);let a=[];return a=bs(a,Js(s)),a=bs(a,Js(r)),a=bs(a,Js(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(wU(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),Tt(a,u=>{const d=F1(e.callbacks,u);s.push(hi(d,"labelColor",this,u)),r.push(hi(d,"labelPointStyle",this,u)),o.push(hi(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=kc[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=$1(this,i),c=Object.assign({},a,l),u=L1(this.chart,i,c),d=O1(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ra(a),{x:f,y:g}=e,{width:p,height:m}=n;let v,y,x,E,w,b;return r==="center"?(w=g+m/2,s==="left"?(v=f,y=v-o,E=w+o,b=w-o):(v=f+p,y=v+o,E=w-o,b=w+o),x=v):(s==="left"?y=f+Math.max(l,u)+o:s==="right"?y=f+p-Math.max(c,d)-o:y=this.caretX,r==="top"?(E=g,w=E-o,v=y-o,x=y+o):(E=g+m,w=E+o,v=y+o,x=y-o),b=E),{x1:v,x2:y,x3:x,y1:E,y2:w,y3:b}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=ul(i.rtl,this.x,this.width);for(e.x=Bd(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=En(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=En(r.bodyFont),d=Bd(this,"left",r),f=s.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+g;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(f,c)+c/2,y=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,dm(e,m,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,dm(e,m,v,y)}else{e.lineWidth=ut(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=s.leftForLtr(f,c),v=s.leftForLtr(s.xPlus(f,1),c-2),y=ra(o.borderRadius);Object.values(y).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,pu(e,{x:m,y:p,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),pu(e,{x:v,y:p+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=En(i.bodyFont);let f=d.lineHeight,g=0;const p=ul(i.rtl,this.x,this.width),m=function(T){n.fillText(T,p.x(e.x+g),e.y+f/2),e.y+=f+r},v=p.textAlign(o);let y,x,E,w,b,C,k;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Bd(this,v,i),n.fillStyle=i.bodyColor,Tt(this.beforeBody,m),g=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,C=s.length;w<C;++w){for(y=s[w],x=this.labelTextColors[w],n.fillStyle=x,Tt(y.before,m),E=y.lines,a&&E.length&&(this._drawColorBox(n,e,w,p,i),f=Math.max(d.lineHeight,l)),b=0,k=E.length;b<k;++b)m(E[b]),f=d.lineHeight;Tt(y.after,m)}g=0,f=d.lineHeight,Tt(this.afterBody,m),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=ul(i.rtl,this.x,this.width);for(e.x=Bd(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=En(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:p}=ra(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+g,l+u),n.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=kc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=$1(this,e),l=Object.assign({},o,this._size),c=L1(n,e,l),u=O1(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Zn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),ZS(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),JS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Ah(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!Ah(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=kc[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}var AU={id:"tooltip",_element:B1,positioners:kc,afterInit(t,e,n){n&&(t.tooltip=new B1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const PU=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function MU(t,e,n,i){const s=t.indexOf(e);if(s===-1)return PU(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const IU=(t,e)=>t===null?null:Dn(Math.round(t),0,e);function V1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class DU extends ba{static id="category";static defaults={ticks:{callback:V1}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(gt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:MU(i,e,it(n,e),this._addedLabels),IU(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return V1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function RU(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=r||1,p=u-1,{min:m,max:v}=e,y=!gt(o),x=!gt(a),E=!gt(c),w=(v-m)/(d+1);let b=L0((v-m)/p/g)*g,C,k,T,A;if(b<1e-14&&!y&&!x)return[{value:m},{value:v}];A=Math.ceil(v/b)-Math.floor(m/b),A>p&&(b=L0(A*b/p/g)*g),gt(l)||(C=Math.pow(10,l),b=Math.ceil(b*C)/C),s==="ticks"?(k=Math.floor(m/b)*b,T=Math.ceil(v/b)*b):(k=m,T=v),y&&x&&r&&AY((a-o)/r,b/1e3)?(A=Math.round(Math.min((a-o)/b,u)),b=(a-o)/A,k=o,T=a):E?(k=y?o:k,T=x?a:T,A=c-1,b=(T-k)/A):(A=(T-k)/b,Uc(A,Math.round(A),b/1e3)?A=Math.round(A):A=Math.ceil(A));const I=Math.max(O0(b),O0(k));C=Math.pow(10,gt(l)?I:l),k=Math.round(k*C)/C,T=Math.round(T*C)/C;let V=0;for(y&&(f&&k!==o?(n.push({value:o}),k<o&&V++,Uc(Math.round((k+V*b)*C)/C,o,W1(o,w,t))&&V++):k<o&&V++);V<A;++V){const Y=Math.round((k+V*b)*C)/C;if(x&&Y>a)break;n.push({value:Y})}return x&&f&&T!==a?n.length&&Uc(n[n.length-1].value,a,W1(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!x||T===a)&&n.push({value:T}),n}function W1(t,e,{horizontal:n,minRotation:i}){const s=ls(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Lh extends ba{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return gt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Os(s),c=Os(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=RU(s,r);return e.bounds==="ticks"&&$S(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Uu(e,this.chart.options.locale,this.options.ticks.format)}}class $U extends Lh{static id="linear";static defaults={ticks:{callback:Af.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=nn(e)?e:0,this.max=nn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ls(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const _u=t=>Math.floor(Gr(t)),Bo=(t,e)=>Math.pow(10,_u(t)+e);function z1(t){return t/Math.pow(10,_u(t))===1}function Y1(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function LU(t,e){const n=e-t;let i=_u(n);for(;Y1(t,e,i)>10;)i++;for(;Y1(t,e,i)<10;)i--;return Math.min(i,_u(t))}function OU(t,{min:e,max:n}){e=Si(t.min,e);const i=[],s=_u(e);let r=LU(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),f=Si(t.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:z1(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),f=Math.round((l+u+d*Math.pow(10,r))*o)/o;const g=Si(t.max,f);return i.push({value:g,major:z1(g),significand:d}),i}class NU extends ba{static id="logarithmic";static defaults={ticks:{callback:Af.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Lh.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return nn(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=nn(e)?Math.max(0,e):null,this.max=nn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!nn(this._userMin)&&(this.min=e===Bo(this.min,0)?Bo(this.min,-1):Bo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Bo(i,-1)),o(Bo(s,1)))),i<=0&&r(Bo(s,-1)),s<=0&&o(Bo(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=OU(n,this);return e.bounds==="ticks"&&$S(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Uu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Gr(e),this._valueRange=Gr(this.max)-Gr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Gr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function mm(t){const e=t.ticks;if(e.display&&t.display){const n=Zn(e.backdropPadding);return it(e.font&&e.font.size,sn.font.size)+n.height}return 0}function FU(t,e,n){return n=Yt(n)?n:[n],{w:jY(t,e.string,n),h:n.length*e.lineHeight}}function H1(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function BU(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Bt/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),d=En(c.font),f=FU(t.ctx,d,t._pointLabels[l]);i[l]=f;const g=ki(t.getIndexAngle(l)+a),p=Math.round(Z_(g)),m=H1(p,u.x,f.w,0,180),v=H1(p,u.y,f.h,90,270);VU(n,e,g,m,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=YU(t,i,s)}function VU(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function WU(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),c=Math.round(Z_(ki(l.angle+dn))),u=KU(l.y,a.h,c),d=HU(c),f=jU(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function zU(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(ur({x:n,y:i},e)||ur({x:n,y:r},e)||ur({x:s,y:i},e)||ur({x:s,y:r},e))}function YU(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:mm(r)/2,additionalAngle:o?Bt/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=e[u];const d=WU(t,u,l);i.push(d),a==="auto"&&(d.visible=zU(d,c),d.visible&&(c=d))}return i}function HU(t){return t===0||t===180?"center":t<180?"left":"right"}function jU(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function KU(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function UU(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!gt(a)){const l=ra(e.borderRadius),c=Zn(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=s-c.top,f=r-i+c.width,g=o-s+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),pu(t,{x:u,y:d,w:f,h:g,radius:l}),t.fill()):t.fillRect(u,d,f,g)}}function GU(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));UU(n,o,r);const a=En(o.font),{x:l,y:c,textAlign:u}=r;ga(n,t._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function kk(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Ft);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function XU(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),kk(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function qU(t,e,n){return wo(t,{label:n,index:e,type:"pointLabel"})}class ZU extends Lh{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Af.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Zn(mm(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=nn(e)&&!isNaN(e)?e:0,this.max=nn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mm(this.options))}generateTickLabels(e){Lh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=$t(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?BU(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=Ft/(this._pointLabels.length||1),i=this.options.startAngle||0;return ki(e*n+ls(i))}getDistanceFromCenterForValue(e){if(gt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(gt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return qU(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-dn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),kk(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&GU(this,o),s.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),g=s.setContext(f),p=r.setContext(f);XU(this,g,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=En(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Zn(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}ga(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const $f={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_i=Object.keys($f);function j1(t,e){return t-e}function K1(t,e){if(gt(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),nn(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Il(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function U1(t,e,n,i){const s=_i.length;for(let r=_i.indexOf(t);r<s-1;++r){const o=$f[_i[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return _i[r]}return _i[s-1]}function JU(t,e,n,i,s){for(let r=_i.length-1;r>=_i.indexOf(n);r--){const o=_i[r];if($f[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return _i[n?_i.indexOf(n):0]}function QU(t){for(let e=_i.indexOf(t)+1,n=_i.length;e<n;++e)if($f[_i[e]].common)return _i[e]}function G1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=J_(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function eG(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function X1(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:eG(t,i,s,n)}class _m extends ba{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new dj._date(e.adapters.date);s.init(n),Kc(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:K1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=nn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=nn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=DY(s,r,o);return this._unit=n.unit||(i.autoSkip?U1(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):JU(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:QU(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),X1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Dn(n,0,o),i=Dn(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||U1(r.minUnit,n,i,this._getLabelCapacity(n)),a=it(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Il(l)||l===!0,u={};let d=n,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<i;f=+e.add(f,a,o),g++)G1(u,f,p);return(f===i||s.bounds==="ticks"||g===1)&&G1(u,f,p),Object.keys(u).sort(j1).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return $t(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=i[n],g=c&&d&&f&&f.major;return this._adapter.format(e,s||(g?d:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=ls(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,X1(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(K1(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NS(e.sort(j1))}}function Vd(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=cr(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=cr(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class tG extends _m{static id="timeseries";static defaults=_m.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Vd(n,this.min),this._tableRange=Vd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Vd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Vd(this._table,i*this._tableRange+this._minPos,!0)}}const Tk={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},nG={ariaLabel:{type:String},ariaDescribedby:{type:String}},iG={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Tk,...nG},sG=ZE[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Fa(t){return Ou(t)?lt(t):t}function rG(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return Ou(e)?new Proxy(t,{}):t}function oG(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Ak(t,e){t.labels=e}function Pk(t,e,n){const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function aG(t,e){const n={labels:[],datasets:[]};return Ak(n,t.labels),Pk(n,t.datasets,e),n}const lG=fn({props:iG,setup(t,e){let{expose:n,slots:i}=e;const s=me(null),r=df(null);n({chart:r});const o=()=>{if(!s.value)return;const{type:c,data:u,options:d,plugins:f,datasetIdKey:g}=t,p=aG(u,g),m=rG(p,u);r.value=new Df(s.value,{type:c,data:m,options:{...d},plugins:f})},a=()=>{const c=lt(r.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},t.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(t.updateMode)};return Vt(o),_o(a),jt([()=>t.options,()=>t.data],(c,u)=>{let[d,f]=c,[g,p]=u;const m=lt(r.value);if(!m)return;let v=!1;if(d){const y=Fa(d),x=Fa(g);y&&y!==x&&(oG(m,y),v=!0)}if(f){const y=Fa(f.labels),x=Fa(p.labels),E=Fa(f.datasets),w=Fa(p.datasets);y!==x&&(Ak(m.config.data,y),v=!0),E&&E!==w&&(Pk(m.config.data,E,t.datasetIdKey),v=!0)}v&&Rn(()=>{l(m)})},{deep:!0}),()=>ha("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:s},[ha("p",{},[i.default?i.default():""])])}});function Mk(t,e){return Df.register(e),fn({props:Tk,setup(n,i){let{expose:s}=i;const r=df(null),o=a=>{r.value=a?.chart};return s({chart:r}),()=>ha(lG,sG({ref:o},{type:t,...n}))}})}const cG=Mk("bar",rk),uG=Mk("line",ak);function yr(t){return Array.isArray?Array.isArray(t):Rk(t)==="[object Array]"}const dG=1/0;function hG(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-dG?"-0":e}function fG(t){return t==null?"":hG(t)}function Ps(t){return typeof t=="string"}function Ik(t){return typeof t=="number"}function gG(t){return t===!0||t===!1||pG(t)&&Rk(t)=="[object Boolean]"}function Dk(t){return typeof t=="object"}function pG(t){return Dk(t)&&t!==null}function Ti(t){return t!=null}function op(t){return!t.trim().length}function Rk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const mG="Incorrect 'index' type",_G=t=>`Invalid value for key ${t}`,vG=t=>`Pattern length exceeds max of ${t}.`,yG=t=>`Missing ${t} property in key`,bG=t=>`Property 'weight' in key '${t}' must be a positive integer`,q1=Object.prototype.hasOwnProperty;class wG{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(i=>{let s=$k(i);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(i=>{i.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function $k(t){let e=null,n=null,i=null,s=1,r=null;if(Ps(t)||yr(t))i=t,e=Z1(t),n=vm(t);else{if(!q1.call(t,"name"))throw new Error(yG("name"));const o=t.name;if(i=o,q1.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(bG(o));e=Z1(o),n=vm(o),r=t.getFn}return{path:e,id:n,weight:s,src:i,getFn:r}}function Z1(t){return yr(t)?t:t.split(".")}function vm(t){return yr(t)?t.join("."):t}function xG(t,e){let n=[],i=!1;const s=(r,o,a)=>{if(Ti(r))if(!o[a])n.push(r);else{let l=o[a];const c=r[l];if(!Ti(c))return;if(a===o.length-1&&(Ps(c)||Ik(c)||gG(c)))n.push(fG(c));else if(yr(c)){i=!0;for(let u=0,d=c.length;u<d;u+=1)s(c[u],o,a+1)}else o.length&&s(c,o,a+1)}};return s(t,Ps(e)?e.split("."):e,0),i?n:n[0]}const EG={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},CG={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},SG={location:0,threshold:.6,distance:100},kG={useExtendedSearch:!1,getFn:xG,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Qe={...CG,...EG,...SG,...kG};const TG=/[^ ]+/g;function AG(t=1,e=3){const n=new Map,i=Math.pow(10,e);return{get(s){const r=s.match(TG).length;if(n.has(r))return n.get(r);const o=1/Math.pow(r,.5*t),a=parseFloat(Math.round(o*i)/i);return n.set(r,a),a},clear(){n.clear()}}}class cv{constructor({getFn:e=Qe.getFn,fieldNormWeight:n=Qe.fieldNormWeight}={}){this.norm=AG(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,i)=>{this._keysMap[n.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ps(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Ps(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,i=this.size();n<i;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Ti(e)||op(e))return;let i={v:e,i:n,n:this.norm.get(e)};this.records.push(i)}_addObject(e,n){let i={i:n,$:{}};this.keys.forEach((s,r)=>{let o=s.getFn?s.getFn(e):this.getFn(e,s.path);if(Ti(o)){if(yr(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(Ti(u))if(Ps(u)&&!op(u)){let d={v:u,i:c,n:this.norm.get(u)};a.push(d)}else yr(u)&&u.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}i.$[r]=a}else if(Ps(o)&&!op(o)){let a={v:o,n:this.norm.get(o)};i.$[r]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function Lk(t,e,{getFn:n=Qe.getFn,fieldNormWeight:i=Qe.fieldNormWeight}={}){const s=new cv({getFn:n,fieldNormWeight:i});return s.setKeys(t.map($k)),s.setSources(e),s.create(),s}function PG(t,{getFn:e=Qe.getFn,fieldNormWeight:n=Qe.fieldNormWeight}={}){const{keys:i,records:s}=t,r=new cv({getFn:e,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(s),r}function Wd(t,{errors:e=0,currentLocation:n=0,expectedLocation:i=0,distance:s=Qe.distance,ignoreLocation:r=Qe.ignoreLocation}={}){const o=e/t.length;if(r)return o;const a=Math.abs(i-n);return s?o+a/s:a?1:o}function MG(t=[],e=Qe.minMatchCharLength){let n=[],i=-1,s=-1,r=0;for(let o=t.length;r<o;r+=1){let a=t[r];a&&i===-1?i=r:!a&&i!==-1&&(s=r-1,s-i+1>=e&&n.push([i,s]),i=-1)}return t[r-1]&&r-i>=e&&n.push([i,r-1]),n}const Go=32;function IG(t,e,n,{location:i=Qe.location,distance:s=Qe.distance,threshold:r=Qe.threshold,findAllMatches:o=Qe.findAllMatches,minMatchCharLength:a=Qe.minMatchCharLength,includeMatches:l=Qe.includeMatches,ignoreLocation:c=Qe.ignoreLocation}={}){if(e.length>Go)throw new Error(vG(Go));const u=e.length,d=t.length,f=Math.max(0,Math.min(i,d));let g=r,p=f;const m=a>1||l,v=m?Array(d):[];let y;for(;(y=t.indexOf(e,p))>-1;){let k=Wd(e,{currentLocation:y,expectedLocation:f,distance:s,ignoreLocation:c});if(g=Math.min(k,g),p=y+u,m){let T=0;for(;T<u;)v[y+T]=1,T+=1}}p=-1;let x=[],E=1,w=u+d;const b=1<<u-1;for(let k=0;k<u;k+=1){let T=0,A=w;for(;T<A;)Wd(e,{errors:k,currentLocation:f+A,expectedLocation:f,distance:s,ignoreLocation:c})<=g?T=A:w=A,A=Math.floor((w-T)/2+T);w=A;let I=Math.max(1,f-A+1),V=o?d:Math.min(f+A,d)+u,Y=Array(V+2);Y[V+1]=(1<<k)-1;for(let N=V;N>=I;N-=1){let B=N-1,R=n[t.charAt(B)];if(m&&(v[B]=+!!R),Y[N]=(Y[N+1]<<1|1)&R,k&&(Y[N]|=(x[N+1]|x[N])<<1|1|x[N+1]),Y[N]&b&&(E=Wd(e,{errors:k,currentLocation:B,expectedLocation:f,distance:s,ignoreLocation:c}),E<=g)){if(g=E,p=B,p<=f)break;I=Math.max(1,2*f-p)}}if(Wd(e,{errors:k+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:c})>g)break;x=Y}const C={isMatch:p>=0,score:Math.max(.001,E)};if(m){const k=MG(v,a);k.length?l&&(C.indices=k):C.isMatch=!1}return C}function DG(t){let e={};for(let n=0,i=t.length;n<i;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<i-n-1}return e}class Ok{constructor(e,{location:n=Qe.location,threshold:i=Qe.threshold,distance:s=Qe.distance,includeMatches:r=Qe.includeMatches,findAllMatches:o=Qe.findAllMatches,minMatchCharLength:a=Qe.minMatchCharLength,isCaseSensitive:l=Qe.isCaseSensitive,ignoreLocation:c=Qe.ignoreLocation}={}){if(this.options={location:n,threshold:i,distance:s,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(f,g)=>{this.chunks.push({pattern:f,alphabet:DG(f),startIndex:g})},d=this.pattern.length;if(d>Go){let f=0;const g=d%Go,p=d-g;for(;f<p;)u(this.pattern.substr(f,Go),f),f+=Go;if(g){const m=d-Go;u(this.pattern.substr(m),m)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:i}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return i&&(p.indices=[[0,e.length-1]]),p}const{location:s,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],d=0,f=!1;this.chunks.forEach(({pattern:p,alphabet:m,startIndex:v})=>{const{isMatch:y,score:x,indices:E}=IG(e,p,m,{location:s+v,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:i,ignoreLocation:c});y&&(f=!0),d+=x,y&&E&&(u=[...u,...E])});let g={isMatch:f,score:f?d/this.chunks.length:1};return f&&i&&(g.indices=u),g}}class Eo{constructor(e){this.pattern=e}static isMultiMatch(e){return J1(e,this.multiRegex)}static isSingleMatch(e){return J1(e,this.singleRegex)}search(){}}function J1(t,e){const n=t.match(e);return n?n[1]:null}class RG extends Eo{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class $G extends Eo{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class LG extends Eo{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class OG extends Eo{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class NG extends Eo{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class FG extends Eo{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Nk extends Eo{constructor(e,{location:n=Qe.location,threshold:i=Qe.threshold,distance:s=Qe.distance,includeMatches:r=Qe.includeMatches,findAllMatches:o=Qe.findAllMatches,minMatchCharLength:a=Qe.minMatchCharLength,isCaseSensitive:l=Qe.isCaseSensitive,ignoreLocation:c=Qe.ignoreLocation}={}){super(e),this._bitapSearch=new Ok(e,{location:n,threshold:i,distance:s,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Fk extends Eo{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,i;const s=[],r=this.pattern.length;for(;(i=e.indexOf(this.pattern,n))>-1;)n=i+r,s.push([i,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const ym=[RG,Fk,LG,OG,FG,NG,$G,Nk],Q1=ym.length,BG=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,VG="|";function WG(t,e={}){return t.split(VG).map(n=>{let i=n.trim().split(BG).filter(r=>r&&!!r.trim()),s=[];for(let r=0,o=i.length;r<o;r+=1){const a=i[r];let l=!1,c=-1;for(;!l&&++c<Q1;){const u=ym[c];let d=u.isMultiMatch(a);d&&(s.push(new u(d,e)),l=!0)}if(!l)for(c=-1;++c<Q1;){const u=ym[c];let d=u.isSingleMatch(a);if(d){s.push(new u(d,e));break}}}return s})}const zG=new Set([Nk.type,Fk.type]);class YG{constructor(e,{isCaseSensitive:n=Qe.isCaseSensitive,includeMatches:i=Qe.includeMatches,minMatchCharLength:s=Qe.minMatchCharLength,ignoreLocation:r=Qe.ignoreLocation,findAllMatches:o=Qe.findAllMatches,location:a=Qe.location,threshold:l=Qe.threshold,distance:c=Qe.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:i,minMatchCharLength:s,findAllMatches:o,ignoreLocation:r,location:a,threshold:l,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=WG(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let r=0,o=[],a=0;for(let l=0,c=n.length;l<c;l+=1){const u=n[l];o.length=0,r=0;for(let d=0,f=u.length;d<f;d+=1){const g=u[d],{isMatch:p,indices:m,score:v}=g.search(e);if(p){if(r+=1,a+=v,i){const y=g.constructor.type;zG.has(y)?o=[...o,...m]:o.push(m)}}else{a=0,r=0,o.length=0;break}}if(r){let d={isMatch:!0,score:a/r};return i&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const bm=[];function HG(...t){bm.push(...t)}function wm(t,e){for(let n=0,i=bm.length;n<i;n+=1){let s=bm[n];if(s.condition(t,e))return new s(t,e)}return new Ok(t,e)}const Oh={AND:"$and",OR:"$or"},xm={PATH:"$path",PATTERN:"$val"},Em=t=>!!(t[Oh.AND]||t[Oh.OR]),jG=t=>!!t[xm.PATH],KG=t=>!yr(t)&&Dk(t)&&!Em(t),ew=t=>({[Oh.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Bk(t,e,{auto:n=!0}={}){const i=s=>{let r=Object.keys(s);const o=jG(s);if(!o&&r.length>1&&!Em(s))return i(ew(s));if(KG(s)){const l=o?s[xm.PATH]:r[0],c=o?s[xm.PATTERN]:s[l];if(!Ps(c))throw new Error(_G(l));const u={keyId:vm(l),pattern:c};return n&&(u.searcher=wm(c,e)),u}let a={children:[],operator:r[0]};return r.forEach(l=>{const c=s[l];yr(c)&&c.forEach(u=>{a.children.push(i(u))})}),a};return Em(t)||(t=ew(t)),i(t)}function UG(t,{ignoreFieldNorm:e=Qe.ignoreFieldNorm}){t.forEach(n=>{let i=1;n.matches.forEach(({key:s,norm:r,score:o})=>{const a=s?s.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:r))}),n.score=i})}function GG(t,e){const n=t.matches;e.matches=[],Ti(n)&&n.forEach(i=>{if(!Ti(i.indices)||!i.indices.length)return;const{indices:s,value:r}=i;let o={indices:s,value:r};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function XG(t,e){e.score=t.score}function qG(t,e,{includeMatches:n=Qe.includeMatches,includeScore:i=Qe.includeScore}={}){const s=[];return n&&s.push(GG),i&&s.push(XG),t.map(r=>{const{idx:o}=r,a={item:e[o],refIndex:o};return s.length&&s.forEach(l=>{l(r,a)}),a})}class Xl{constructor(e,n={},i){this.options={...Qe,...n},this.options.useExtendedSearch,this._keyStore=new wG(this.options.keys),this.setCollection(e,i)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof cv))throw new Error(mG);this._myIndex=n||Lk(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ti(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let i=0,s=this._docs.length;i<s;i+=1){const r=this._docs[i];e(r,i)&&(this.removeAt(i),i-=1,s-=1,n.push(r))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:i,includeScore:s,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options;let l=Ps(e)?Ps(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return UG(l,{ignoreFieldNorm:a}),r&&l.sort(o),Ik(n)&&n>-1&&(l=l.slice(0,n)),qG(l,this._docs,{includeMatches:i,includeScore:s})}_searchStringList(e){const n=wm(e,this.options),{records:i}=this._myIndex,s=[];return i.forEach(({v:r,i:o,n:a})=>{if(!Ti(r))return;const{isMatch:l,score:c,indices:u}=n.searchIn(r);l&&s.push({item:r,idx:o,matches:[{score:c,value:r,norm:a,indices:u}]})}),s}_searchLogical(e){const n=Bk(e,this.options),i=(a,l,c)=>{if(!a.children){const{keyId:d,searcher:f}=a,g=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:f});return g&&g.length?[{idx:c,item:l,matches:g}]:[]}const u=[];for(let d=0,f=a.children.length;d<f;d+=1){const g=a.children[d],p=i(g,l,c);if(p.length)u.push(...p);else if(a.operator===Oh.AND)return[]}return u},s=this._myIndex.records,r={},o=[];return s.forEach(({$:a,i:l})=>{if(Ti(a)){let c=i(n,a,l);c.length&&(r[l]||(r[l]={idx:l,item:a,matches:[]},o.push(r[l])),c.forEach(({matches:u})=>{r[l].matches.push(...u)}))}}),o}_searchObjectList(e){const n=wm(e,this.options),{keys:i,records:s}=this._myIndex,r=[];return s.forEach(({$:o,i:a})=>{if(!Ti(o))return;let l=[];i.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:o[u],searcher:n}))}),l.length&&r.push({idx:a,item:o,matches:l})}),r}_findMatches({key:e,value:n,searcher:i}){if(!Ti(n))return[];let s=[];if(yr(n))n.forEach(({v:r,i:o,n:a})=>{if(!Ti(r))return;const{isMatch:l,score:c,indices:u}=i.searchIn(r);l&&s.push({score:c,key:e,value:r,idx:o,norm:a,indices:u})});else{const{v:r,n:o}=n,{isMatch:a,score:l,indices:c}=i.searchIn(r);a&&s.push({score:l,key:e,value:r,norm:o,indices:c})}return s}}Xl.version="7.0.0";Xl.createIndex=Lk;Xl.parseIndex=PG;Xl.config=Qe;Xl.parseQuery=Bk;HG(YG);const ZG={name:"peerSettings",components:{LocaleText:Le},props:{selectedPeer:Object},data(){return{data:void 0,dataChanged:!1,showKey:!1,saving:!1}},setup(){return{dashboardConfigurationStore:Xe()}},methods:{reset(){this.selectedPeer&&(this.data=JSON.parse(JSON.stringify(this.selectedPeer)),this.dataChanged=!1)},savePeer(){this.saving=!0,dt(`/api/updatePeerSettings/${this.$route.params.id}`,this.data,t=>{this.saving=!1,t.status?this.dashboardConfigurationStore.newMessage("Server","Peer saved","success"):this.dashboardConfigurationStore.newMessage("Server",t.message,"danger"),this.$emit("refresh")})},resetPeerData(t){this.saving=!0,dt(`/api/resetPeerData/${this.$route.params.id}`,{id:this.data.id,type:t},e=>{this.saving=!1,e.status?this.dashboardConfigurationStore.newMessage("Server","Peer data usage reset successfully","success"):this.dashboardConfigurationStore.newMessage("Server",e.message,"danger"),this.$emit("refresh")})}},beforeMount(){this.reset()},mounted(){this.$el.querySelectorAll("input").forEach(t=>{t.addEventListener("keyup",()=>{this.dataChanged=!0})})}},JG={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll"},QG={class:"container d-flex h-100 w-100"},e7={class:"m-auto modal-dialog-centered dashboardModal"},t7={class:"card rounded-3 shadow flex-grow-1"},n7={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-2"},i7={class:"mb-0"},s7={key:0,class:"card-body px-4 pb-4"},r7={class:"d-flex flex-column gap-2 mb-4"},o7={class:"d-flex align-items-center"},a7={class:"text-muted"},l7={class:"ms-auto"},c7={for:"peer_name_textbox",class:"form-label"},u7={class:"text-muted"},d7=["disabled"],h7={class:"d-flex position-relative"},f7={for:"peer_private_key_textbox",class:"form-label"},g7={class:"text-muted"},p7=["type","disabled"],m7={for:"peer_allowed_ip_textbox",class:"form-label"},_7={class:"text-muted"},v7=["disabled"],y7={for:"peer_endpoint_allowed_ips",class:"form-label"},b7={class:"text-muted"},w7=["disabled"],x7={for:"peer_DNS_textbox",class:"form-label"},E7={class:"text-muted"},C7=["disabled"],S7={class:"accordion mt-3",id:"peerSettingsAccordion"},k7={class:"accordion-item"},T7={class:"accordion-header"},A7={class:"accordion-button rounded-3 collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#peerSettingsAccordionOptional"},P7={id:"peerSettingsAccordionOptional",class:"accordion-collapse collapse","data-bs-parent":"#peerSettingsAccordion"},M7={class:"accordion-body d-flex flex-column gap-2 mb-2"},I7={for:"peer_preshared_key_textbox",class:"form-label"},D7={class:"text-muted"},R7=["disabled"],$7={for:"peer_mtu",class:"form-label"},L7={class:"text-muted"},O7=["disabled"],N7={for:"peer_keep_alive",class:"form-label"},F7={class:"text-muted"},B7=["disabled"],V7={class:"d-flex gap-2 align-items-center"},W7={class:"d-flex gap-2 ms-auto"},z7={class:"d-flex align-items-center gap-2"},Y7=["disabled"],H7=["disabled"];function j7(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",JG,[h("div",QG,[h("div",e7,[h("div",t7,[h("div",n7,[h("h4",i7,[$(o,{t:"Peer Settings"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[0]||(e[0]=a=>this.$emit("close"))})]),this.data?(P(),F("div",s7,[h("div",r7,[h("div",o7,[h("small",a7,[$(o,{t:"Public Key"})]),h("small",l7,[h("samp",null,pe(this.data.id),1)])]),h("div",null,[h("label",c7,[h("small",u7,[$(o,{t:"Name"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[1]||(e[1]=a=>this.data.name=a),id:"peer_name_textbox",placeholder:""},null,8,d7),[[We,this.data.name]])]),h("div",null,[h("div",h7,[h("label",f7,[h("small",g7,[$(o,{t:"Private Key"}),h("code",null,[$(o,{t:"(Required for QR Code and Download)"})])])]),h("a",{role:"button",class:"ms-auto text-decoration-none toggleShowKey",onClick:e[2]||(e[2]=a=>this.showKey=!this.showKey)},[h("i",{class:Ee(["bi",[this.showKey?"bi-eye-slash-fill":"bi-eye-fill"]])},null,2)])]),Re(h("input",{type:[this.showKey?"text":"password"],class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[3]||(e[3]=a=>this.data.private_key=a),id:"peer_private_key_textbox",style:{"padding-right":"40px"}},null,8,p7),[[uC,this.data.private_key]])]),h("div",null,[h("label",m7,[h("small",_7,[$(o,{t:"Allowed IPs"}),h("code",null,[$(o,{t:"(Required)"})])])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[4]||(e[4]=a=>this.data.allowed_ip=a),id:"peer_allowed_ip_textbox"},null,8,v7),[[We,this.data.allowed_ip]])]),h("div",null,[h("label",y7,[h("small",b7,[$(o,{t:"Endpoint Allowed IPs"}),h("code",null,[$(o,{t:"(Required)"})])])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[5]||(e[5]=a=>this.data.endpoint_allowed_ip=a),id:"peer_endpoint_allowed_ips"},null,8,w7),[[We,this.data.endpoint_allowed_ip]])]),h("div",null,[h("label",x7,[h("small",E7,[$(o,{t:"DNS"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[6]||(e[6]=a=>this.data.DNS=a),id:"peer_DNS_textbox"},null,8,C7),[[We,this.data.DNS]])]),h("div",S7,[h("div",k7,[h("h2",T7,[h("button",A7,[$(o,{t:"Optional Settings"})])]),h("div",P7,[h("div",M7,[h("div",null,[h("label",I7,[h("small",D7,[$(o,{t:"Pre-Shared Key"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[7]||(e[7]=a=>this.data.preshared_key=a),id:"peer_preshared_key_textbox"},null,8,R7),[[We,this.data.preshared_key]])]),h("div",null,[h("label",$7,[h("small",L7,[$(o,{t:"MTU"})])]),Re(h("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[8]||(e[8]=a=>this.data.mtu=a),id:"peer_mtu"},null,8,O7),[[We,this.data.mtu]])]),h("div",null,[h("label",N7,[h("small",F7,[$(o,{t:"Persistent Keepalive"})])]),Re(h("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[9]||(e[9]=a=>this.data.keepalive=a),id:"peer_keep_alive"},null,8,B7),[[We,this.data.keepalive]])])])])])]),e[18]||(e[18]=h("hr",null,null,-1)),h("div",V7,[h("strong",null,[$(o,{t:"Reset Data Usage"})]),h("div",W7,[h("button",{class:"btn bg-primary-subtle text-primary-emphasis rounded-3 flex-grow-1 shadow-sm",onClick:e[10]||(e[10]=a=>this.resetPeerData("total"))},[e[15]||(e[15]=h("i",{class:"bi bi-arrow-down-up me-2"},null,-1)),$(o,{t:"Total"})]),h("button",{class:"btn bg-primary-subtle text-primary-emphasis rounded-3 flex-grow-1 shadow-sm",onClick:e[11]||(e[11]=a=>this.resetPeerData("receive"))},[e[16]||(e[16]=h("i",{class:"bi bi-arrow-down me-2"},null,-1)),$(o,{t:"Received"})]),h("button",{class:"btn bg-primary-subtle text-primary-emphasis rounded-3 flex-grow-1 shadow-sm",onClick:e[12]||(e[12]=a=>this.resetPeerData("sent"))},[e[17]||(e[17]=h("i",{class:"bi bi-arrow-up me-2"},null,-1)),$(o,{t:"Sent"})])])])]),h("div",z7,[h("button",{class:"btn bg-secondary-subtle border-secondary-subtle text-secondary-emphasis rounded-3 shadow ms-auto px-3 py-2",onClick:e[13]||(e[13]=a=>this.reset()),disabled:!this.dataChanged||this.saving},e[19]||(e[19]=[h("i",{class:"bi bi-arrow-clockwise"},null,-1)]),8,Y7),h("button",{class:"btn bg-primary-subtle border-primary-subtle text-primary-emphasis rounded-3 px-3 py-2 shadow",disabled:!this.dataChanged||this.saving,onClick:e[14]||(e[14]=a=>this.savePeer())},e[20]||(e[20]=[h("i",{class:"bi bi-save-fill"},null,-1)]),8,H7)])])):se("",!0)])])])])}const K7=ze(ZG,[["render",j7],["__scopeId","data-v-a63ae8cb"]]);var wa={},U7=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Vk={},Ri={};let uv;const G7=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ri.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ri.getSymbolTotalCodewords=function(e){return G7[e]};Ri.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ri.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');uv=e};Ri.isKanjiModeEnabled=function(){return typeof uv<"u"};Ri.toSJIS=function(e){return uv(e)};var Lf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},t.from=function(i,s){if(t.isValid(i))return i;try{return e(i)}catch{return s}}})(Lf);function Wk(){this.buffer=[],this.length=0}Wk.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var X7=Wk;function Xu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Xu.prototype.set=function(t,e,n,i){const s=t*this.size+e;this.data[s]=n,i&&(this.reservedBit[s]=!0)};Xu.prototype.get=function(t,e){return this.data[t*this.size+e]};Xu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Xu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var q7=Xu,zk={};(function(t){const e=Ri.getSymbolSize;t.getRowColCoords=function(i){if(i===1)return[];const s=Math.floor(i/7)+2,r=e(i),o=r===145?26:Math.ceil((r-13)/(2*s-2))*2,a=[r-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(i){const s=[],r=t.getRowColCoords(i),o=r.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([r[a],r[l]]);return s}})(zk);var Yk={};const Z7=Ri.getSymbolSize,tw=7;Yk.getPositions=function(e){const n=Z7(e);return[[0,0],[n-tw,0],[0,n-tw]]};var Hk={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const r=s.size;let o=0,a=0,l=0,c=null,u=null;for(let d=0;d<r;d++){a=l=0,c=u=null;for(let f=0;f<r;f++){let g=s.get(d,f);g===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=g,a=1),g=s.get(f,d),g===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=g,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const r=s.size;let o=0;for(let a=0;a<r-1;a++)for(let l=0;l<r-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const r=s.size;let o=0,a=0,l=0;for(let c=0;c<r;c++){a=l=0;for(let u=0;u<r;u++)a=a<<1&2047|s.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let r=0;const o=s.data.length;for(let l=0;l<o;l++)r+=s.data[l];return Math.abs(Math.ceil(r*100/o/5)-10)*e.N4};function n(i,s,r){switch(i){case t.Patterns.PATTERN000:return(s+r)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(s+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return s*r%2+s*r%3===0;case t.Patterns.PATTERN110:return(s*r%2+s*r%3)%2===0;case t.Patterns.PATTERN111:return(s*r%3+(s+r)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}t.applyMask=function(s,r){const o=r.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)r.isReserved(l,a)||r.xor(l,a,n(s,l,a))},t.getBestMask=function(s,r){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){r(c),t.applyMask(c,s);const u=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),u<l&&(l=u,a=c)}return a}})(Hk);var Of={};const qr=Lf,zd=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Yd=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Of.getBlocksCount=function(e,n){switch(n){case qr.L:return zd[(e-1)*4+0];case qr.M:return zd[(e-1)*4+1];case qr.Q:return zd[(e-1)*4+2];case qr.H:return zd[(e-1)*4+3];default:return}};Of.getTotalCodewordsCount=function(e,n){switch(n){case qr.L:return Yd[(e-1)*4+0];case qr.M:return Yd[(e-1)*4+1];case qr.Q:return Yd[(e-1)*4+2];case qr.H:return Yd[(e-1)*4+3];default:return}};var jk={},Nf={};const qc=new Uint8Array(512),Nh=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)qc[n]=e,Nh[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)qc[n]=qc[n-255]})();Nf.log=function(e){if(e<1)throw new Error("log("+e+")");return Nh[e]};Nf.exp=function(e){return qc[e]};Nf.mul=function(e,n){return e===0||n===0?0:qc[Nh[e]+Nh[n]]};(function(t){const e=Nf;t.mul=function(i,s){const r=new Uint8Array(i.length+s.length-1);for(let o=0;o<i.length;o++)for(let a=0;a<s.length;a++)r[o+a]^=e.mul(i[o],s[a]);return r},t.mod=function(i,s){let r=new Uint8Array(i);for(;r.length-s.length>=0;){const o=r[0];for(let l=0;l<s.length;l++)r[l]^=e.mul(s[l],o);let a=0;for(;a<r.length&&r[a]===0;)a++;r=r.slice(a)}return r},t.generateECPolynomial=function(i){let s=new Uint8Array([1]);for(let r=0;r<i;r++)s=t.mul(s,new Uint8Array([1,e.exp(r)]));return s}})(jk);const Kk=jk;function dv(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}dv.prototype.initialize=function(e){this.degree=e,this.genPoly=Kk.generateECPolynomial(this.degree)};dv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const i=Kk.mod(n,this.genPoly),s=this.degree-i.length;if(s>0){const r=new Uint8Array(this.degree);return r.set(i,s),r}return i};var J7=dv,Uk={},Co={},hv={};hv.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Vs={};const Gk="[0-9]+",Q7="[A-Z $%*+\\-./:]+";let vu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";vu=vu.replace(/u/g,"\\u");const e9="(?:(?![A-Z0-9 $%*+\\-./:]|"+vu+`)(?:.|[\r
]))+`;Vs.KANJI=new RegExp(vu,"g");Vs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Vs.BYTE=new RegExp(e9,"g");Vs.NUMERIC=new RegExp(Gk,"g");Vs.ALPHANUMERIC=new RegExp(Q7,"g");const t9=new RegExp("^"+vu+"$"),n9=new RegExp("^"+Gk+"$"),i9=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Vs.testKanji=function(e){return t9.test(e)};Vs.testNumeric=function(e){return n9.test(e)};Vs.testAlphanumeric=function(e){return i9.test(e)};(function(t){const e=hv,n=Vs;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,o){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?r.ccBits[0]:o<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return n.testNumeric(r)?t.NUMERIC:n.testAlphanumeric(r)?t.ALPHANUMERIC:n.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits};function i(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(r,o){if(t.isValid(r))return r;try{return i(r)}catch{return o}}})(Co);(function(t){const e=Ri,n=Of,i=Lf,s=Co,r=hv,o=7973,a=e.getBCHDigit(o);function l(f,g,p){for(let m=1;m<=40;m++)if(g<=t.getCapacity(m,p,f))return m}function c(f,g){return s.getCharCountIndicator(f,g)+4}function u(f,g){let p=0;return f.forEach(function(m){const v=c(m.mode,g);p+=v+m.getBitsLength()}),p}function d(f,g){for(let p=1;p<=40;p++)if(u(f,p)<=t.getCapacity(p,g,s.MIXED))return p}t.from=function(g,p){return r.isValid(g)?parseInt(g,10):p},t.getCapacity=function(g,p,m){if(!r.isValid(g))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=s.BYTE);const v=e.getSymbolTotalCodewords(g),y=n.getTotalCodewordsCount(g,p),x=(v-y)*8;if(m===s.MIXED)return x;const E=x-c(m,g);switch(m){case s.NUMERIC:return Math.floor(E/10*3);case s.ALPHANUMERIC:return Math.floor(E/11*2);case s.KANJI:return Math.floor(E/13);case s.BYTE:default:return Math.floor(E/8)}},t.getBestVersionForData=function(g,p){let m;const v=i.from(p,i.M);if(Array.isArray(g)){if(g.length>1)return d(g,v);if(g.length===0)return 1;m=g[0]}else m=g;return l(m.mode,m.getLength(),v)},t.getEncodedBits=function(g){if(!r.isValid(g)||g<7)throw new Error("Invalid QR Code version");let p=g<<12;for(;e.getBCHDigit(p)-a>=0;)p^=o<<e.getBCHDigit(p)-a;return g<<12|p}})(Uk);var Xk={};const Cm=Ri,qk=1335,s9=21522,nw=Cm.getBCHDigit(qk);Xk.getEncodedBits=function(e,n){const i=e.bit<<3|n;let s=i<<10;for(;Cm.getBCHDigit(s)-nw>=0;)s^=qk<<Cm.getBCHDigit(s)-nw;return(i<<10|s)^s9};var Zk={};const r9=Co;function $l(t){this.mode=r9.NUMERIC,this.data=t.toString()}$l.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};$l.prototype.getLength=function(){return this.data.length};$l.prototype.getBitsLength=function(){return $l.getBitsLength(this.data.length)};$l.prototype.write=function(e){let n,i,s;for(n=0;n+3<=this.data.length;n+=3)i=this.data.substr(n,3),s=parseInt(i,10),e.put(s,10);const r=this.data.length-n;r>0&&(i=this.data.substr(n),s=parseInt(i,10),e.put(s,r*3+1))};var o9=$l;const a9=Co,ap=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ll(t){this.mode=a9.ALPHANUMERIC,this.data=t}Ll.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ll.prototype.getLength=function(){return this.data.length};Ll.prototype.getBitsLength=function(){return Ll.getBitsLength(this.data.length)};Ll.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let i=ap.indexOf(this.data[n])*45;i+=ap.indexOf(this.data[n+1]),e.put(i,11)}this.data.length%2&&e.put(ap.indexOf(this.data[n]),6)};var l9=Ll;const c9=Co;function Ol(t){this.mode=c9.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Ol.getBitsLength=function(e){return e*8};Ol.prototype.getLength=function(){return this.data.length};Ol.prototype.getBitsLength=function(){return Ol.getBitsLength(this.data.length)};Ol.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var u9=Ol;const d9=Co,h9=Ri;function Nl(t){this.mode=d9.KANJI,this.data=t}Nl.getBitsLength=function(e){return e*13};Nl.prototype.getLength=function(){return this.data.length};Nl.prototype.getBitsLength=function(){return Nl.getBitsLength(this.data.length)};Nl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=h9.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var f9=Nl,Jk={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,i,s){var r={},o={};o[i]=0;var a=e.PriorityQueue.make();a.push(i,0);for(var l,c,u,d,f,g,p,m,v;!a.empty();){l=a.pop(),c=l.value,d=l.cost,f=n[c]||{};for(u in f)f.hasOwnProperty(u)&&(g=f[u],p=d+g,m=o[u],v=typeof o[u]>"u",(v||m>p)&&(o[u]=p,a.push(u,p),r[u]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var y=["Could not find a path from ",i," to ",s,"."].join("");throw new Error(y)}return r},extract_shortest_path_from_predecessor_list:function(n,i){for(var s=[],r=i;r;)s.push(r),n[r],r=n[r];return s.reverse(),s},find_path:function(n,i,s){var r=e.single_source_shortest_paths(n,i,s);return e.extract_shortest_path_from_predecessor_list(r,s)},PriorityQueue:{make:function(n){var i=e.PriorityQueue,s={},r;n=n||{};for(r in i)i.hasOwnProperty(r)&&(s[r]=i[r]);return s.queue=[],s.sorter=n.sorter||i.default_sorter,s},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var s={value:n,cost:i};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Jk);var g9=Jk.exports;(function(t){const e=Co,n=o9,i=l9,s=u9,r=f9,o=Vs,a=Ri,l=g9;function c(y){return unescape(encodeURIComponent(y)).length}function u(y,x,E){const w=[];let b;for(;(b=y.exec(E))!==null;)w.push({data:b[0],index:b.index,mode:x,length:b[0].length});return w}function d(y){const x=u(o.NUMERIC,e.NUMERIC,y),E=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let w,b;return a.isKanjiModeEnabled()?(w=u(o.BYTE,e.BYTE,y),b=u(o.KANJI,e.KANJI,y)):(w=u(o.BYTE_KANJI,e.BYTE,y),b=[]),x.concat(E,w,b).sort(function(k,T){return k.index-T.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function f(y,x){switch(x){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return i.getBitsLength(y);case e.KANJI:return r.getBitsLength(y);case e.BYTE:return s.getBitsLength(y)}}function g(y){return y.reduce(function(x,E){const w=x.length-1>=0?x[x.length-1]:null;return w&&w.mode===E.mode?(x[x.length-1].data+=E.data,x):(x.push(E),x)},[])}function p(y){const x=[];for(let E=0;E<y.length;E++){const w=y[E];switch(w.mode){case e.NUMERIC:x.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:x.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:x.push([w,{data:w.data,mode:e.BYTE,length:c(w.data)}]);break;case e.BYTE:x.push([{data:w.data,mode:e.BYTE,length:c(w.data)}])}}return x}function m(y,x){const E={},w={start:{}};let b=["start"];for(let C=0;C<y.length;C++){const k=y[C],T=[];for(let A=0;A<k.length;A++){const I=k[A],V=""+C+A;T.push(V),E[V]={node:I,lastCount:0},w[V]={};for(let Y=0;Y<b.length;Y++){const ne=b[Y];E[ne]&&E[ne].node.mode===I.mode?(w[ne][V]=f(E[ne].lastCount+I.length,I.mode)-f(E[ne].lastCount,I.mode),E[ne].lastCount+=I.length):(E[ne]&&(E[ne].lastCount=I.length),w[ne][V]=f(I.length,I.mode)+4+e.getCharCountIndicator(I.mode,x))}}b=T}for(let C=0;C<b.length;C++)w[b[C]].end=0;return{map:w,table:E}}function v(y,x){let E;const w=e.getBestModeForData(y);if(E=e.from(x,w),E!==e.BYTE&&E.bit<w.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(w));switch(E===e.KANJI&&!a.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new i(y);case e.KANJI:return new r(y);case e.BYTE:return new s(y)}}t.fromArray=function(x){return x.reduce(function(E,w){return typeof w=="string"?E.push(v(w,null)):w.data&&E.push(v(w.data,w.mode)),E},[])},t.fromString=function(x,E){const w=d(x,a.isKanjiModeEnabled()),b=p(w),C=m(b,E),k=l.find_path(C.map,"start","end"),T=[];for(let A=1;A<k.length-1;A++)T.push(C.table[k[A]].node);return t.fromArray(g(T))},t.rawSplit=function(x){return t.fromArray(d(x,a.isKanjiModeEnabled()))}})(Zk);const Ff=Ri,lp=Lf,p9=X7,m9=q7,_9=zk,v9=Yk,Sm=Hk,km=Of,y9=J7,Fh=Uk,b9=Xk,w9=Co,cp=Zk;function x9(t,e){const n=t.size,i=v9.getPositions(e);for(let s=0;s<i.length;s++){const r=i[s][0],o=i[s][1];for(let a=-1;a<=7;a++)if(!(r+a<=-1||n<=r+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(r+a,o+l,!0,!0):t.set(r+a,o+l,!1,!0))}}function E9(t){const e=t.size;for(let n=8;n<e-8;n++){const i=n%2===0;t.set(n,6,i,!0),t.set(6,n,i,!0)}}function C9(t,e){const n=_9.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],r=n[i][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,r+a,!0,!0):t.set(s+o,r+a,!1,!0)}}function S9(t,e){const n=t.size,i=Fh.getEncodedBits(e);let s,r,o;for(let a=0;a<18;a++)s=Math.floor(a/3),r=a%3+n-8-3,o=(i>>a&1)===1,t.set(s,r,o,!0),t.set(r,s,o,!0)}function up(t,e,n){const i=t.size,s=b9.getEncodedBits(e,n);let r,o;for(r=0;r<15;r++)o=(s>>r&1)===1,r<6?t.set(r,8,o,!0):r<8?t.set(r+1,8,o,!0):t.set(i-15+r,8,o,!0),r<8?t.set(8,i-r-1,o,!0):r<9?t.set(8,15-r-1+1,o,!0):t.set(8,15-r-1,o,!0);t.set(i-8,8,1,!0)}function k9(t,e){const n=t.size;let i=-1,s=n-1,r=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>r&1)===1),t.set(s,a-l,c),r--,r===-1&&(o++,r=7)}if(s+=i,s<0||n<=s){s-=i,i=-i;break}}}function T9(t,e,n){const i=new p9;n.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),w9.getCharCountIndicator(l.mode,t)),l.write(i)});const s=Ff.getSymbolTotalCodewords(t),r=km.getTotalCodewordsCount(t,e),o=(s-r)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const a=(o-i.getLengthInBits())/8;for(let l=0;l<a;l++)i.put(l%2?17:236,8);return A9(i,t,e)}function A9(t,e,n){const i=Ff.getSymbolTotalCodewords(e),s=km.getTotalCodewordsCount(e,n),r=i-s,o=km.getBlocksCount(e,n),a=i%o,l=o-a,c=Math.floor(i/o),u=Math.floor(r/o),d=u+1,f=c-u,g=new y9(f);let p=0;const m=new Array(o),v=new Array(o);let y=0;const x=new Uint8Array(t.buffer);for(let k=0;k<o;k++){const T=k<l?u:d;m[k]=x.slice(p,p+T),v[k]=g.encode(m[k]),p+=T,y=Math.max(y,T)}const E=new Uint8Array(i);let w=0,b,C;for(b=0;b<y;b++)for(C=0;C<o;C++)b<m[C].length&&(E[w++]=m[C][b]);for(b=0;b<f;b++)for(C=0;C<o;C++)E[w++]=v[C][b];return E}function P9(t,e,n,i){let s;if(Array.isArray(t))s=cp.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=cp.rawSplit(t);c=Fh.getBestVersionForData(u,n)}s=cp.fromString(t,c||40)}else throw new Error("Invalid data");const r=Fh.getBestVersionForData(s,n);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const o=T9(e,n,s),a=Ff.getSymbolSize(e),l=new m9(a);return x9(l,e),E9(l),C9(l,e),up(l,n,0),e>=7&&S9(l,e),k9(l,o),isNaN(i)&&(i=Sm.getBestMask(l,up.bind(null,l,n))),Sm.applyMask(i,l),up(l,n,i),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:i,segments:s}}Vk.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let i=lp.M,s,r;return typeof n<"u"&&(i=lp.from(n.errorCorrectionLevel,lp.M),s=Fh.from(n.version),r=Sm.from(n.maskPattern),n.toSJISFunc&&Ff.setToSJISFunction(n.toSJISFunc)),P9(e,s,i,r)};var Qk={},fv={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(r){return[r,r]}))),i.length===6&&i.push("F","F");const s=parseInt(i.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+i.slice(0,6).join("")}}t.getOptions=function(i){i||(i={}),i.color||(i.color={});const s=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,r=i.width&&i.width>=21?i.width:void 0,o=i.scale||4;return{width:r,scale:r?4:o,margin:s,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},t.getScale=function(i,s){return s.width&&s.width>=i+s.margin*2?s.width/(i+s.margin*2):s.scale},t.getImageWidth=function(i,s){const r=t.getScale(i,s);return Math.floor((i+s.margin*2)*r)},t.qrToImageData=function(i,s,r){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,r),c=Math.floor((o+r.margin*2)*l),u=r.margin*l,d=[r.color.light,r.color.dark];for(let f=0;f<c;f++)for(let g=0;g<c;g++){let p=(f*c+g)*4,m=r.color.light;if(f>=u&&g>=u&&f<c-u&&g<c-u){const v=Math.floor((f-u)/l),y=Math.floor((g-u)/l);m=d[a[v*o+y]?1:0]}i[p++]=m.r,i[p++]=m.g,i[p++]=m.b,i[p]=m.a}}})(fv);(function(t){const e=fv;function n(s,r,o){s.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(r,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=i()),l=e.getOptions(l);const u=e.getImageWidth(r.modules.size,l),d=c.getContext("2d"),f=d.createImageData(u,u);return e.qrToImageData(f.data,r,l),n(d,c,u),d.putImageData(f,0,0),c},t.renderToDataURL=function(r,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(r,o,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(Qk);var eT={};const M9=fv;function iw(t,e){const n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function dp(t,e,n){let i=t+e;return typeof n<"u"&&(i+=" "+n),i}function I9(t,e,n){let i="",s=0,r=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!r&&(r=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(i+=r?dp("M",l+n,.5+c+n):dp("m",s,0),s=0,r=!1),l+1<e&&t[a+1]||(i+=dp("h",o),o=0)):s++}return i}eT.render=function(e,n,i){const s=M9.getOptions(n),r=e.modules.size,o=e.modules.data,a=r+s.margin*2,l=s.color.light.a?"<path "+iw(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+iw(s.color.dark,"stroke")+' d="'+I9(o,r,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof i=="function"&&i(null,f),f};const D9=U7,Tm=Vk,tT=Qk,R9=eT;function gv(t,e,n,i,s){const r=[].slice.call(arguments,1),o=r.length,a=typeof r[o-1]=="function";if(!a&&!D9())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=i=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=i,i=void 0):(s=i,i=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=i=void 0):o===2&&!e.getContext&&(i=n,n=e,e=void 0),new Promise(function(l,c){try{const u=Tm.create(n,i);l(t(u,e,i))}catch(u){c(u)}})}try{const l=Tm.create(n,i);s(null,t(l,e,i))}catch(l){s(l)}}wa.create=Tm.create;wa.toCanvas=gv.bind(null,tT.render);wa.toDataURL=gv.bind(null,tT.renderToDataURL);wa.toString=gv.bind(null,function(t,e,n){return R9.render(t,n)});const $9={name:"peerQRCode",components:{LocaleText:Le},props:{peerConfigData:String},mounted(){wa.toCanvas(document.querySelector("#qrcode"),this.peerConfigData,t=>{t&&console.error(t)})}},L9={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0"},O9={class:"container d-flex h-100 w-100"},N9={class:"m-auto modal-dialog-centered dashboardModal justify-content-center"},F9={class:"card rounded-3 shadow"},B9={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-0"},V9={class:"mb-0"},W9={class:"card-body"},z9={id:"qrcode",class:"rounded-3 shadow",ref:"qrcode"};function Y9(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",L9,[h("div",O9,[h("div",N9,[h("div",F9,[h("div",B9,[h("h4",V9,[$(o,{t:"QR Code"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[0]||(e[0]=a=>this.$emit("close"))})]),h("div",W9,[h("canvas",z9,null,512)])])])])])}const H9=ze($9,[["render",Y9]]),j9={name:"nameInput",components:{LocaleText:Le},props:{bulk:Boolean,data:Object,saving:Boolean}},K9={for:"peer_name_textbox",class:"form-label"},U9={class:"text-muted"},G9=["disabled"];function X9(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",{class:Ee({inactiveField:this.bulk})},[h("label",K9,[h("small",U9,[$(o,{t:"Name"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving||this.bulk,"onUpdate:modelValue":e[0]||(e[0]=a=>this.data.name=a),id:"peer_name_textbox",placeholder:""},null,8,G9),[[We,this.data.name]])],2)}const q9=ze(j9,[["render",X9]]),Z9={name:"privatePublicKeyInput",components:{LocaleText:Le},props:{data:Object,saving:Boolean,bulk:Boolean},setup(){const t=Xe(),e=$n();return{dashboardStore:t,wgStore:e}},data(){return{keypair:{publicKey:"",privateKey:"",presharedKey:""},editKey:!1,error:!1}},methods:{genKeyPair(){this.editKey=!1,this.keypair=window.wireguard.generateKeypair(),this.data.private_key=this.keypair.privateKey,this.data.public_key=this.keypair.publicKey},testKey(t){return/^[A-Za-z0-9+/]{43}=?=?$/.test(t)},checkMatching(){try{this.keypair.privateKey&&this.wgStore.checkWGKeyLength(this.keypair.privateKey)&&(this.keypair.publicKey=window.wireguard.generatePublicKey(this.keypair.privateKey),window.wireguard.generatePublicKey(this.keypair.privateKey)!==this.keypair.publicKey?(this.error=!0,this.dashboardStore.newMessage("WGDashboard","Private key does not match with the public key","danger")):(this.data.private_key=this.keypair.privateKey,this.data.public_key=this.keypair.publicKey))}catch{this.error=!0,this.data.private_key="",this.data.public_key=""}}},mounted(){this.genKeyPair()},watch:{keypair:{deep:!0,handler(){this.error=!1,this.checkMatching()}}}},J9={for:"peer_private_key_textbox",class:"form-label"},Q9={class:"text-muted"},eX={class:"input-group"},tX=["disabled"],nX=["disabled"],iX={class:"d-flex"},sX={for:"public_key",class:"form-label"},rX={class:"text-muted"},oX={class:"form-check form-switch ms-auto"},aX=["disabled"],lX={class:"form-check-label",for:"enablePublicKeyEdit"},cX=["disabled"];function uX(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",{class:Ee(["d-flex gap-2 flex-column",{inactiveField:this.bulk}])},[h("div",null,[h("label",J9,[h("small",Q9,[$(o,{t:"Private Key"}),h("code",null,[$(o,{t:"(Required for QR Code and Download)"})])])]),h("div",eX,[Re(h("input",{type:"text",class:Ee(["form-control form-control-sm rounded-start-3",{"is-invalid":this.error}]),"onUpdate:modelValue":e[0]||(e[0]=a=>this.keypair.privateKey=a),disabled:!this.editKey||this.bulk,onBlur:e[1]||(e[1]=a=>this.checkMatching()),id:"peer_private_key_textbox"},null,42,tX),[[We,this.keypair.privateKey]]),h("button",{class:"btn btn-outline-info btn-sm rounded-end-3",onClick:e[2]||(e[2]=a=>this.genKeyPair()),disabled:this.bulk,type:"button",id:"button-addon2"},e[6]||(e[6]=[h("i",{class:"bi bi-arrow-repeat"},null,-1)]),8,nX)])]),h("div",null,[h("div",iX,[h("label",sX,[h("small",rX,[$(o,{t:"Public Key"}),h("code",null,[$(o,{t:"(Required)"})])])]),h("div",oX,[Re(h("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:this.bulk,id:"enablePublicKeyEdit","onUpdate:modelValue":e[3]||(e[3]=a=>this.editKey=a)},null,8,aX),[[Gn,this.editKey]]),h("label",lX,[h("small",null,[$(o,{t:"Use your own Private and Public Key"})])])])]),Re(h("input",{class:Ee(["form-control-sm form-control rounded-3",{"is-invalid":this.error}]),"onUpdate:modelValue":e[4]||(e[4]=a=>this.keypair.publicKey=a),onBlur:e[5]||(e[5]=a=>this.checkMatching()),disabled:!this.editKey||this.bulk,type:"text",id:"public_key"},null,42,cX),[[We,this.keypair.publicKey]])])],2)}const dX=ze(Z9,[["render",uX]]),hX={name:"allowedIPsInput",components:{LocaleText:Le},props:{data:Object,saving:Boolean,bulk:Boolean,availableIp:void 0},data(){return{allowedIp:[],availableIpSearchString:"",customAvailableIp:"",allowedIpFormatError:!1}},setup(){const t=$n(),e=Xe();return{store:t,dashboardStore:e}},computed:{searchAvailableIps(){return this.availableIpSearchString?this.availableIp.filter(t=>t.includes(this.availableIpSearchString)&&!this.data.allowed_ips.includes(t)):this.availableIp.filter(t=>!this.data.allowed_ips.includes(t))},inputGetLocale(){return At("Enter IP Address/CIDR")}},methods:{addAllowedIp(t){return this.store.checkCIDR(t)?(this.data.allowed_ips.push(t),this.customAvailableIp="",!0):(this.allowedIpFormatError=!0,this.dashboardStore.newMessage("WGDashboard","Allowed IPs is invalid","danger"),!1)}},watch:{customAvailableIp(){this.allowedIpFormatError=!1},availableIp(){this.availableIp!==void 0&&this.availableIp.length>0&&this.addAllowedIp(this.availableIp[0])}},mounted(){}},fX={for:"peer_allowed_ip_textbox",class:"form-label"},gX={class:"text-muted"},pX=["onClick"],mX={class:"d-flex gap-2 align-items-center"},_X={class:"input-group"},vX=["placeholder","disabled"],yX=["disabled"],bX={class:"text-muted"},wX={class:"dropdown flex-grow-1"},xX=["disabled"],EX={key:0,class:"dropdown-menu mt-2 shadow w-100 dropdown-menu-end rounded-3",style:{"overflow-y":"scroll","max-height":"270px",width:"300px !important"}},CX={class:"px-3 pb-2 pt-1 d-flex gap-3 align-items-center"},SX=["onClick"],kX={class:"me-auto"},TX={key:0},AX={class:"px-3 text-muted"};function PX(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",{class:Ee({inactiveField:this.bulk})},[h("label",fX,[h("small",gX,[$(o,{t:"Allowed IPs"}),h("code",null,[$(o,{t:"(Required)"})])])]),h("div",{class:Ee(["d-flex gap-2 flex-wrap",{"mb-2":this.data.allowed_ips.length>0}])},[$(vo,{name:"list"},{default:Pe(()=>[(P(!0),F(Ie,null,Ge(this.data.allowed_ips,(a,l)=>(P(),F("span",{class:"badge rounded-pill text-bg-success",key:a},[Be(pe(a)+" ",1),h("a",{role:"button",onClick:c=>this.data.allowed_ips.splice(l,1)},e[3]||(e[3]=[h("i",{class:"bi bi-x-circle-fill ms-1"},null,-1)]),8,pX)]))),128))]),_:1})],2),h("div",mX,[h("div",_X,[Re(h("input",{type:"text",class:Ee(["form-control form-control-sm rounded-start-3",{"is-invalid":this.allowedIpFormatError}]),placeholder:this.inputGetLocale,"onUpdate:modelValue":e[0]||(e[0]=a=>s.customAvailableIp=a),disabled:n.bulk},null,10,vX),[[We,s.customAvailableIp]]),h("button",{class:"btn btn-outline-success btn-sm rounded-end-3",disabled:n.bulk||!this.customAvailableIp,onClick:e[1]||(e[1]=a=>this.addAllowedIp(this.customAvailableIp)),type:"button",id:"button-addon2"},e[4]||(e[4]=[h("i",{class:"bi bi-plus-lg"},null,-1)]),8,yX)]),h("small",bX,[$(o,{t:"or"})]),h("div",wX,[h("button",{class:"btn btn-outline-secondary btn-sm dropdown-toggle rounded-3 w-100",disabled:!n.availableIp||n.bulk,"data-bs-auto-close":"outside",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[e[5]||(e[5]=h("i",{class:"bi bi-filter-circle me-2"},null,-1)),$(o,{t:"Pick Available IP"})],8,xX),this.availableIp?(P(),F("ul",EX,[h("li",null,[h("div",CX,[e[6]||(e[6]=h("label",{for:"availableIpSearchString",class:"text-muted"},[h("i",{class:"bi bi-search"})],-1)),Re(h("input",{id:"availableIpSearchString",class:"form-control form-control-sm rounded-3","onUpdate:modelValue":e[2]||(e[2]=a=>this.availableIpSearchString=a)},null,512),[[We,this.availableIpSearchString]])])]),(P(!0),F(Ie,null,Ge(this.searchAvailableIps,a=>(P(),F("li",null,[h("a",{class:"dropdown-item d-flex",role:"button",onClick:l=>this.addAllowedIp(a)},[h("span",kX,[h("small",null,pe(a),1)])],8,SX)]))),256)),this.searchAvailableIps.length===0?(P(),F("li",TX,[h("small",AX,[$(o,{t:"No available IP containing"}),Be(' "'+pe(this.availableIpSearchString)+'"',1)])])):se("",!0)])):se("",!0)])])],2)}const MX=ze(hX,[["render",PX],["__scopeId","data-v-6d5fc831"]]),IX={name:"dnsInput",components:{LocaleText:Le},props:{data:Object,saving:Boolean},data(){return{error:!1,dns:JSON.parse(JSON.stringify(this.data.DNS))}},setup(){const t=$n(),e=Xe();return{store:t,dashboardStore:e}},methods:{checkDNS(){if(this.dns){let t=this.dns.split(",").map(e=>e.replaceAll(" ",""));for(let e in t)if(!this.store.regexCheckIP(t[e])){this.error||this.dashboardStore.newMessage("WGDashboard","DNS format is incorrect","danger"),this.error=!0,this.data.DNS="";return}this.error=!1,this.data.DNS=this.dns}}},watch:{dns(){this.checkDNS()}}},DX={for:"peer_DNS_textbox",class:"form-label"},RX={class:"text-muted"},$X=["disabled"];function LX(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("label",DX,[h("small",RX,[$(o,{t:"DNS"})])]),Re(h("input",{type:"text",class:Ee(["form-control form-control-sm rounded-3",{"is-invalid":this.error}]),disabled:this.saving,"onUpdate:modelValue":e[0]||(e[0]=a=>this.dns=a),id:"peer_DNS_textbox"},null,10,$X),[[We,this.dns]])])}const OX=ze(IX,[["render",LX]]),NX={name:"endpointAllowedIps",components:{LocaleText:Le},props:{data:Object,saving:Boolean},setup(){const t=$n(),e=Xe();return{store:t,dashboardStore:e}},data(){return{endpointAllowedIps:JSON.parse(JSON.stringify(this.data.endpoint_allowed_ip)),error:!1}},methods:{checkAllowedIP(){let t=this.endpointAllowedIps.split(",").map(e=>e.replaceAll(" ",""));for(let e in t)if(!this.store.checkCIDR(t[e])){this.error||this.dashboardStore.newMessage("WGDashboard","Endpoint Allowed IPs format is incorrect","danger"),this.data.endpoint_allowed_ip="",this.error=!0;return}this.error=!1,this.data.endpoint_allowed_ip=this.endpointAllowedIps}},watch:{endpointAllowedIps(){this.checkAllowedIP()}}},FX={for:"peer_endpoint_allowed_ips",class:"form-label"},BX={class:"text-muted"},VX=["disabled"];function WX(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("label",FX,[h("small",BX,[$(o,{t:"Endpoint Allowed IPs"}),h("code",null,[$(o,{t:"(Required)"})])])]),Re(h("input",{type:"text",class:Ee(["form-control form-control-sm rounded-3",{"is-invalid":s.error}]),disabled:this.saving,"onUpdate:modelValue":e[0]||(e[0]=a=>this.endpointAllowedIps=a),onBlur:e[1]||(e[1]=a=>this.checkAllowedIP()),id:"peer_endpoint_allowed_ips"},null,42,VX),[[We,this.endpointAllowedIps]])])}const zX=ze(NX,[["render",WX]]),YX={name:"presharedKeyInput",components:{LocaleText:Le},props:{data:Object,saving:Boolean},data(){return{enable:!1}},watch:{enable(){this.enable?this.data.preshared_key=window.wireguard.generateKeypair().presharedKey:this.data.preshared_key=""}}},HX={class:"d-flex align-items-start"},jX={for:"peer_preshared_key_textbox",class:"form-label"},KX={class:"text-muted"},UX={class:"form-check form-switch ms-auto"},GX=["disabled"];function XX(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("div",HX,[h("label",jX,[h("small",KX,[$(o,{t:"Pre-Shared Key"})])]),h("div",UX,[Re(h("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":e[0]||(e[0]=a=>this.enable=a),id:"peer_preshared_key_switch"},null,512),[[Gn,this.enable]])])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:this.saving||!this.enable,"onUpdate:modelValue":e[1]||(e[1]=a=>this.data.preshared_key=a),id:"peer_preshared_key_textbox"},null,8,GX),[[We,this.data.preshared_key]])])}const qX=ze(YX,[["render",XX]]),ZX={name:"mtuInput",components:{LocaleText:Le},props:{data:Object,saving:Boolean}},JX={for:"peer_mtu",class:"form-label"},QX={class:"text-muted"},eq=["disabled"];function tq(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("label",JX,[h("small",QX,[$(o,{t:"MTU"})])]),Re(h("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[0]||(e[0]=a=>this.data.mtu=a),min:"0",id:"peer_mtu"},null,8,eq),[[We,this.data.mtu]])])}const nq=ze(ZX,[["render",tq]]),iq={name:"persistentKeepAliveInput",components:{LocaleText:Le},props:{data:Object,saving:Boolean}},sq={for:"peer_keep_alive",class:"form-label"},rq={class:"text-muted"},oq=["disabled"];function aq(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("label",sq,[h("small",rq,[$(o,{t:"Persistent Keepalive"})])]),Re(h("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:this.saving,"onUpdate:modelValue":e[0]||(e[0]=a=>this.data.keepalive=a),id:"peer_keep_alive"},null,8,oq),[[We,this.data.keepalive]])])}const lq=ze(iq,[["render",aq]]),cq={name:"bulkAdd",components:{LocaleText:Le},props:{saving:Boolean,data:Object,availableIp:void 0},computed:{bulkAddGetLocale(){return At("How many peers you want to add?")}}},uq={class:"form-check form-switch"},dq=["disabled"],hq={class:"form-check-label me-2",for:"bulk_add"},fq={class:"text-muted d-block"},gq={key:0,class:"form-group"},pq=["max","placeholder"],mq={class:"text-muted"};function _q(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",null,[h("div",uq,[Re(h("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:!this.availableIp,id:"bulk_add","onUpdate:modelValue":e[0]||(e[0]=a=>this.data.bulkAdd=a)},null,8,dq),[[Gn,this.data.bulkAdd]]),h("label",hq,[h("small",null,[h("strong",null,[$(o,{t:"Bulk Add"})])])])]),h("p",{class:Ee({"mb-0":!this.data.bulkAdd})},[h("small",fq,[$(o,{t:"By adding peers by bulk, each peer's name will be auto generated, and Allowed IP will be assign to the next available IP."})])],2),this.data.bulkAdd?(P(),F("div",gq,[Re(h("input",{class:"form-control form-control-sm rounded-3 mb-1",type:"number",min:"1",max:this.availableIp.length,"onUpdate:modelValue":e[1]||(e[1]=a=>this.data.bulkAddAmount=a),placeholder:this.bulkAddGetLocale},null,8,pq),[[We,this.data.bulkAddAmount]]),h("small",mq,[$(o,{t:"You can add up to "+this.availableIp.length+" peers"},null,8,["t"])])])):se("",!0)])}const vq=ze(cq,[["render",_q]]),yq={name:"peerCreate",components:{LocaleText:Le,BulkAdd:vq,PersistentKeepAliveInput:lq,MtuInput:nq,PresharedKeyInput:qX,EndpointAllowedIps:zX,DnsInput:OX,AllowedIPsInput:MX,PrivatePublicKeyInput:dX,NameInput:q9},data(){return{data:{bulkAdd:!1,bulkAddAmount:0,name:"",allowed_ips:[],private_key:"",public_key:"",DNS:this.dashboardStore.Configuration.Peers.peer_global_dns,endpoint_allowed_ip:this.dashboardStore.Configuration.Peers.peer_endpoint_allowed_ip,keepalive:parseInt(this.dashboardStore.Configuration.Peers.peer_keep_alive),mtu:parseInt(this.dashboardStore.Configuration.Peers.peer_mtu),preshared_key:"",preshared_key_bulkAdd:!1},availableIp:void 0,availableIpSearchString:"",saving:!1,allowedIpDropdown:void 0}},mounted(){Pt("/api/getAvailableIPs/"+this.$route.params.id,{},t=>{t.status&&(this.availableIp=t.data)})},setup(){const t=$n(),e=Xe();return{store:t,dashboardStore:e}},methods:{peerCreate(){this.saving=!0,dt("/api/addPeers/"+this.$route.params.id,this.data,t=>{t.status?(this.$router.push(`/configuration/${this.$route.params.id}/peers`),this.dashboardStore.newMessage("Server","Peer created successfully","success")):this.dashboardStore.newMessage("Server",t.message,"danger"),this.saving=!1})}},computed:{allRequireFieldsFilled(){let t=!0;return this.data.bulkAdd?(this.data.bulkAddAmount.length===0||this.data.bulkAddAmount>this.availableIp.length)&&(t=!1):["allowed_ips","private_key","public_key","endpoint_allowed_ip","keepalive","mtu"].forEach(n=>{this.data[n].length===0&&(t=!1)}),t}},watch:{bulkAdd(t){t||(this.data.bulkAddAmount="")},"data.bulkAddAmount"(){this.data.bulkAddAmount>this.availableIp.length&&(this.data.bulkAddAmount=this.availableIp.length)}}},bq={class:"container"},wq={class:"mb-4"},xq={class:"mb-5 d-flex align-items-center gap-4"},Eq={class:"mb-0"},Cq={class:"d-flex flex-column gap-2"},Sq={class:"row gy-3"},kq={key:0,class:"col-sm"},Tq={class:"col-sm"},Aq={class:"col-sm"},Pq={key:1,class:"col-12"},Mq={class:"form-check form-switch"},Iq={class:"form-check-label",for:"bullAdd_PresharedKey_Switch"},Dq={class:"fw-bold"},Rq={class:"d-flex mt-2"},$q=["disabled"],Lq={key:0,class:"bi bi-plus-circle-fill me-2"};function Oq(t,e,n,i,s,r){const o=Se("RouterLink"),a=Se("LocaleText"),l=Se("BulkAdd"),c=Se("NameInput"),u=Se("PrivatePublicKeyInput"),d=Se("AllowedIPsInput"),f=Se("EndpointAllowedIps"),g=Se("DnsInput"),p=Se("PresharedKeyInput"),m=Se("MtuInput"),v=Se("PersistentKeepAliveInput");return P(),F("div",bq,[h("div",wq,[h("div",xq,[$(o,{to:"peers",class:"btn btn-dark btn-brand p-2 shadow",style:{"border-radius":"100%"}},{default:Pe(()=>e[2]||(e[2]=[h("h2",{class:"mb-0",style:{"line-height":"0"}},[h("i",{class:"bi bi-arrow-left-circle"})],-1)])),_:1}),h("h2",Eq,[$(a,{t:"Add Peers"})])])]),h("div",Cq,[$(l,{saving:s.saving,data:this.data,availableIp:this.availableIp},null,8,["saving","data","availableIp"]),e[3]||(e[3]=h("hr",{class:"mb-0 mt-2"},null,-1)),this.data.bulkAdd?se("",!0):(P(),Ce(c,{key:0,saving:s.saving,data:this.data},null,8,["saving","data"])),this.data.bulkAdd?se("",!0):(P(),Ce(u,{key:1,saving:s.saving,data:s.data},null,8,["saving","data"])),this.data.bulkAdd?se("",!0):(P(),Ce(d,{key:2,availableIp:this.availableIp,saving:s.saving,data:s.data},null,8,["availableIp","saving","data"])),$(f,{saving:s.saving,data:s.data},null,8,["saving","data"]),$(g,{saving:s.saving,data:s.data},null,8,["saving","data"]),e[4]||(e[4]=h("hr",{class:"mb-0 mt-2"},null,-1)),h("div",Sq,[this.data.bulkAdd?se("",!0):(P(),F("div",kq,[$(p,{saving:s.saving,data:s.data,bulk:this.data.bulkAdd},null,8,["saving","data","bulk"])])),h("div",Tq,[$(m,{saving:s.saving,data:s.data},null,8,["saving","data"])]),h("div",Aq,[$(v,{saving:s.saving,data:s.data},null,8,["saving","data"])]),this.data.bulkAdd?(P(),F("div",Pq,[h("div",Mq,[Re(h("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":e[0]||(e[0]=y=>this.data.preshared_key_bulkAdd=y),id:"bullAdd_PresharedKey_Switch",checked:""},null,512),[[Gn,this.data.preshared_key_bulkAdd]]),h("label",Iq,[h("small",Dq,[$(a,{t:"Pre-Shared Key"}),this.data.preshared_key_bulkAdd?(P(),Ce(a,{key:0,t:"Enabled"})):(P(),Ce(a,{key:1,t:"Disabled"}))])])])])):se("",!0)]),h("div",Rq,[h("button",{class:"ms-auto btn btn-dark btn-brand rounded-3 px-3 py-2 shadow",disabled:!this.allRequireFieldsFilled||this.saving,onClick:e[1]||(e[1]=y=>this.peerCreate())},[this.saving?se("",!0):(P(),F("i",Lq)),this.saving?(P(),Ce(a,{key:1,t:"Adding..."})):(P(),Ce(a,{key:2,t:"Add"}))],8,$q)])])])}const nT=ze(yq,[["render",Oq],["__scopeId","data-v-17eb547c"]]),Nq={name:"scheduleDropdown",props:{options:Array,data:String,edit:!1},setup(t){t.data===void 0&&this.$emit("update",this.options[0].value)},computed:{currentSelection(){return this.options.find(t=>t.value===this.data)}}},Fq={class:"dropdown scheduleDropdown"},Bq={class:"dropdown-menu rounded-3 shadow",style:{"font-size":"0.875rem",width:"200px"}},Vq=["onClick"],Wq={key:0,class:"bi bi-check ms-auto"};function zq(t,e,n,i,s,r){return P(),F("div",Fq,[h("button",{class:Ee(["btn btn-sm btn-outline-primary rounded-3",{"disabled border-transparent":!n.edit}]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[h("samp",null,pe(this.currentSelection.display),1)],2),h("ul",Bq,[n.edit?(P(!0),F(Ie,{key:0},Ge(this.options,o=>(P(),F("li",null,[h("a",{class:"dropdown-item d-flex align-items-center",role:"button",onClick:a=>t.$emit("update",o.value)},[h("samp",null,pe(o.display),1),o.value===this.currentSelection.value?(P(),F("i",Wq)):se("",!0)],8,Vq)]))),256)):se("",!0)])])}const iT=ze(Nq,[["render",zq],["__scopeId","data-v-6a5aba2a"]]),Yq={name:"schedulePeerJob",components:{LocaleText:Le,VueDatePicker:ju,ScheduleDropdown:iT},props:{dropdowns:Array[Object],pjob:Object,viewOnly:!1},setup(t){const e=me({}),n=me(!1),i=me(!1);e.value=JSON.parse(JSON.stringify(t.pjob)),e.value.CreationDate||(n.value=!0,i.value=!0);const s=Xe();return{job:e,edit:n,newJob:i,store:s}},data(){return{inputType:void 0}},watch:{pjob:{deep:!0,immediate:!0,handler(t){this.edit||(this.job=JSON.parse(JSON.stringify(t)))}}},methods:{save(){this.job.Field&&this.job.Operator&&this.job.Action&&this.job.Value?dt("/api/savePeerScheduleJob/",{Job:this.job},t=>{t.status?(this.edit=!1,this.store.newMessage("Server","Peer job saved","success"),console.log(t.data),this.$emit("refresh",t.data[0]),this.newJob=!1):this.store.newMessage("Server",t.message,"danger")}):this.alert()},alert(){let t="animate__flash",e=this.$el.querySelectorAll(".scheduleDropdown"),n=this.$el.querySelectorAll("input");e.forEach(i=>i.classList.add("animate__animated",t)),n.forEach(i=>i.classList.add("animate__animated",t)),setTimeout(()=>{e.forEach(i=>i.classList.remove("animate__animated",t)),n.forEach(i=>i.classList.remove("animate__animated",t))},2e3)},reset(){this.job.CreationDate?(this.job=JSON.parse(JSON.stringify(this.pjob)),this.edit=!1):this.$emit("delete")},delete(){this.job.CreationDate&&dt("/api/deletePeerScheduleJob/",{Job:this.job},t=>{t.status?this.store.newMessage("Server","Peer job deleted","success"):(this.store.newMessage("Server",t.message,"danger"),this.$emit("delete"))}),this.$emit("delete")},parseTime(t){t&&(this.job.Value=Fn(t).format("YYYY-MM-DD HH:mm:ss"))}}},Hq={class:"card-header bg-transparent text-muted border-0"},jq={key:0,class:"d-flex"},Kq={class:"me-auto"},Uq={key:1},Gq={class:"badge text-bg-warning"},Xq={class:"card-body pt-1",style:{"font-family":"var(--bs-font-monospace)"}},qq={class:"d-flex gap-2 align-items-center mb-2"},Zq=["disabled"],Jq={class:"px-5 d-flex gap-2 align-items-center"},Qq={class:"d-flex gap-3"},eZ={key:0,class:"ms-auto d-flex gap-3"},tZ={key:1,class:"ms-auto d-flex gap-3"};function nZ(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("ScheduleDropdown"),l=Se("VueDatePicker");return P(),F("div",{class:Ee(["card shadow-sm rounded-3 mb-2",{"border-warning-subtle":this.newJob}])},[h("div",Hq,[this.newJob?(P(),F("small",Uq,[h("span",Gq,[$(o,{t:"Unsaved Job"})])])):(P(),F("small",jq,[h("strong",Kq,[$(o,{t:"Job ID"})]),h("samp",null,pe(this.job.JobID),1)]))]),h("div",Xq,[h("div",qq,[h("samp",null,[$(o,{t:"if"})]),$(a,{edit:i.edit,options:this.dropdowns.Field,data:this.job.Field,onUpdate:e[0]||(e[0]=c=>{this.job.Field=c})},null,8,["edit","options","data"]),h("samp",null,[$(o,{t:"is"})]),$(a,{edit:i.edit,options:this.dropdowns.Operator,data:this.job.Operator,onUpdate:e[1]||(e[1]=c=>this.job.Operator=c)},null,8,["edit","options","data"]),this.job.Field==="date"?(P(),Ce(l,{key:0,is24:!0,"min-date":new Date,"model-value":this.job.Value,"onUpdate:modelValue":this.parseTime,"time-picker-inline":"",format:"yyyy-MM-dd HH:mm:ss","preview-format":"yyyy-MM-dd HH:mm:ss",clearable:!1,disabled:!i.edit,dark:this.store.Configuration.Server.dashboard_theme==="dark"},null,8,["min-date","model-value","onUpdate:modelValue","disabled","dark"])):Re((P(),F("input",{key:1,class:"form-control form-control-sm form-control-dark rounded-3 flex-grow-1",disabled:!i.edit,"onUpdate:modelValue":e[2]||(e[2]=c=>this.job.Value=c),style:{width:"auto"}},null,8,Zq)),[[We,this.job.Value]]),h("samp",null,pe(this.dropdowns.Field.find(c=>c.value===this.job.Field)?.unit)+" { ",1)]),h("div",Jq,[h("samp",null,[$(o,{t:"then"})]),$(a,{edit:i.edit,options:this.dropdowns.Action,data:this.job.Action,onUpdate:e[3]||(e[3]=c=>this.job.Action=c)},null,8,["edit","options","data"])]),h("div",Qq,[e[12]||(e[12]=h("samp",null,"}",-1)),this.edit?(P(),F("div",tZ,[h("a",{role:"button",class:"text-secondary text-decoration-none",onClick:e[6]||(e[6]=c=>this.reset())},[e[10]||(e[10]=Be("[C] ")),$(o,{t:"Cancel"})]),h("a",{role:"button",class:"text-primary ms-auto text-decoration-none",onClick:e[7]||(e[7]=c=>this.save())},[e[11]||(e[11]=Be("[S] ")),$(o,{t:"Save"})])])):(P(),F("div",eZ,[h("a",{role:"button",class:"ms-auto text-decoration-none",onClick:e[4]||(e[4]=c=>this.edit=!0)},[e[8]||(e[8]=Be("[E] ")),$(o,{t:"Edit"})]),h("a",{role:"button",onClick:e[5]||(e[5]=c=>this.delete()),class:"text-danger text-decoration-none"},[e[9]||(e[9]=Be("[D] ")),$(o,{t:"Delete"})])]))])])],2)}const sT=ze(Yq,[["render",nZ],["__scopeId","data-v-8f3f1b93"]]),iZ={name:"peerJobs",setup(){return{store:$n()}},props:{selectedPeer:Object},components:{LocaleText:Le,SchedulePeerJob:sT,ScheduleDropdown:iT},data(){return{}},methods:{deleteJob(t){this.selectedPeer.jobs=this.selectedPeer.jobs.filter(e=>e.JobID!==t.JobID)},addJob(){this.selectedPeer.jobs.unshift(JSON.parse(JSON.stringify({JobID:Bs().toString(),Configuration:this.selectedPeer.configuration.Name,Peer:this.selectedPeer.id,Field:this.store.PeerScheduleJobs.dropdowns.Field[0].value,Operator:this.store.PeerScheduleJobs.dropdowns.Operator[0].value,Value:"",CreationDate:"",ExpireDate:"",Action:this.store.PeerScheduleJobs.dropdowns.Action[0].value})))}}},sZ={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll"},rZ={class:"container d-flex h-100 w-100"},oZ={class:"m-auto modal-dialog-centered dashboardModal"},aZ={class:"card rounded-3 shadow",style:{width:"700px"}},lZ={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-2"},cZ={class:"mb-0 fw-normal"},uZ={class:"card-body px-4 pb-4 pt-2 position-relative"},dZ={class:"d-flex align-items-center mb-3"},hZ={class:"card shadow-sm",key:"none",style:{height:"153px"}},fZ={class:"card-body text-muted text-center d-flex"},gZ={class:"m-auto"};function pZ(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("SchedulePeerJob");return P(),F("div",sZ,[h("div",rZ,[h("div",oZ,[h("div",aZ,[h("div",lZ,[h("h4",cZ,[$(o,{t:"Schedule Jobs"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[0]||(e[0]=l=>this.$emit("close"))})]),h("div",uZ,[h("div",dZ,[h("button",{class:"btn bg-primary-subtle border-1 border-primary-subtle text-primary-emphasis rounded-3 shadow",onClick:e[1]||(e[1]=l=>this.addJob())},[e[3]||(e[3]=h("i",{class:"bi bi-plus-lg me-2"},null,-1)),$(o,{t:"Job"})])]),$(vo,{name:"schedulePeerJobTransition",tag:"div",class:"position-relative"},{default:Pe(()=>[(P(!0),F(Ie,null,Ge(this.selectedPeer.jobs,(l,c)=>(P(),Ce(a,{onRefresh:e[2]||(e[2]=u=>this.$emit("refresh")),onDelete:u=>this.deleteJob(l),dropdowns:this.store.PeerScheduleJobs.dropdowns,key:l.JobID,pjob:l},null,8,["onDelete","dropdowns","pjob"]))),128)),this.selectedPeer.jobs.length===0?(P(),F("div",hZ,[h("div",fZ,[h("h6",gZ,[$(o,{t:"This peer does not have any job yet."})])])])):se("",!0)]),_:1})])])])])])}const mZ=ze(iZ,[["render",pZ],["__scopeId","data-v-5bbdd42b"]]),_Z={name:"peerJobsAllModal",setup(){return{store:$n()}},components:{LocaleText:Le,SchedulePeerJob:sT},props:{configurationPeers:Array[Object]},methods:{getuuid(){return Bs()}},computed:{getAllJobs(){return this.configurationPeers.filter(t=>t.jobs.length>0)}}},vZ={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll"},yZ={class:"container d-flex h-100 w-100"},bZ={class:"m-auto modal-dialog-centered dashboardModal"},wZ={class:"card rounded-3 shadow",style:{width:"700px"}},xZ={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-2"},EZ={class:"mb-0 fw-normal"},CZ={class:"card-body px-4 pb-4 pt-2"},SZ={key:0,class:"accordion",id:"peerJobsLogsModalAccordion"},kZ={class:"accordion-header"},TZ=["data-bs-target"],AZ={key:0},PZ={class:"text-muted"},MZ=["id"],IZ={class:"accordion-body"},DZ={key:1,class:"card shadow-sm",style:{height:"153px"}},RZ={class:"card-body text-muted text-center d-flex"},$Z={class:"m-auto"};function LZ(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("SchedulePeerJob");return P(),F("div",vZ,[h("div",yZ,[h("div",bZ,[h("div",wZ,[h("div",xZ,[h("h4",EZ,[$(o,{t:"All Active Jobs"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[0]||(e[0]=l=>this.$emit("close"))})]),h("div",CZ,[this.getAllJobs.length>0?(P(),F("div",SZ,[(P(!0),F(Ie,null,Ge(this.getAllJobs,(l,c)=>(P(),F("div",{class:"accordion-item",key:l.id},[h("h2",kZ,[h("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse_"+c},[h("small",null,[h("strong",null,[l.name?(P(),F("span",AZ,pe(l.name)+" • ",1)):se("",!0),h("samp",PZ,pe(l.id),1)])])],8,TZ)]),h("div",{id:"collapse_"+c,class:"accordion-collapse collapse","data-bs-parent":"#peerJobsLogsModalAccordion"},[h("div",IZ,[(P(!0),F(Ie,null,Ge(l.jobs,u=>(P(),Ce(a,{onDelete:e[1]||(e[1]=d=>this.$emit("refresh")),onRefresh:e[2]||(e[2]=d=>this.$emit("refresh")),dropdowns:this.store.PeerScheduleJobs.dropdowns,viewOnly:!0,key:u.JobID,pjob:u},null,8,["dropdowns","pjob"]))),128))])],8,MZ)]))),128))])):(P(),F("div",DZ,[h("div",RZ,[h("span",$Z,[$(o,{t:"No active job at the moment."})])])]))])])])])])}const OZ=ze(_Z,[["render",LZ]]),NZ={name:"peerJobsLogsModal",components:{LocaleText:Le},props:{configurationInfo:Object},data(){return{dataLoading:!0,data:[],logFetchTime:void 0,showLogID:!1,showJobID:!0,showSuccessJob:!0,showFailedJob:!0,showLogAmount:10}},async mounted(){await this.fetchLog()},methods:{async fetchLog(){this.dataLoading=!0,await Pt(`/api/getPeerScheduleJobLogs/${this.configurationInfo.Name}`,{},t=>{this.data=t.data,this.logFetchTime=Fn().format("YYYY-MM-DD HH:mm:ss"),this.dataLoading=!1})}},computed:{getLogs(){return this.data.filter(t=>this.showSuccessJob&&t.Status==="1"||this.showFailedJob&&t.Status==="0")},showLogs(){return this.getLogs.slice(0,this.showLogAmount)}}},FZ={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll"},BZ={class:"container-fluid d-flex h-100 w-100"},VZ={class:"m-auto mt-0 modal-dialog-centered dashboardModal",style:{width:"100%"}},WZ={class:"card rounded-3 shadow w-100"},zZ={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-0"},YZ={class:"mb-0"},HZ={class:"card-body px-4 pb-4 pt-2"},jZ={key:0},KZ={class:"mb-2 d-flex gap-3"},UZ={class:"d-flex gap-3 align-items-center"},GZ={class:"text-muted"},XZ={class:"form-check"},qZ={class:"form-check-label",for:"jobLogsShowSuccessCheck"},ZZ={class:"badge text-success-emphasis bg-success-subtle"},JZ={class:"form-check"},QZ={class:"form-check-label",for:"jobLogsShowFailedCheck"},eJ={class:"badge text-danger-emphasis bg-danger-subtle"},tJ={class:"d-flex gap-3 align-items-center ms-auto"},nJ={class:"text-muted"},iJ={class:"form-check"},sJ={class:"form-check-label",for:"jobLogsShowJobIDCheck"},rJ={class:"form-check"},oJ={class:"form-check-label",for:"jobLogsShowLogIDCheck"},aJ={class:"table"},lJ={scope:"col"},cJ={key:0,scope:"col"},uJ={key:1,scope:"col"},dJ={scope:"col"},hJ={scope:"col"},fJ={style:{"font-size":"0.875rem"}},gJ={scope:"row"},pJ={key:0},mJ={class:"text-muted"},_J={key:1},vJ={class:"text-muted"},yJ={class:"d-flex gap-2"},bJ={key:1,class:"d-flex align-items-center flex-column"};function wJ(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",FZ,[h("div",BZ,[h("div",VZ,[h("div",WZ,[h("div",zZ,[h("h4",YZ,[$(o,{t:"Jobs Logs"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[0]||(e[0]=a=>this.$emit("close"))})]),h("div",HZ,[this.dataLoading?(P(),F("div",bJ,e[11]||(e[11]=[h("div",{class:"spinner-border text-body",role:"status"},[h("span",{class:"visually-hidden"},"Loading...")],-1)]))):(P(),F("div",jZ,[h("p",null,[$(o,{t:"Updated at"}),Be(" : "+pe(this.logFetchTime),1)]),h("div",KZ,[h("button",{onClick:e[1]||(e[1]=a=>this.fetchLog()),class:"btn btn-sm rounded-3 shadow-sm text-info-emphasis bg-info-subtle border-1 border-info-subtle me-1"},[e[8]||(e[8]=h("i",{class:"bi bi-arrow-clockwise me-2"},null,-1)),$(o,{t:"Refresh"})]),h("div",UZ,[h("span",GZ,[$(o,{t:"Filter"})]),h("div",XZ,[Re(h("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=a=>this.showSuccessJob=a),id:"jobLogsShowSuccessCheck"},null,512),[[Gn,this.showSuccessJob]]),h("label",qZ,[h("span",ZZ,[$(o,{t:"Success"})])])]),h("div",JZ,[Re(h("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=a=>this.showFailedJob=a),id:"jobLogsShowFailedCheck"},null,512),[[Gn,this.showFailedJob]]),h("label",QZ,[h("span",eJ,[$(o,{t:"Failed"})])])])]),h("div",tJ,[h("span",nJ,[$(o,{t:"Display"})]),h("div",iJ,[Re(h("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=a=>s.showJobID=a),id:"jobLogsShowJobIDCheck"},null,512),[[Gn,s.showJobID]]),h("label",sJ,[$(o,{t:"Job ID"})])]),h("div",rJ,[Re(h("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=a=>s.showLogID=a),id:"jobLogsShowLogIDCheck"},null,512),[[Gn,s.showLogID]]),h("label",oJ,[$(o,{t:"Log ID"})])])])]),h("table",aJ,[h("thead",null,[h("tr",null,[h("th",lJ,[$(o,{t:"Date"})]),s.showLogID?(P(),F("th",cJ,[$(o,{t:"Log ID"})])):se("",!0),s.showJobID?(P(),F("th",uJ,[$(o,{t:"Job ID"})])):se("",!0),h("th",dJ,[$(o,{t:"Status"})]),h("th",hJ,[$(o,{t:"Message"})])])]),h("tbody",null,[(P(!0),F(Ie,null,Ge(this.showLogs,a=>(P(),F("tr",fJ,[h("th",gJ,pe(a.LogDate),1),s.showLogID?(P(),F("td",pJ,[h("samp",mJ,pe(a.LogID),1)])):se("",!0),s.showJobID?(P(),F("td",_J,[h("samp",vJ,pe(a.JobID),1)])):se("",!0),h("td",null,[h("span",{class:Ee(["badge",[a.Status==="1"?"text-success-emphasis bg-success-subtle":"text-danger-emphasis bg-danger-subtle"]])},pe(a.Status==="1"?"Success":"Failed"),3)]),h("td",null,pe(a.Message),1)]))),256))])]),h("div",yJ,[this.getLogs.length>this.showLogAmount?(P(),F("button",{key:0,onClick:e[6]||(e[6]=a=>this.showLogAmount+=20),class:"btn btn-sm rounded-3 shadow-sm text-primary-emphasis bg-primary-subtle border-1 border-primary-subtle"},e[9]||(e[9]=[h("i",{class:"bi bi-chevron-down me-2"},null,-1),Be(" Show More ")]))):se("",!0),this.showLogAmount>20?(P(),F("button",{key:1,onClick:e[7]||(e[7]=a=>this.showLogAmount=20),class:"btn btn-sm rounded-3 shadow-sm text-primary-emphasis bg-primary-subtle border-1 border-primary-subtle"},e[10]||(e[10]=[h("i",{class:"bi bi-chevron-up me-2"},null,-1),Be(" Collapse ")]))):se("",!0)])]))])])])])])}const xJ=ze(NZ,[["render",wJ]]),EJ={name:"peerShareLinkModal",props:{peer:Object},components:{LocaleText:Le,VueDatePicker:ju},data(){return{dataCopy:void 0,loading:!1}},setup(){return{store:Xe()}},mounted(){this.dataCopy=JSON.parse(JSON.stringify(this.peer.ShareLink)).at(0)},watch:{"peer.ShareLink":{deep:!0,handler(t,e){e.length!==t.length&&(this.dataCopy=JSON.parse(JSON.stringify(this.peer.ShareLink)).at(0))}}},methods:{startSharing(){this.loading=!0,dt("/api/sharePeer/create",{Configuration:this.peer.configuration.Name,Peer:this.peer.id,ExpireDate:Fn().add(7,"d").format("YYYY-MM-DD HH:mm:ss")},t=>{t.status?(this.peer.ShareLink=t.data,this.dataCopy=t.data.at(0)):this.store.newMessage("Server","Share link failed to create. Reason: "+t.message,"danger"),this.loading=!1})},updateLinkExpireDate(){dt("/api/sharePeer/update",this.dataCopy,t=>{t.status?(this.dataCopy=t.data.at(0),this.peer.ShareLink=t.data,this.store.newMessage("Server","Link expire date updated","success")):this.store.newMessage("Server","Link expire date failed to update. Reason: "+t.message,"danger"),this.loading=!1})},stopSharing(){this.loading=!0,this.dataCopy.ExpireDate=Fn().format("YYYY-MM-DD HH:mm:ss"),this.updateLinkExpireDate()},parseTime(t){t?this.dataCopy.ExpireDate=Fn(t).format("YYYY-MM-DD HH:mm:ss"):this.dataCopy.ExpireDate=void 0,this.updateLinkExpireDate()}},computed:{getUrl(){const t=this.store.getActiveCrossServer();return t?`${t.host}/${this.$router.resolve({path:"/share",query:{ShareID:this.dataCopy.ShareID}}).href}`:window.location.origin+window.location.pathname+this.$router.resolve({path:"/share",query:{ShareID:this.dataCopy.ShareID}}).href}}},CJ={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll"},SJ={class:"container d-flex h-100 w-100"},kJ={class:"m-auto modal-dialog-centered dashboardModal",style:{width:"500px"}},TJ={class:"card rounded-3 shadow flex-grow-1"},AJ={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4"},PJ={class:"mb-0"},MJ={key:0,class:"card-body px-4 pb-4"},IJ={key:0},DJ={class:"mb-3 text-muted"},RJ=["disabled"],$J={key:1},LJ={class:"d-flex gap-2 mb-4"},OJ=["href"],NJ={class:"d-flex flex-column gap-2 mb-3"},FJ=["disabled"];function BJ(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("VueDatePicker");return P(),F("div",CJ,[h("div",SJ,[h("div",kJ,[h("div",TJ,[h("div",AJ,[h("h4",PJ,[$(o,{t:"Share Peer"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:e[0]||(e[0]=l=>this.$emit("close"))})]),this.peer.ShareLink?(P(),F("div",MJ,[this.dataCopy?(P(),F("div",$J,[h("div",LJ,[e[4]||(e[4]=h("i",{class:"bi bi-link-45deg"},null,-1)),h("a",{href:this.getUrl,class:"text-decoration-none",target:"_blank"},pe(r.getUrl),9,OJ)]),h("div",NJ,[h("small",null,[e[5]||(e[5]=h("i",{class:"bi bi-calendar me-2"},null,-1)),$(o,{t:"Expire At"})]),$(a,{is24:!0,"min-date":new Date,"model-value":this.dataCopy.ExpireDate,"onUpdate:modelValue":this.parseTime,"time-picker-inline":"",format:"yyyy-MM-dd HH:mm:ss","preview-format":"yyyy-MM-dd HH:mm:ss",dark:this.store.Configuration.Server.dashboard_theme==="dark"},null,8,["min-date","model-value","onUpdate:modelValue","dark"])]),h("button",{onClick:e[2]||(e[2]=l=>this.stopSharing()),disabled:this.loading,class:"w-100 btn bg-danger-subtle text-danger-emphasis border-1 border-danger-subtle rounded-3 shadow-sm"},[h("span",{class:Ee({"animate__animated animate__flash animate__infinite animate__slower":this.loading})},e[6]||(e[6]=[h("i",{class:"bi bi-send-slash-fill me-2"},null,-1)]),2),this.loading?(P(),Ce(o,{key:0,t:"Stop Sharing..."})):(P(),Ce(o,{key:1,t:"Stop Sharing"}))],8,FJ)])):(P(),F("div",IJ,[h("h6",DJ,[$(o,{t:"Currently the peer is not sharing"})]),h("button",{onClick:e[1]||(e[1]=l=>this.startSharing()),disabled:this.loading,class:"w-100 btn bg-success-subtle text-success-emphasis border-1 border-success-subtle rounded-3 shadow-sm"},[h("span",{class:Ee({"animate__animated animate__flash animate__infinite animate__slower":this.loading})},e[3]||(e[3]=[h("i",{class:"bi bi-send-fill me-2"},null,-1)]),2),this.loading?(P(),Ce(o,{key:0,t:"Sharing..."})):(P(),Ce(o,{key:1,t:"Start Sharing"}))],8,RJ)]))])):se("",!0)])])])])}const VJ=ze(EJ,[["render",BJ]]),WJ={class:"container d-flex h-100 w-100"},zJ={class:"m-auto modal-dialog-centered dashboardModal",style:{width:"700px"}},YJ={class:"card rounded-3 shadow flex-grow-1"},HJ={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4"},jJ={class:"mb-0"},KJ={class:"card-body px-4 pb-4"},UJ={class:"d-flex gap-2 flex-column"},GJ={class:"d-flex align-items-center"},XJ={class:"text-muted"},qJ={class:"ms-auto"},ZJ={class:"d-flex align-items-center"},JJ={class:"text-muted"},QJ={class:"ms-auto"},eQ={for:"configuration_private_key",class:"form-label d-flex"},tQ={class:"text-muted d-block"},nQ={class:"form-check form-switch ms-auto"},iQ=["disabled"],sQ={for:"configuration_ipaddress_cidr",class:"form-label"},rQ={class:"text-muted"},oQ=["disabled"],aQ={for:"configuration_listen_port",class:"form-label"},lQ={class:"text-muted"},cQ=["disabled"],uQ={for:"configuration_preup",class:"form-label"},dQ={class:"text-muted"},hQ=["disabled"],fQ={for:"configuration_predown",class:"form-label"},gQ={class:"text-muted"},pQ=["disabled"],mQ={for:"configuration_postup",class:"form-label"},_Q={class:"text-muted"},vQ=["disabled"],yQ={for:"configuration_postdown",class:"form-label"},bQ={class:"text-muted"},wQ=["disabled"],xQ={class:"d-flex align-items-center gap-2 mt-4"},EQ=["disabled"],CQ=["disabled"],SQ={__name:"editConfiguration",props:{configurationInfo:Object},emits:["changed","close"],setup(t,{emit:e}){const n=t,i=$n(),s=Xe(),r=me(!1),o=Ei(JSON.parse(JSON.stringify(n.configurationInfo))),a=me(!1),l=me(!1);me(!1);const c=Ei({PrivateKey:!0,IPAddress:!0,ListenPort:!0}),u=Bp("editConfigurationContainer"),d=()=>{i.checkWGKeyLength(o.PrivateKey)?(c.PrivateKey=!0,o.PublicKey=window.wireguard.generatePublicKey(o.PrivateKey)):c.PrivateKey=!1},f=()=>{l.value=!1,Object.assign(o,JSON.parse(JSON.stringify(n.configurationInfo)))},g=e,p=()=>{r.value=!0,dt("/api/updateWireguardConfiguration",o,m=>{r.value=!1,m.status?(s.newMessage("Server","Configuration saved","success"),l.value=!1,g("dataChanged",m.data)):s.newMessage("Server",m.message,"danger")})};return jt(o,()=>{l.value=JSON.stringify(o)!==JSON.stringify(n.configurationInfo)},{deep:!0}),me(!1),(m,v)=>(P(),F("div",{class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll",ref_key:"editConfigurationContainer",ref:u},[h("div",WJ,[h("div",zJ,[h("div",YJ,[h("div",HJ,[h("h4",jJ,[$(Le,{t:"Configuration Settings"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:v[0]||(v[0]=y=>m.$emit("close"))})]),h("div",KJ,[h("div",UJ,[h("div",GJ,[h("small",XJ,[$(Le,{t:"Name"})]),h("small",qJ,[h("samp",null,pe(o.Name),1)])]),h("div",ZJ,[h("small",JJ,[$(Le,{t:"Public Key"})]),h("small",QJ,[h("samp",null,pe(o.PublicKey),1)])]),v[15]||(v[15]=h("hr",null,null,-1)),h("div",null,[h("label",eQ,[h("small",tQ,[$(Le,{t:"Private Key"})]),h("div",nQ,[Re(h("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"editPrivateKeySwitch","onUpdate:modelValue":v[1]||(v[1]=y=>a.value=y)},null,512),[[Gn,a.value]]),v[12]||(v[12]=h("label",{class:"form-check-label",for:"editPrivateKeySwitch"},[h("small",null,"Edit")],-1))])]),Re(h("input",{type:"text",class:Ee(["form-control form-control-sm rounded-3",{"is-invalid":!c.PrivateKey}]),disabled:r.value||!a.value,onKeyup:v[2]||(v[2]=y=>d()),"onUpdate:modelValue":v[3]||(v[3]=y=>o.PrivateKey=y),id:"configuration_private_key"},null,42,iQ),[[We,o.PrivateKey]])]),h("div",null,[h("label",sQ,[h("small",rQ,[$(Le,{t:"IP Address/CIDR"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:r.value,"onUpdate:modelValue":v[4]||(v[4]=y=>o.Address=y),id:"configuration_ipaddress_cidr"},null,8,oQ),[[We,o.Address]])]),h("div",null,[h("label",aQ,[h("small",lQ,[$(Le,{t:"Listen Port"})])]),Re(h("input",{type:"number",class:"form-control form-control-sm rounded-3",disabled:r.value,"onUpdate:modelValue":v[5]||(v[5]=y=>o.ListenPort=y),id:"configuration_listen_port"},null,8,cQ),[[We,o.ListenPort]])]),h("div",null,[h("label",uQ,[h("small",dQ,[$(Le,{t:"PreUp"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:r.value,"onUpdate:modelValue":v[6]||(v[6]=y=>o.PreUp=y),id:"configuration_preup"},null,8,hQ),[[We,o.PreUp]])]),h("div",null,[h("label",fQ,[h("small",gQ,[$(Le,{t:"PreDown"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:r.value,"onUpdate:modelValue":v[7]||(v[7]=y=>o.PreDown=y),id:"configuration_predown"},null,8,pQ),[[We,o.PreDown]])]),h("div",null,[h("label",mQ,[h("small",_Q,[$(Le,{t:"PostUp"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:r.value,"onUpdate:modelValue":v[8]||(v[8]=y=>o.PostUp=y),id:"configuration_postup"},null,8,vQ),[[We,o.PostUp]])]),h("div",null,[h("label",yQ,[h("small",bQ,[$(Le,{t:"PostDown"})])]),Re(h("input",{type:"text",class:"form-control form-control-sm rounded-3",disabled:r.value,"onUpdate:modelValue":v[9]||(v[9]=y=>o.PostDown=y),id:"configuration_postdown"},null,8,wQ),[[We,o.PostDown]])]),h("div",xQ,[h("button",{class:"btn bg-secondary-subtle border-secondary-subtle text-secondary-emphasis rounded-3 shadow ms-auto",onClick:v[10]||(v[10]=y=>f()),disabled:!l.value||r.value},v[13]||(v[13]=[h("i",{class:"bi bi-arrow-clockwise"},null,-1)]),8,EQ),h("button",{class:"btn bg-primary-subtle border-primary-subtle text-primary-emphasis rounded-3 shadow",disabled:!l.value||r.value,onClick:v[11]||(v[11]=y=>p())},v[14]||(v[14]=[h("i",{class:"bi bi-save-fill"},null,-1)]),8,CQ)])])])])])])],512))}},kQ={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll",ref:"selectPeersContainer"},TQ={class:"container d-flex h-100 w-100"},AQ={class:"m-auto modal-dialog-centered dashboardModal",style:{width:"700px"}},PQ={class:"card rounded-3 shadow flex-grow-1"},MQ={class:"card-header bg-transparent d-flex align-items-center gap-2 p-4 flex-column pb-3"},IQ={class:"mb-2 w-100 d-flex"},DQ={class:"mb-0"},RQ={class:"d-flex w-100 align-items-center gap-2"},$Q={class:"d-flex gap-3"},LQ={class:"card-body px-4 flex-grow-1 d-flex gap-2 flex-column position-relative",ref:"card-body",style:{"overflow-y":"scroll"}},OQ=["onClick","disabled","data-id"],NQ={class:"d-flex align-items-center gap-3"},FQ={key:0},BQ={class:"d-flex flex-column"},VQ={class:"fw-bold"},WQ={class:"text-muted"},zQ={key:1,class:"ms-auto"},YQ={key:0,class:"spinner-border spinner-border-sm",role:"status"},HQ={class:"card-footer px-4 py-3 gap-2 d-flex align-items-center"},jQ=["disabled"],KQ={key:0,class:"flex-grow-1 text-center"},UQ=["disabled"],GQ={key:0,class:"flex-grow-1 text-center"},XQ=["disabled"],qQ={key:0,class:"flex-grow-1 text-center"},ZQ=["disabled"],JQ={__name:"selectPeers",props:{configurationPeers:Array},emits:["refresh","close"],setup(t,{emit:e}){const n=t,i=me(!1),s=me(!1),r=me([]),o=me(""),a=E=>{r.value.find(w=>w===E)?r.value=r.value.filter(w=>w!==E):r.value.push(E)},l=ve(()=>i.value||s.value?n.configurationPeers.filter(E=>r.value.find(w=>w===E.id)):o.value.length>0?n.configurationPeers.filter(E=>E.id.includes(o.value)||E.name.includes(o.value)):n.configurationPeers);jt(r,()=>{r.value.length===0&&(i.value=!1,s.value=!1)});const c=Wu(),u=Xe(),d=e,f=me(!1),g=()=>{f.value=!0,dt(`/api/deletePeers/${c.params.id}`,{peers:r.value},E=>{u.newMessage("Server",E.message,E.status?"success":"danger"),E.status&&(r.value=[],i.value=!1),d("refresh"),f.value=!1})},p=Ei({success:[],failed:[]}),m=Bp("card-body"),v=Bp("sp"),y=async()=>{s.value=!0;for(const E of r.value)m.value.scrollTo({top:v.value.find(w=>w.dataset.id===E).offsetTop-20,behavior:"smooth"}),await Pt("/api/downloadPeer/"+c.params.id,{id:E},w=>{if(w.status){const b=new Blob([w.data.file],{type:"text/plain"}),C=URL.createObjectURL(b),k=`${w.data.fileName}.conf`,T=document.createElement("a");T.href=C,T.download=k,T.click(),p.success.push(E)}else p.failed.push(E)})},x=()=>{p.success=[],p.failed=[],s.value=!1};return(E,w)=>(P(),F("div",kQ,[h("div",TQ,[h("div",AQ,[h("div",PQ,[h("div",MQ,[h("div",IQ,[h("h4",DQ,[$(Le,{t:"Select Peers"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:w[0]||(w[0]=b=>d("close"))})]),h("div",RQ,[h("div",$Q,[s.value?se("",!0):(P(),F("a",{key:0,role:"button",onClick:w[1]||(w[1]=b=>r.value=t.configurationPeers.map(C=>C.id)),class:"text-decoration-none text-body"},w[9]||(w[9]=[h("small",null,[h("i",{class:"bi bi-check-all me-2"}),Be("Select All ")],-1)]))),r.value.length>0&&!s.value?(P(),F("a",{key:1,role:"button",class:"text-decoration-none text-body",onClick:w[2]||(w[2]=b=>r.value=[])},w[10]||(w[10]=[h("small",null,[h("i",{class:"bi bi-x-circle-fill me-2"}),Be("Clear ")],-1)]))):se("",!0)]),w[11]||(w[11]=h("label",{class:"ms-auto",for:"selectPeersSearchInput"},[h("i",{class:"bi bi-search"})],-1)),Re(h("input",{class:"form-control form-control-sm rounded-3","onUpdate:modelValue":w[3]||(w[3]=b=>o.value=b),id:"selectPeersSearchInput",style:{width:"200px !important"},type:"text"},null,512),[[We,o.value]])])]),h("div",LQ,[(P(!0),F(Ie,null,Ge(l.value,b=>(P(),F("button",{type:"button",class:Ee(["btn w-100 peerBtn text-start rounded-3",{active:r.value.find(C=>C===b.id)}]),onClick:C=>a(b.id),key:b.id,disabled:i.value||s.value,ref_for:!0,ref:"sp","data-id":b.id},[h("div",NQ,[s.value?se("",!0):(P(),F("span",FQ,[h("i",{class:Ee(["bi",[r.value.find(C=>C===b.id)?"bi-check-circle-fill":"bi-circle"]])},null,2)])),h("div",BQ,[h("small",VQ,pe(b.name?b.name:"Untitled Peer"),1),h("small",WQ,[h("samp",null,pe(b.id),1)])]),s.value?(P(),F("span",zQ,[!p.success.find(C=>C===b.id)&&!p.failed.find(C=>C===b.id)?(P(),F("div",YQ,w[12]||(w[12]=[h("span",{class:"visually-hidden"},"Loading...",-1)]))):(P(),F("i",{key:1,class:Ee(["bi",[p.failed.find(C=>C===b.id)?"bi-x-circle-fill":"bi-check-circle-fill"]])},null,2))])):se("",!0)])],10,OQ))),128))],512),h("div",HQ,[!i.value&&!s.value?(P(),F(Ie,{key:0},[h("button",{class:"btn bg-primary-subtle text-primary-emphasis border-primary-subtle rounded-3",disabled:r.value.length===0||f.value,onClick:w[4]||(w[4]=b=>y())},w[13]||(w[13]=[h("i",{class:"bi bi-download"},null,-1)]),8,jQ),r.value.length>0?(P(),F("span",KQ,[w[14]||(w[14]=h("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),Be(" "+pe(r.value.length)+" Peer"+pe(r.value.length>1?"s":""),1)])):se("",!0),h("button",{class:"btn bg-danger-subtle text-danger-emphasis border-danger-subtle ms-auto rounded-3",onClick:w[5]||(w[5]=b=>i.value=!0),disabled:r.value.length===0||f.value},w[15]||(w[15]=[h("i",{class:"bi bi-trash"},null,-1)]),8,UQ)],64)):s.value?(P(),F(Ie,{key:1},[p.failed.length+p.success.length<r.value.length?(P(),F("strong",GQ," Downloading "+pe(r.value.length)+" Peer"+pe(r.value.length>1?"s":"")+"... ",1)):(P(),F(Ie,{key:1},[w[16]||(w[16]=h("strong",null," Download Finished ",-1)),h("button",{onClick:w[6]||(w[6]=b=>x()),class:"btn bg-secondary-subtle text-secondary-emphasis border border-secondary-subtle rounded-3 ms-auto"}," Done ")],64))],64)):i.value?(P(),F(Ie,{key:2},[h("button",{class:"btn btn-danger rounded-3",disabled:r.value.length===0||f.value,onClick:w[7]||(w[7]=b=>g())}," Yes ",8,XQ),r.value.length>0?(P(),F("strong",qQ," Are you sure to delete "+pe(r.value.length)+" Peer"+pe(r.value.length>1?"s":"")+"? ",1)):se("",!0),h("button",{class:"btn bg-secondary-subtle text-secondary-emphasis border border-secondary-subtle ms-auto rounded-3",disabled:r.value.length===0||f.value,onClick:w[8]||(w[8]=b=>i.value=!1)}," No ",8,ZQ)],64)):se("",!0)])])])])],512))}},QQ=ze(JQ,[["__scopeId","data-v-8e40593b"]]),eee={class:"card my-0 rounded-3"},tee={class:"card-body position-relative"},nee={key:0,class:"position-absolute w-100 h-100 confirmationContainer start-0 top-0 rounded-3 d-flex p-2"},iee={class:"m-auto"},see={class:"d-flex gap-2 align-items-center justify-content-center"},ree=["disabled"],oee=["disabled"],aee={key:0,class:"position-absolute w-100 h-100 confirmationContainer start-0 top-0 rounded-3 d-flex p-2"},lee={class:"m-auto"},cee={class:"d-flex gap-2 align-items-center justify-content-center"},uee=["disabled"],dee=["disabled"],hee={class:"d-flex gap-3"},fee={class:"d-flex flex-column"},gee={class:"d-flex flex-column"},pee={class:"d-flex gap-2 align-items-center ms-auto"},mee={class:"card rounded-3"},_ee={key:0,class:"card-body"},vee=["value"],yee={class:"d-flex"},bee={__name:"backup",props:["b","delay"],emits:["refresh","refreshPeersList"],setup(t,{emit:e}){oC(g=>({df360394:d.value}));const n=t,i=me(!1),s=me(!1),r=Wu(),o=e,a=Xe(),l=me(!1),c=()=>{l.value=!0,dt("/api/deleteWireguardConfigurationBackup",{configurationName:r.params.id,backupFileName:n.b.filename},g=>{l.value=!1,g.status?(o("refresh"),a.newMessage("Server","Backup deleted","success")):a.newMessage("Server","Backup failed to delete","danger")})},u=()=>{l.value=!0,dt("/api/restoreWireguardConfigurationBackup",{configurationName:r.params.id,backupFileName:n.b.filename},g=>{l.value=!1,s.value=!1,g.status?(o("refresh"),a.newMessage("Server","Backup restored with "+n.b.filename,"success")):a.newMessage("Server","Backup failed to restore","danger")})},d=ve(()=>n.delay+"s"),f=me(!1);return(g,p)=>(P(),F("div",eee,[h("div",tee,[$(vt,{name:"zoomReversed"},{default:Pe(()=>[i.value?(P(),F("div",nee,[h("div",iee,[p[7]||(p[7]=h("h5",null,"Are you sure to delete this backup?",-1)),h("div",see,[h("button",{class:"btn btn-danger rounded-3",disabled:l.value,onClick:p[0]||(p[0]=m=>c())}," Yes ",8,ree),h("button",{onClick:p[1]||(p[1]=m=>i.value=!1),disabled:l.value,class:"btn bg-secondary-subtle text-secondary-emphasis border-secondary-subtle rounded-3"}," No ",8,oee)])])])):se("",!0)]),_:1}),$(vt,{name:"zoomReversed"},{default:Pe(()=>[s.value?(P(),F("div",aee,[h("div",lee,[p[8]||(p[8]=h("h5",null,"Are you sure to restore this backup?",-1)),h("div",cee,[h("button",{disabled:l.value,onClick:p[2]||(p[2]=m=>u()),class:"btn btn-success rounded-3"}," Yes ",8,uee),h("button",{onClick:p[3]||(p[3]=m=>s.value=!1),disabled:l.value,class:"btn bg-secondary-subtle text-secondary-emphasis border-secondary-subtle rounded-3"}," No ",8,dee)])])])):se("",!0)]),_:1}),h("div",hee,[h("div",fee,[p[9]||(p[9]=h("small",{class:"text-muted"}," Backup ",-1)),h("samp",null,pe(t.b.filename),1)]),h("div",gee,[p[10]||(p[10]=h("small",{class:"text-muted"}," Backup Date ",-1)),Be(" "+pe(Z(Fn)(t.b.backupDate,"YYYYMMDDHHmmss").format("YYYY-MM-DD HH:mm:ss")),1)]),h("div",pee,[h("button",{onClick:p[4]||(p[4]=m=>s.value=!0),class:"btn bg-warning-subtle text-warning-emphasis border-warning-subtle rounded-3 btn-sm"},p[11]||(p[11]=[h("i",{class:"bi bi-clock-history"},null,-1)])),h("button",{onClick:p[5]||(p[5]=m=>i.value=!0),class:"btn bg-danger-subtle text-danger-emphasis border-danger-subtle rounded-3 btn-sm"},p[12]||(p[12]=[h("i",{class:"bi bi-trash-fill"},null,-1)]))])]),p[15]||(p[15]=h("hr",null,null,-1)),h("div",mee,[h("a",{role:"button",class:Ee(["card-header d-flex text-decoration-none align-items-center",{"border-bottom-0":!f.value}]),style:{cursor:"pointer"},onClick:p[6]||(p[6]=m=>f.value=!f.value)},p[13]||(p[13]=[h("small",null,".conf File ",-1),h("i",{class:"bi bi-chevron-down ms-auto"},null,-1)]),2),f.value?(P(),F("div",_ee,[h("textarea",{class:"form-control rounded-3",value:t.b.content,disabled:"",style:{height:"300px","font-family":"var(--bs-font-monospace),sans-serif !important"}},null,8,vee)])):se("",!0)]),p[16]||(p[16]=h("hr",null,null,-1)),h("div",yee,[p[14]||(p[14]=h("span",null,[h("i",{class:"bi bi-database me-1"}),Be(" Database ")],-1)),h("i",{class:Ee(["bi ms-auto",[t.b.database?"text-success bi-check-circle-fill":"text-danger bi-x-circle-fill"]])},null,2)])])]))}},wee=ze(bee,[["__scopeId","data-v-61688b74"]]),xee={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll",ref:"editConfigurationContainer"},Eee={class:"d-flex h-100 w-100"},Cee={class:"modal-dialog-centered dashboardModal w-100 h-100 overflow-x-scroll flex-column gap-3 mx-3"},See={class:"my-5 d-flex gap-3 flex-column position-relative"},kee={class:"title"},Tee={class:"d-flex mb-3"},Aee={class:"mb-0"},Pee={class:"position-relative d-flex flex-column gap-3"},Mee={class:"text-center title",key:"spinner"},Iee={class:"card my-0 rounded-3",key:"noBackups"},Dee={__name:"configurationBackupRestore",emits:["close","refreshPeersList"],setup(t,{emit:e}){const n=Wu(),i=me([]),s=me(!0),r=e;Vt(()=>{o()});const o=()=>{s.value=!0,Pt("/api/getWireguardConfigurationBackup",{configurationName:n.params.id},l=>{i.value=l.data,s.value=!1})},a=()=>{Pt("/api/createWireguardConfigurationBackup",{configurationName:n.params.id},l=>{i.value=l.data,s.value=!1})};return(l,c)=>(P(),F("div",xee,[h("div",Eee,[h("div",Cee,[h("div",See,[h("div",kee,[h("div",Tee,[h("h4",Aee,[$(Le,{t:"Backup & Restore"})]),h("button",{type:"button",class:"btn-close ms-auto",onClick:c[0]||(c[0]=u=>l.$emit("close"))})]),h("button",{onClick:c[1]||(c[1]=u=>a()),class:"btn bg-primary-subtle text-primary-emphasis border-primary-subtle rounded-3 w-100"},c[4]||(c[4]=[h("i",{class:"bi bi-plus-circle-fill me-2"},null,-1),Be(" Create Backup ")]))]),h("div",Pee,[$(vo,{name:"list1"},{default:Pe(()=>[s.value&&i.value.length===0?(P(),F("div",Mee,c[5]||(c[5]=[h("div",{class:"spinner-border"},null,-1)]))):!s.value&&i.value.length===0?(P(),F("div",Iee,c[6]||(c[6]=[h("div",{class:"card-body text-center text-muted"},[h("i",{class:"bi bi-x-circle-fill me-2"}),Be(" No backup yet, click the button above to create backup. ")],-1)]))):se("",!0),(P(!0),F(Ie,null,Ge(i.value,(u,d)=>(P(),Ce(wee,{onRefresh:c[2]||(c[2]=f=>o()),onRefreshPeersList:c[3]||(c[3]=f=>r("refreshPeersList")),b:u,delay:d*.05,key:u.filename},null,8,["b","delay"]))),128))]),_:1})])])])])],512))}},Ree=ze(Dee,[["__scopeId","data-v-b454707b"]]),$ee={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll"},Lee={class:"container d-flex h-100 w-100"},Oee={class:"m-auto modal-dialog-centered dashboardModal",style:{width:"700px"}},Nee={class:"card rounded-3 shadow flex-grow-1 bg-danger-subtle border-danger-subtle",id:"deleteConfigurationContainer"},Fee={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-0"},Bee={class:"card-body px-4"},Vee={key:0},Wee={key:1},zee={key:2,class:"d-flex align-items-center gap-2"},Yee=["placeholder"],Hee=["disabled"],jee={__name:"deleteConfiguration",emits:["backup"],setup(t,{emit:e}){const i=Wu().params.id,s=me(""),r=IC(),o=Xe(),a=me(!1),l=()=>{clearInterval(o.Peers.RefreshInterval),a.value=!0,dt("/api/deleteWireguardConfiguration",{Name:i},g=>{g.status?(r.push("/"),o.newMessage("Server","Configuration deleted","success")):a.value=!1})},c=me(!0),u=me([]),d=()=>{c.value=!0,Pt("/api/getWireguardConfigurationBackup",{configurationName:i},g=>{u.value=g.data,c.value=!1})};Vt(()=>{d()});const f=e;return(g,p)=>(P(),F("div",$ee,[h("div",Lee,[h("div",Oee,[h("div",Nee,[h("div",Fee,[p[5]||(p[5]=h("h5",{class:"mb-0"}," Are you sure to delete this configuration? ",-1)),h("button",{type:"button",class:"btn-close ms-auto",onClick:p[0]||(p[0]=m=>g.$emit("close"))})]),h("div",Bee,[p[12]||(p[12]=h("p",{class:"text-muted"},[Be(" Once you deleted, all connected peers will get disconnected; Both configuration file ("),h("code",null,".conf"),Be(") and database table related to this configuration will get deleted. ")],-1)),h("div",{class:Ee(["alert",[c.value?"alert-secondary":u.value.length>0?"alert-success":"alert-danger"]])},[c.value?(P(),F("div",Vee,[p[6]||(p[6]=h("i",{class:"bi bi-search me-2"},null,-1)),$(Le,{t:"Checking backups..."})])):u.value.length>0?(P(),F("div",Wee,[p[7]||(p[7]=h("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),$(Le,{t:"This configuration have "+u.value.length+" backups"},null,8,["t"])])):(P(),F("div",zee,[p[10]||(p[10]=h("i",{class:"bi bi-x-circle-fill me-2"},null,-1)),$(Le,{t:"This configuration have no backup."}),h("a",{role:"button",onClick:p[1]||(p[1]=m=>f("backup")),class:"ms-auto btn btn-sm btn-primary rounded-3"},p[8]||(p[8]=[h("i",{class:"bi bi-clock-history me-2"},null,-1),Be(" Backup ")])),h("a",{role:"button",onClick:p[2]||(p[2]=m=>d()),class:"btn btn-sm btn-primary rounded-3"},p[9]||(p[9]=[h("i",{class:"bi bi-arrow-clockwise"},null,-1)]))]))],2),p[13]||(p[13]=h("hr",null,null,-1)),p[14]||(p[14]=h("p",null,"If you're sure, please type in the configuration name below and click Delete.",-1)),Re(h("input",{class:"form-control rounded-3 mb-3",placeholder:Z(i),"onUpdate:modelValue":p[3]||(p[3]=m=>s.value=m),type:"text"},null,8,Yee),[[We,s.value]]),h("button",{class:"btn btn-danger w-100",onClick:p[4]||(p[4]=m=>l()),disabled:s.value!==Z(i)||a.value},p[11]||(p[11]=[h("i",{class:"bi bi-trash-fill me-2 rounded-3"},null,-1),Be(" Delete ")]),8,Hee)])])])])]))}};Df.register(kK,Rf,zK,OK,rk,rj,ok,ak,lj,aj,cj,uj,DU,$U,NU,ZU,_m,tG,KK,hU,vU,bU,AU);const Kee={name:"peerList",components:{DeleteConfiguration:jee,ConfigurationBackupRestore:Ree,SelectPeers:QQ,EditConfiguration:SQ,LocaleText:Le,PeerShareLinkModal:VJ,PeerJobsLogsModal:xJ,PeerJobsAllModal:OZ,PeerJobs:mZ,PeerCreate:nT,PeerQRCode:H9,PeerSettings:K7,PeerSearch:fz,Peer:Xz,Line:uG,Bar:cG},setup(){const t=Xe(),e=$n(),n=me(void 0);return{dashboardConfigurationStore:t,wireguardConfigurationStore:e,interval:n}},data(){return{configurationToggling:!1,loading:!1,error:null,configurationInfo:[],configurationPeers:[],historyDataSentDifference:[],historyDataReceivedDifference:[],historySentData:{labels:[],datasets:[{label:"Data Sent",data:[],fill:!1,borderColor:"#198754",tension:0}]},historyReceiveData:{labels:[],datasets:[{label:"Data Received",data:[],fill:!1,borderColor:"#0d6efd",tension:0}]},peerSetting:{modalOpen:!1,selectedPeer:void 0},peerScheduleJobs:{modalOpen:!1,selectedPeer:void 0},peerQRCode:{modalOpen:!1,peerConfigData:void 0},peerCreate:{modalOpen:!1},peerScheduleJobsAll:{modalOpen:!1},peerScheduleJobsLogs:{modalOpen:!1},peerShare:{modalOpen:!1,selectedPeer:void 0},editConfiguration:{modalOpen:!1},selectPeers:{modalOpen:!1},backupRestore:{modalOpen:!1},deleteConfiguration:{modalOpen:!1}}},mounted(){},watch:{$route:{immediate:!0,handler(){clearInterval(this.dashboardConfigurationStore.Peers.RefreshInterval),this.loading=!0;let t=this.$route.params.id;this.configurationInfo=[],this.configurationPeers=[],t&&(this.getPeers(t),this.setPeerInterval())}},"dashboardConfigurationStore.Configuration.Server.dashboard_refresh_interval"(){clearInterval(this.dashboardConfigurationStore.Peers.RefreshInterval),this.setPeerInterval()}},beforeRouteLeave(){clearInterval(this.dashboardConfigurationStore.Peers.RefreshInterval)},methods:{toggle(){this.configurationToggling=!0,Pt("/api/toggleWireguardConfiguration/",{configurationName:this.configurationInfo.Name},t=>{t.status?this.dashboardConfigurationStore.newMessage("Server",`${this.configurationInfo.Name} ${t.data?"is on":"is off"}`,"success"):this.dashboardConfigurationStore.newMessage("Server",t.message,"danger"),this.configurationInfo.Status=t.data,this.configurationToggling=!1})},getPeers(t=this.$route.params.id){Pt("/api/getWireguardConfigurationInfo",{configurationName:t},e=>{if(this.configurationInfo=e.data.configurationInfo,this.configurationPeers=e.data.configurationPeers,this.configurationPeers.forEach(n=>{n.restricted=!1}),e.data.configurationRestrictedPeers.forEach(n=>{n.restricted=!0,this.configurationPeers.push(n)}),this.loading=!1,this.configurationPeers.length>0){const n=this.configurationPeers.map(s=>s.total_sent+s.cumu_sent).reduce((s,r)=>s+r).toFixed(4),i=this.configurationPeers.map(s=>s.total_receive+s.cumu_receive).reduce((s,r)=>s+r).toFixed(4);this.historyDataSentDifference[this.historyDataSentDifference.length-1]!==n&&(this.historyDataSentDifference.length>0&&(this.historySentData={labels:[...this.historySentData.labels,Fn().format("HH:mm:ss A")],datasets:[{label:"Data Sent",data:[...this.historySentData.datasets[0].data,((n-this.historyDataSentDifference[this.historyDataSentDifference.length-1])*1e3).toFixed(4)],fill:!1,borderColor:"#198754",tension:0}]}),this.historyDataSentDifference.push(n)),this.historyDataReceivedDifference[this.historyDataReceivedDifference.length-1]!==i&&(this.historyDataReceivedDifference.length>0&&(this.historyReceiveData={labels:[...this.historyReceiveData.labels,Fn().format("HH:mm:ss A")],datasets:[{label:"Data Received",data:[...this.historyReceiveData.datasets[0].data,((i-this.historyDataReceivedDifference[this.historyDataReceivedDifference.length-1])*1e3).toFixed(4)],fill:!1,borderColor:"#0d6efd",tension:0}]}),this.historyDataReceivedDifference.push(i))}})},setPeerInterval(){this.dashboardConfigurationStore.Peers.RefreshInterval=setInterval(()=>{this.getPeers()},parseInt(this.dashboardConfigurationStore.Configuration.Server.dashboard_refresh_interval))}},computed:{configurationSummary(){return{connectedPeers:this.configurationPeers.filter(e=>e.status==="running").length,totalUsage:this.configurationPeers.length>0?this.configurationPeers.filter(e=>!e.restricted).map(e=>e.total_data+e.cumu_data).reduce((e,n)=>e+n,0).toFixed(4):0,totalReceive:this.configurationPeers.length>0?this.configurationPeers.filter(e=>!e.restricted).map(e=>e.total_receive+e.cumu_receive).reduce((e,n)=>e+n,0).toFixed(4):0,totalSent:this.configurationPeers.length>0?this.configurationPeers.filter(e=>!e.restricted).map(e=>e.total_sent+e.cumu_sent).reduce((e,n)=>e+n,0).toFixed(4):0}},receiveData(){return this.historyReceiveData},sentData(){return this.historySentData},individualDataUsage(){return{labels:this.configurationPeers.map(t=>t.name?t.name:`Untitled Peer - ${t.id}`),datasets:[{label:"Total Data Usage",data:this.configurationPeers.map(t=>t.cumu_data+t.total_data),backgroundColor:this.configurationPeers.map(t=>"#0dcaf0"),tooltip:{callbacks:{label:t=>`${t.formattedValue} GB`}}}]}},individualDataUsageChartOption(){return{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(t,e)=>`${t} GB`},grid:{display:!1}}}}},chartOptions(){return{responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:t=>`${t.formattedValue} MB/s`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(t,e)=>`${t} MB/s`},grid:{display:!1}}}}},searchPeers(){new Xl(this.configurationPeers,{keys:["name","id","allowed_ip"]});const t=this.wireguardConfigurationStore.searchString?this.configurationPeers.filter(e=>e.name.includes(this.wireguardConfigurationStore.searchString)||e.id.includes(this.wireguardConfigurationStore.searchString)||e.allowed_ip.includes(this.wireguardConfigurationStore.searchString)):this.configurationPeers;return this.dashboardConfigurationStore.Configuration.Server.dashboard_sort==="restricted"?t.slice().sort((e,n)=>e[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]<n[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]?1:e[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]>n[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]?-1:0):t.slice().sort((e,n)=>e[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]<n[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]?-1:e[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]>n[this.dashboardConfigurationStore.Configuration.Server.dashboard_sort]?1:0)}}},Uee={key:0,class:"container-md"},Gee={class:"d-flex align-items-center"},Xee={CLASS:"text-muted"},qee={class:"d-flex align-items-center gap-3"},Zee={class:"mb-0 display-4"},Jee={class:"card rounded-3 bg-transparent shadow-sm ms-auto"},Qee={class:"card-body py-2 d-flex align-items-center"},ete={class:"mb-0 text-muted"},tte={class:"form-check form-switch ms-auto"},nte=["for"],ite={key:4,class:"spinner-border spinner-border-sm ms-2","aria-hidden":"true"},ste=["disabled","id"],rte={class:"row mt-3 gy-2 gx-2 mb-2"},ote={class:"col-12 col-lg-3"},ate={class:"card rounded-3 bg-transparent shadow-sm"},lte={class:"card-body py-2"},cte={class:"mb-0 text-muted"},ute={class:"col-12 col-lg-3"},dte={class:"card rounded-3 bg-transparent shadow-sm"},hte={class:"card-body py-2"},fte={class:"mb-0 text-muted"},gte={style:{"word-break":"break-all"},class:"col-12 col-lg-6"},pte={class:"card rounded-3 bg-transparent shadow-sm"},mte={class:"card-body py-2"},_te={class:"mb-0 text-muted"},vte={class:"row gx-2 gy-2 mb-2"},yte={class:"col-12 col-lg-3"},bte={class:"card rounded-3 bg-transparent shadow-sm"},wte={class:"card-body d-flex"},xte={class:"mb-0 text-muted"},Ete={class:"h4"},Cte={class:"col-12 col-lg-3"},Ste={class:"card rounded-3 bg-transparent shadow-sm"},kte={class:"card-body d-flex"},Tte={class:"mb-0 text-muted"},Ate={class:"h4"},Pte={class:"col-12 col-lg-3"},Mte={class:"card rounded-3 bg-transparent shadow-sm"},Ite={class:"card-body d-flex"},Dte={class:"mb-0 text-muted"},Rte={class:"h4 text-primary"},$te={class:"col-12 col-lg-3"},Lte={class:"card rounded-3 bg-transparent shadow-sm"},Ote={class:"card-body d-flex"},Nte={class:"mb-0 text-muted"},Fte={class:"h4 text-success"},Bte={class:"row gx-2 gy-2 mb-3"},Vte={class:"col-12 col-lg-6"},Wte={class:"card rounded-3 bg-transparent shadow-sm",style:{height:"270px"}},zte={class:"card-header bg-transparent border-0"},Yte={class:"text-muted"},Hte={class:"card-body pt-1"},jte={class:"col-sm col-lg-3"},Kte={class:"card rounded-3 bg-transparent shadow-sm",style:{height:"270px"}},Ute={class:"card-header bg-transparent border-0"},Gte={class:"text-muted"},Xte={class:"card-body pt-1"},qte={class:"col-sm col-lg-3"},Zte={class:"card rounded-3 bg-transparent shadow-sm",style:{height:"270px"}},Jte={class:"card-header bg-transparent border-0"},Qte={class:"text-muted"},ene={class:"card-body pt-1"},tne={class:"mb-3"};function nne(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("Bar"),l=Se("Line"),c=Se("PeerSearch"),u=Se("Peer"),d=Se("PeerSettings"),f=Se("PeerQRCode"),g=Se("PeerJobs"),p=Se("PeerJobsAllModal"),m=Se("PeerJobsLogsModal"),v=Se("PeerShareLinkModal"),y=Se("EditConfiguration"),x=Se("SelectPeers"),E=Se("DeleteConfiguration"),w=Se("ConfigurationBackupRestore");return this.loading?se("",!0):(P(),F("div",Uee,[h("div",Gee,[h("div",null,[h("small",Xee,[$(o,{t:"CONFIGURATION"})]),h("div",qee,[h("h1",Zee,[h("samp",null,pe(this.configurationInfo.Name),1)])])]),h("div",Jee,[h("div",Qee,[h("div",null,[h("p",ete,[h("small",null,[$(o,{t:"Status"})])]),h("div",tte,[h("label",{class:"form-check-label",style:{cursor:"pointer"},for:"switch"+this.configurationInfo.id},[!this.configurationInfo.Status&&this.configurationToggling?(P(),Ce(o,{key:0,t:"Turning Off..."})):this.configurationInfo.Status&&this.configurationToggling?(P(),Ce(o,{key:1,t:"Turning On..."})):this.configurationInfo.Status&&!this.configurationToggling?(P(),Ce(o,{key:2,t:"On"})):!this.configurationInfo.Status&&!this.configurationToggling?(P(),Ce(o,{key:3,t:"Off"})):se("",!0),this.configurationToggling?(P(),F("span",ite)):se("",!0)],8,nte),Re(h("input",{class:"form-check-input",style:{cursor:"pointer"},disabled:this.configurationToggling,type:"checkbox",role:"switch",id:"switch"+this.configurationInfo.id,onChange:e[0]||(e[0]=b=>this.toggle()),"onUpdate:modelValue":e[1]||(e[1]=b=>this.configurationInfo.Status=b)},null,40,ste),[[Gn,this.configurationInfo.Status]])])]),h("div",{class:Ee(["dot ms-5",{active:this.configurationInfo.Status}])},null,2)])])]),e[31]||(e[31]=h("hr",null,null,-1)),h("div",rte,[h("div",ote,[h("div",ate,[h("div",lte,[h("p",cte,[h("small",null,[$(o,{t:"Address"})])]),Be(" "+pe(this.configurationInfo.Address),1)])])]),h("div",ute,[h("div",dte,[h("div",hte,[h("p",fte,[h("small",null,[$(o,{t:"Listen Port"})])]),Be(" "+pe(this.configurationInfo.ListenPort),1)])])]),h("div",gte,[h("div",pte,[h("div",mte,[h("p",_te,[h("small",null,[$(o,{t:"Public Key"})])]),h("samp",null,pe(this.configurationInfo.PublicKey),1)])])])]),h("div",vte,[h("div",yte,[h("div",bte,[h("div",wte,[h("div",null,[h("p",xte,[h("small",null,[$(o,{t:"Connected Peers"})])]),h("strong",Ete,pe(r.configurationSummary.connectedPeers)+" / "+pe(s.configurationPeers.length),1)]),e[27]||(e[27]=h("i",{class:"bi bi-ethernet ms-auto h2 text-muted"},null,-1))])])]),h("div",Cte,[h("div",Ste,[h("div",kte,[h("div",null,[h("p",Tte,[h("small",null,[$(o,{t:"Total Usage"})])]),h("strong",Ate,pe(r.configurationSummary.totalUsage)+" GB",1)]),e[28]||(e[28]=h("i",{class:"bi bi-arrow-down-up ms-auto h2 text-muted"},null,-1))])])]),h("div",Pte,[h("div",Mte,[h("div",Ite,[h("div",null,[h("p",Dte,[h("small",null,[$(o,{t:"Total Received"})])]),h("strong",Rte,pe(r.configurationSummary.totalReceive)+" GB",1)]),e[29]||(e[29]=h("i",{class:"bi bi-arrow-down ms-auto h2 text-muted"},null,-1))])])]),h("div",$te,[h("div",Lte,[h("div",Ote,[h("div",null,[h("p",Nte,[h("small",null,[$(o,{t:"Total Sent"})])]),h("strong",Fte,pe(r.configurationSummary.totalSent)+" GB",1)]),e[30]||(e[30]=h("i",{class:"bi bi-arrow-up ms-auto h2 text-muted"},null,-1))])])])]),h("div",Bte,[h("div",Vte,[h("div",Wte,[h("div",zte,[h("small",Yte,[$(o,{t:"Peers Data Usage"})])]),h("div",Hte,[$(a,{data:r.individualDataUsage,options:r.individualDataUsageChartOption,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["data","options"])])])]),h("div",jte,[h("div",Kte,[h("div",Ute,[h("small",Gte,[$(o,{t:"Real Time Received Data Usage"})])]),h("div",Xte,[$(l,{options:r.chartOptions,data:r.receiveData,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"])])])]),h("div",qte,[h("div",Zte,[h("div",Jte,[h("small",Qte,[$(o,{t:"Real Time Sent Data Usage"})])]),h("div",ene,[$(l,{options:r.chartOptions,data:r.sentData,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"])])])])]),h("div",tne,[$(c,{onJobsAll:e[2]||(e[2]=b=>this.peerScheduleJobsAll.modalOpen=!0),onJobLogs:e[3]||(e[3]=b=>this.peerScheduleJobsLogs.modalOpen=!0),onEditConfiguration:e[4]||(e[4]=b=>this.editConfiguration.modalOpen=!0),onSelectPeers:e[5]||(e[5]=b=>this.selectPeers.modalOpen=!0),onBackupRestore:e[6]||(e[6]=b=>this.backupRestore.modalOpen=!0),onDeleteConfiguration:e[7]||(e[7]=b=>this.deleteConfiguration.modalOpen=!0),configuration:this.configurationInfo},null,8,["configuration"]),$(vo,{name:"list",tag:"div",class:"row gx-2 gy-2 z-0"},{default:Pe(()=>[(P(!0),F(Ie,null,Ge(this.searchPeers,b=>(P(),F("div",{class:"col-12 col-lg-6 col-xl-4",key:b.id},[$(u,{Peer:b,onShare:C=>{this.peerShare.selectedPeer=b.id,this.peerShare.modalOpen=!0},onRefresh:e[8]||(e[8]=C=>this.getPeers()),onJobs:C=>{s.peerScheduleJobs.modalOpen=!0,s.peerScheduleJobs.selectedPeer=this.configurationPeers.find(k=>k.id===b.id)},onSetting:C=>{s.peerSetting.modalOpen=!0,s.peerSetting.selectedPeer=this.configurationPeers.find(k=>k.id===b.id)},onQrcode:e[9]||(e[9]=C=>{this.peerQRCode.peerConfigData=C,this.peerQRCode.modalOpen=!0})},null,8,["Peer","onShare","onJobs","onSetting"])]))),128))]),_:1})]),$(vt,{name:"zoom"},{default:Pe(()=>[this.peerSetting.modalOpen?(P(),Ce(d,{key:"settings",selectedPeer:this.peerSetting.selectedPeer,onRefresh:e[10]||(e[10]=b=>this.getPeers()),onClose:e[11]||(e[11]=b=>this.peerSetting.modalOpen=!1)},null,8,["selectedPeer"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[s.peerQRCode.modalOpen?(P(),Ce(f,{peerConfigData:this.peerQRCode.peerConfigData,key:"qrcode",onClose:e[12]||(e[12]=b=>this.peerQRCode.modalOpen=!1)},null,8,["peerConfigData"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[this.peerScheduleJobs.modalOpen?(P(),Ce(g,{key:0,onRefresh:e[13]||(e[13]=b=>this.getPeers()),selectedPeer:this.peerScheduleJobs.selectedPeer,onClose:e[14]||(e[14]=b=>this.peerScheduleJobs.modalOpen=!1)},null,8,["selectedPeer"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[this.peerScheduleJobsAll.modalOpen?(P(),Ce(p,{key:0,onRefresh:e[15]||(e[15]=b=>this.getPeers()),onClose:e[16]||(e[16]=b=>this.peerScheduleJobsAll.modalOpen=!1),configurationPeers:this.configurationPeers},null,8,["configurationPeers"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[this.peerScheduleJobsLogs.modalOpen?(P(),Ce(m,{key:0,onClose:e[17]||(e[17]=b=>this.peerScheduleJobsLogs.modalOpen=!1),configurationInfo:this.configurationInfo},null,8,["configurationInfo"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[this.peerShare.modalOpen?(P(),Ce(v,{key:0,onClose:e[18]||(e[18]=b=>{this.peerShare.modalOpen=!1,this.peerShare.selectedPeer=void 0}),peer:this.configurationPeers.find(b=>b.id===this.peerShare.selectedPeer)},null,8,["peer"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[this.editConfiguration.modalOpen?(P(),Ce(y,{key:0,onClose:e[19]||(e[19]=b=>this.editConfiguration.modalOpen=!1),onDataChanged:e[20]||(e[20]=b=>this.configurationInfo=b),configurationInfo:this.configurationInfo},null,8,["configurationInfo"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[this.selectPeers.modalOpen?(P(),Ce(x,{key:0,onRefresh:e[21]||(e[21]=b=>this.getPeers()),configurationPeers:this.configurationPeers,onClose:e[22]||(e[22]=b=>this.selectPeers.modalOpen=!1)},null,8,["configurationPeers"])):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[s.deleteConfiguration.modalOpen?(P(),Ce(E,{key:0,onBackup:e[23]||(e[23]=b=>s.backupRestore.modalOpen=!0),onClose:e[24]||(e[24]=b=>s.deleteConfiguration.modalOpen=!1)})):se("",!0)]),_:1}),$(vt,{name:"zoom"},{default:Pe(()=>[s.backupRestore.modalOpen?(P(),Ce(w,{key:0,onClose:e[25]||(e[25]=b=>s.backupRestore.modalOpen=!1),onRefreshPeersList:e[26]||(e[26]=b=>this.getPeers())})):se("",!0)]),_:1})]))}const ine=ze(Kee,[["render",nne],["__scopeId","data-v-7a0360ac"]]);class Er{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Fl={PROPERTYCHANGE:"propertychange"};class Bf{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function sne(t,e,n){let i,s;n=n||hr;let r=0,o=t.length,a=!1;for(;r<o;)i=r+(o-r>>1),s=+n(t[i],e),s<0?r=i+1:(o=i,a=!s);return a?r:~r}function hr(t,e){return t>e?1:t<e?-1:0}function pv(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=t[s];if(r===e)return s;if(r<e)return n(e,t[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(t[s]<e)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(t[s]<=e)return s;return i-1}for(let s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return t[s-1]-e<e-t[s]?s-1:s}return i-1}function rne(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Vf(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let s=0;s<i;s++)t[t.length]=n[s]}function So(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function one(t,e,n){const i=e||hr;return t.every(function(s,r){if(r===0)return!0;const o=i(t[r-1],s);return!(o>0||o===0)})}function yu(){return!0}function Wf(){return!1}function Bl(){}function rT(t){let e,n,i;return function(){const s=Array.prototype.slice.call(arguments);return(!n||this!==i||!So(s,n))&&(i=this,n=s,e=t.apply(this,arguments)),e}}function ane(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function qu(t){for(const e in t)delete t[e]}function Vl(t){let e;for(e in t)return!1;return!e}class zf extends Bf{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[e]||(i[e]=[]);s.includes(n)||s.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new Er(e):e;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,u=s.length;c<u;++c)if("handleEvent"in s[c]?l=s[c].handleEvent(r):l=s[c].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Bl);delete o[i]}return l}disposeInternal(){this.listeners_&&qu(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[s]=Bl,++this.pendingRemovals_[e]):(i.splice(s,1),i.length===0&&delete this.listeners_[e]))}}const tt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ft(t,e,n,i,s){if(s){const o=n;n=function(){t.removeEventListener(e,n),o.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const r={target:t,type:e,listener:n};return t.addEventListener(e,n),r}function Bh(t,e,n,i){return ft(t,e,n,i,!0)}function Lt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),qu(t))}class Zu extends zf{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(tt.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ft(this,e[r],n);return s}return ft(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const s=e.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=Bh(this,e[r],n)}else i=Bh(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)lne(i);else if(Array.isArray(e))for(let s=0,r=e.length;s<r;++s)this.removeEventListener(e[s],n);else this.removeEventListener(e,n)}}Zu.prototype.on;Zu.prototype.once;Zu.prototype.un;function lne(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Lt(t[e]);else Lt(t)}function pt(){throw new Error("Unimplemented abstract method.")}let cne=0;function Et(t){return t.ol_uid||(t.ol_uid=String(++cne))}class sw extends Er{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class Ws extends Zu{constructor(e){super(),this.on,this.once,this.un,Et(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new sw(i,e,n)),i=Fl.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new sw(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const s=this.values_||(this.values_={});if(i)s[e]=n;else{const r=s[e];s[e]=n,r!==n&&this.notify(e,r)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Vl(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const gi={ADD:"add",REMOVE:"remove"},rw={LENGTH:"length"};class Hd extends Er{constructor(e,n,i){super(e),this.element=n,this.index=i}}class Ms extends Ws{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(rw.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Hd(gi.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Hd(gi.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const s=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Hd(gi.REMOVE,s,e)),this.dispatchEvent(new Hd(gi.ADD,n,e))}updateLength_(){this.set(rw.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const Ct={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function mt(t,e){if(!t)throw new Error(e)}function rn(t,e,n){return Math.min(Math.max(t,e),n)}function une(t,e,n,i,s,r){const o=s-n,a=r-i;if(o!==0||a!==0){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=s,i=r):l>0&&(n+=o*l,i+=a*l)}return dl(t,e,n,i)}function dl(t,e,n,i){const s=n-t,r=i-e;return s*s+r*r}function dne(t){const e=t.length;for(let i=0;i<e;i++){let s=i,r=Math.abs(t[i][i]);for(let a=i+1;a<e;a++){const l=Math.abs(t[a][i]);l>r&&(r=l,s=a)}if(r===0)return null;const o=t[s];t[s]=t[i],t[i]=o;for(let a=i+1;a<e;a++){const l=-t[a][i]/t[i][i];for(let c=i;c<e+1;c++)i==c?t[a][c]=0:t[a][c]+=l*t[i][c]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}function fh(t){return t*Math.PI/180}function hl(t,e){const n=t%e;return n*e<0?n+e:n}function Ai(t,e,n){return t+n*(e-t)}function mv(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function jd(t,e){return Math.floor(mv(t,e))}function Kd(t,e){return Math.ceil(mv(t,e))}class oT extends Ws{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Ct.OPACITY]=e.opacity!==void 0?e.opacity:1,mt(typeof n[Ct.OPACITY]=="number","Layer opacity must be a number"),n[Ct.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Ct.Z_INDEX]=e.zIndex,n[Ct.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Ct.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Ct.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Ct.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=rn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return pt()}getLayerStatesArray(e){return pt()}getExtent(){return this.get(Ct.EXTENT)}getMaxResolution(){return this.get(Ct.MAX_RESOLUTION)}getMinResolution(){return this.get(Ct.MIN_RESOLUTION)}getMinZoom(){return this.get(Ct.MIN_ZOOM)}getMaxZoom(){return this.get(Ct.MAX_ZOOM)}getOpacity(){return this.get(Ct.OPACITY)}getSourceState(){return pt()}getVisible(){return this.get(Ct.VISIBLE)}getZIndex(){return this.get(Ct.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Ct.EXTENT,e)}setMaxResolution(e){this.set(Ct.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Ct.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Ct.MAX_ZOOM,e)}setMinZoom(e){this.set(Ct.MIN_ZOOM,e)}setOpacity(e){mt(typeof e=="number","Layer opacity must be a number"),this.set(Ct.OPACITY,e)}setVisible(e){this.set(Ct.VISIBLE,e)}setZIndex(e){this.set(Ct.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const zi={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Hn={ANIMATING:0,INTERACTING:1},es={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},hne=42,_v=256,vv={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class aT{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||vv[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Ju=6378137,nl=Math.PI*Ju,fne=[-nl,-nl,nl,nl],gne=[-180,-85,180,85],Ud=Ju*Math.log(Math.tan(Math.PI/2));class Ba extends aT{constructor(e){super({code:e,units:"m",extent:fne,global:!0,worldExtent:gne,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Ju)}})}}const ow=[new Ba("EPSG:3857"),new Ba("EPSG:102100"),new Ba("EPSG:102113"),new Ba("EPSG:900913"),new Ba("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ba("http://www.opengis.net/gml/srs/epsg.xml#3857")];function pne(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=i){e[r]=nl*t[r]/180;let o=Ju*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));o>Ud?o=Ud:o<-Ud&&(o=-Ud),e[r+1]=o}return e}function mne(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=i)e[r]=180*t[r]/nl,e[r+1]=360*Math.atan(Math.exp(t[r+1]/Ju))/Math.PI-90;return e}const _ne=6378137,aw=[-180,-90,180,90],vne=Math.PI*_ne/180;class Vo extends aT{constructor(e,n){super({code:e,units:"degrees",extent:aw,axisOrientation:n,global:!0,metersPerUnit:vne,worldExtent:aw})}}const lw=[new Vo("CRS:84"),new Vo("EPSG:4326","neu"),new Vo("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vo("urn:ogc:def:crs:OGC:2:84"),new Vo("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Vo("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Vo("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Am={};function yne(t){return Am[t]||Am[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function bne(t,e){Am[t]=e}let fl={};function Vh(t,e,n){const i=t.getCode(),s=e.getCode();i in fl||(fl[i]={}),fl[i][s]=n}function wne(t,e){let n;return t in fl&&e in fl[t]&&(n=fl[t][e]),n}const An={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function cw(t){const e=Gi();for(let n=0,i=t.length;n<i;++n)Zc(e,t[n]);return e}function yv(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function lT(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function bv(t,e,n){let i,s;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?s=t[1]-n:t[3]<n?s=n-t[3]:s=0,i*i+s*s}function Wl(t,e){return cT(t,e[0],e[1])}function il(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function cT(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Pm(t,e){const n=t[0],i=t[1],s=t[2],r=t[3],o=e[0],a=e[1];let l=An.UNKNOWN;return o<n?l=l|An.LEFT:o>s&&(l=l|An.RIGHT),a<i?l=l|An.BELOW:a>r&&(l=l|An.ABOVE),l===An.UNKNOWN&&(l=An.INTERSECTING),l}function Gi(){return[1/0,1/0,-1/0,-1/0]}function uo(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function Yf(t){return uo(1/0,1/0,-1/0,-1/0,t)}function uT(t,e){const n=t[0],i=t[1];return uo(n,i,n,i,e)}function wv(t,e,n,i,s){const r=Yf(s);return dT(r,t,e,n,i)}function bu(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function xne(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Zc(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function dT(t,e,n,i,s){for(;n<i;n+=s)Ene(t,e[n],e[n+1]);return t}function Ene(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function hT(t,e){let n;return n=e(Hf(t)),n||(n=e(jf(t)),n)||(n=e(Kf(t)),n)||(n=e(xa(t)),n)?n:!1}function wu(t){let e=0;return Uf(t)||(e=bt(t)*Un(t)),e}function Hf(t){return[t[0],t[1]]}function jf(t){return[t[2],t[1]]}function pa(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Cne(t,e){let n;if(e==="bottom-left")n=Hf(t);else if(e==="bottom-right")n=jf(t);else if(e==="top-left")n=xa(t);else if(e==="top-right")n=Kf(t);else throw new Error("Invalid corner");return n}function Mm(t,e,n,i,s){const[r,o,a,l,c,u,d,f]=Sne(t,e,n,i);return uo(Math.min(r,a,c,d),Math.min(o,l,u,f),Math.max(r,a,c,d),Math.max(o,l,u,f),s)}function Sne(t,e,n,i){const s=e*i[0]/2,r=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,c=s*a,u=r*o,d=r*a,f=t[0],g=t[1];return[f-l+d,g-c-u,f-l-d,g-c+u,f+l-d,g+c+u,f+l+d,g+c-u,f-l+d,g-c-u]}function Un(t){return t[3]-t[1]}function cs(t,e,n){const i=n||Gi();return vi(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):Yf(i),i}function xa(t){return[t[0],t[3]]}function Kf(t){return[t[2],t[3]]}function bt(t){return t[2]-t[0]}function vi(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Uf(t){return t[2]<t[0]||t[3]<t[1]}function kne(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Tne(t,e,n){let i=!1;const s=Pm(t,e),r=Pm(t,n);if(s===An.INTERSECTING||r===An.INTERSECTING)i=!0;else{const o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],d=e[1],f=n[0],g=n[1],p=(g-d)/(f-u);let m,v;r&An.ABOVE&&!(s&An.ABOVE)&&(m=f-(g-c)/p,i=m>=o&&m<=l),!i&&r&An.RIGHT&&!(s&An.RIGHT)&&(v=g-(f-l)*p,i=v>=a&&v<=c),!i&&r&An.BELOW&&!(s&An.BELOW)&&(m=f-(g-a)/p,i=m>=o&&m<=l),!i&&r&An.LEFT&&!(s&An.LEFT)&&(v=g-(f-o)*p,i=v>=a&&v<=c)}return i}function fT(t,e){const n=e.getExtent(),i=pa(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=bt(n),o=Math.floor((i[0]-n[0])/s)*s;t[0]-=o,t[2]-=o}return t}function xv(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];fT(t,e);const s=bt(i);if(bt(t)>s&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+s,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-s,t[3]]]}return[t]}function Ane(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Wh(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Ev(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=s,t[1]=r,t}function Pne(t,e){return t[0]*=e,t[1]*=e,t}function gT(t,e){if(e.canWrapX()){const n=bt(e.getExtent()),i=Mne(t,e,n);i&&(t[0]-=i*n)}return t}function Mne(t,e,n){const i=e.getExtent();let s=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||bt(i),s=Math.floor((t[0]-i[0])/n)),s}const Ine=63710088e-1;function uw(t,e,n){n=n||Ine;const i=fh(t[1]),s=fh(e[1]),r=(s-i)/2,o=fh(e[0]-t[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function pT(...t){console.warn(...t)}let Im=!0;function mT(t){Im=!1}function Cv(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function _T(t,e){if(e!==void 0&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function Dne(t){bne(t.getCode(),t),Vh(t,t,Cv)}function Rne(t){t.forEach(Dne)}function Xi(t){return typeof t=="string"?yne(t):t||null}function dw(t,e,n,i){t=Xi(t);let s;const r=t.getPointResolutionFunc();if(r)s=r(e,n);else{const o=t.getUnits();if(o=="degrees"&&!i||i=="degrees")s=e;else{const a=kv(t,Xi("EPSG:4326"));if(a===_T&&o!=="degrees")s=e*t.getMetersPerUnit();else{let c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=a(c,c,2);const u=uw(c.slice(0,2),c.slice(2,4)),d=uw(c.slice(4,6),c.slice(6,8));s=(u+d)/2}const l=t.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function hw(t){Rne(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Vh(e,n,Cv)})})}function $ne(t,e,n,i){t.forEach(function(s){e.forEach(function(r){Vh(s,r,n),Vh(r,s,i)})})}function Sv(t,e){return t?typeof t=="string"?Xi(t):t:Xi(e)}function hp(t,e){return mT(),vT(t,"EPSG:4326","EPSG:3857")}function fp(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||kv(t,e)===Cv)&&n}function kv(t,e){const n=t.getCode(),i=e.getCode();let s=wne(n,i);return s||(s=_T),s}function zh(t,e){const n=Xi(t),i=Xi(e);return kv(n,i)}function vT(t,e,n){return zh(e,n)(t,void 0,t.length)}function Dm(t,e){return t}function Qs(t,e){return Im&&!Wh(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Im=!1,pT("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function yT(t,e){return t}function Zr(t,e){return t}function Lne(){hw(ow),hw(lw),$ne(lw,ow,pne,mne)}Lne();function fw(t,e,n){return function(i,s,r,o,a){if(!i)return;if(!s&&!e)return i;const l=e?0:r[0]*s,c=e?0:r[1]*s,u=a?a[0]:0,d=a?a[1]:0;let f=t[0]+l/2+u,g=t[2]-l/2+u,p=t[1]+c/2+d,m=t[3]-c/2+d;f>g&&(f=(g+f)/2,g=f),p>m&&(p=(m+p)/2,m=p);let v=rn(i[0],f,g),y=rn(i[1],p,m);if(o&&n&&s){const x=30*s;v+=-x*Math.log(1+Math.max(0,f-i[0])/x)+x*Math.log(1+Math.max(0,i[0]-g)/x),y+=-x*Math.log(1+Math.max(0,p-i[1])/x)+x*Math.log(1+Math.max(0,i[1]-m)/x)}return[v,y]}}function One(t){return t}function Tv(t,e,n,i){const s=bt(e)/n[0],r=Un(e)/n[1];return i?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function Av(t,e,n){let i=Math.min(t,e);const s=50;return i*=Math.log(1+s*Math.max(0,t/e-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/t-1))/s+1),rn(i,n/2,e*2)}function Nne(t,e,n,i){return e=e!==void 0?e:!0,function(s,r,o,a){if(s!==void 0){const l=t[0],c=t[t.length-1],u=n?Tv(l,n,o,i):l;if(a)return e?Av(s,u,c):rn(s,c,u);const d=Math.min(u,s),f=Math.floor(pv(t,d,r));return t[f]>u&&f<t.length-1?t[f+1]:t[f]}}}function Fne(t,e,n,i,s,r){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(o,a,l,c){if(o!==void 0){const u=s?Tv(e,s,l,r):e;if(c)return i?Av(o,u,n):rn(o,n,u);const d=1e-9,f=Math.ceil(Math.log(e/u)/Math.log(t)-d),g=-a*(.5-d)+.5,p=Math.min(u,o),m=Math.floor(Math.log(e/p)/Math.log(t)+g),v=Math.max(f,m),y=e/Math.pow(t,v);return rn(y,n,u)}}}function gw(t,e,n,i,s){return n=n!==void 0?n:!0,function(r,o,a,l){if(r!==void 0){const c=i?Tv(t,i,a,s):t;return!n||!l?rn(r,e,c):Av(r,c,e)}}}function Pv(t){if(t!==void 0)return 0}function pw(t){if(t!==void 0)return t}function Bne(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function Vne(t){const e=fh(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function bT(t){return Math.pow(t,3)}function ql(t){return 1-bT(1-t)}function Wne(t){return 3*t*t-2*t*t*t}function zne(t){return t}new Array(6);function hs(){return[1,0,0,1,0,0]}function Yne(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function On(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function br(t,e,n,i,s,r,o,a){const l=Math.sin(r),c=Math.cos(r);return t[0]=i*c,t[1]=s*l,t[2]=-i*l,t[3]=s*c,t[4]=o*i*c-a*i*l+e,t[5]=o*s*l+a*s*c+n,t}function wT(t,e){const n=Hne(e);mt(n!==0,"Transformation matrix cannot be inverted");const i=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-s/n,t[2]=-r/n,t[3]=i/n,t[4]=(r*l-o*a)/n,t[5]=-(i*l-s*a)/n,t}function Hne(t){return t[0]*t[3]-t[1]*t[2]}const mw=[1e6,1e6,1e6,1e6,2,2];function jne(t){return"matrix("+t.map((n,i)=>Math.round(n*mw[i])/mw[i]).join(", ")+")"}function io(t,e,n,i,s,r,o){r=r||[],o=o||2;let a=0;for(let l=e;l<n;l+=i){const c=t[l],u=t[l+1];r[a++]=s[0]*c+s[2]*u+s[4],r[a++]=s[1]*c+s[3]*u+s[5];for(let d=2;d<o;d++)r[a++]=t[l+d]}return r&&r.length!=a&&(r.length=a),r}function xT(t,e,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=r[0],u=r[1];let d=0;for(let f=e;f<n;f+=i){const g=t[f]-c,p=t[f+1]-u;o[d++]=c+g*a-p*l,o[d++]=u+g*l+p*a;for(let m=f+2;m<f+i;++m)o[d++]=t[m]}return o&&o.length!=d&&(o.length=d),o}function Kne(t,e,n,i,s,r,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let d=e;d<n;d+=i){const f=t[d]-l,g=t[d+1]-c;a[u++]=l+s*f,a[u++]=c+r*g;for(let p=d+2;p<d+i;++p)a[u++]=t[p]}return a&&a.length!=u&&(a.length=u),a}function Une(t,e,n,i,s,r,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+s,o[a++]=t[l+1]+r;for(let c=l+2;c<l+i;++c)o[a++]=t[c]}return o&&o.length!=a&&(o.length=a),o}const _w=hs();class Gne extends Ws{constructor(){super(),this.extent_=Gi(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=rT((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return pt()}closestPointXY(e,n,i,s){return pt()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return pt()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Yf(n),this.extentRevision_=this.getRevision()}return kne(this.extent_,e)}rotate(e,n){pt()}scale(e,n,i){pt()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return pt()}getType(){return pt()}applyTransform(e){pt()}intersectsExtent(e){return pt()}translate(e,n){pt()}transform(e,n){const i=Xi(e),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),c=i.getWorldExtent(),u=Un(c)/Un(l);return br(_w,c[0],c[3],u,-u,0,0,0),io(r,0,r.length,a,_w,o),zh(i,n)(r,o,a)}:zh(i,n);return this.applyTransform(s),this}}class Gf extends Gne{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return wv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return pt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=vw(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){pt()}setLayout(e,n,i){let s;if(e)s=vw(e);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,e=Xne(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();xT(i,0,i.length,s,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=pa(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();Kne(s,0,s.length,r,e,n,i,s),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();Une(i,0,i.length,s,e,n,i),this.changed()}}}function Xne(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function vw(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function qne(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const s=t.getStride();return io(i,0,i.length,s,e,n)}function yw(t,e,n,i,s,r,o){const a=t[e],l=t[e+1],c=t[n]-a,u=t[n+1]-l;let d;if(c===0&&u===0)d=e;else{const f=((s-a)*c+(r-l)*u)/(c*c+u*u);if(f>1)d=n;else if(f>0){for(let g=0;g<i;++g)o[g]=Ai(t[e+g],t[n+g],f);o.length=i;return}else d=e}for(let f=0;f<i;++f)o[f]=t[d+f];o.length=i}function Mv(t,e,n,i,s){let r=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const a=t[e],l=t[e+1],c=dl(r,o,a,l);c>s&&(s=c),r=a,o=l}return s}function Zne(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];s=Mv(t,e,a,i,s),e=a}return s}function Iv(t,e,n,i,s,r,o,a,l,c,u){if(e==n)return c;let d,f;if(s===0){if(f=dl(o,a,t[e],t[e+1]),f<c){for(d=0;d<i;++d)l[d]=t[e+d];return l.length=i,f}return c}u=u||[NaN,NaN];let g=e+i;for(;g<n;)if(yw(t,g-i,g,i,o,a,u),f=dl(o,a,u[0],u[1]),f<c){for(c=f,d=0;d<i;++d)l[d]=u[d];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/s|0,1);if(r&&(yw(t,n-i,e,i,o,a,u),f=dl(o,a,u[0],u[1]),f<c)){for(c=f,d=0;d<i;++d)l[d]=u[d];l.length=i}return c}function Jne(t,e,n,i,s,r,o,a,l,c,u){u=u||[NaN,NaN];for(let d=0,f=n.length;d<f;++d){const g=n[d];c=Iv(t,e,g,i,s,r,o,a,l,c,u),e=g}return c}function Qne(t,e,n,i){for(let s=0,r=n.length;s<r;++s)t[e++]=n[s];return e}function Dv(t,e,n,i){for(let s=0,r=n.length;s<r;++s){const o=n[s];for(let a=0;a<i;++a)t[e++]=o[a]}return e}function eie(t,e,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=Dv(t,e,n[o],i);s[r++]=l,e=l}return s.length=r,s}function Xf(t,e,n,i,s,r,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)r[o++]=t[e],r[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,n-i];let u=0;for(;c.length>0;){const d=c.pop(),f=c.pop();let g=0;const p=t[f],m=t[f+1],v=t[d],y=t[d+1];for(let x=f+i;x<d;x+=i){const E=t[x],w=t[x+1],b=une(E,w,p,m,v,y);b>g&&(u=x,g=b)}g>s&&(l[(u-e)/i]=1,f+i<u&&c.push(f,u),u+i<d&&c.push(u,d))}for(let d=0;d<a;++d)l[d]&&(r[o++]=t[e+d*i],r[o++]=t[e+d*i+1]);return o}function tie(t,e,n,i,s,r,o,a){for(let l=0,c=n.length;l<c;++l){const u=n[l];o=Xf(t,e,u,i,s,r,o),a.push(o),e=u}return o}function Uo(t,e){return e*Math.round(t/e)}function nie(t,e,n,i,s,r,o){if(e==n)return o;let a=Uo(t[e],s),l=Uo(t[e+1],s);e+=i,r[o++]=a,r[o++]=l;let c,u;do if(c=Uo(t[e],s),u=Uo(t[e+1],s),e+=i,e==n)return r[o++]=c,r[o++]=u,o;while(c==a&&u==l);for(;e<n;){const d=Uo(t[e],s),f=Uo(t[e+1],s);if(e+=i,d==c&&f==u)continue;const g=c-a,p=u-l,m=d-a,v=f-l;if(g*v==p*m&&(g<0&&m<g||g==m||g>0&&m>g)&&(p<0&&v<p||p==v||p>0&&v>p)){c=d,u=f;continue}r[o++]=c,r[o++]=u,a=c,l=u,c=d,u=f}return r[o++]=c,r[o++]=u,o}function ET(t,e,n,i,s,r,o,a){for(let l=0,c=n.length;l<c;++l){const u=n[l];o=nie(t,e,u,i,s,r,o),a.push(o),e=u}return o}function qo(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=e;o<n;o+=i)s[r++]=t.slice(o,o+i);return s.length=r,s}function Yh(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=qo(t,e,l,i,s[r]),e=l}return s.length=r,s}function bw(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=l.length===1&&l[0]===e?[]:Yh(t,e,l,i,s[r]),e=l[l.length-1]}return s.length=r,s}function CT(t,e,n,i){let s=0;const r=t[n-i],o=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const c=t[e]-r,u=t[e+1]-o;s+=l*c-a*u,a=c,l=u}return s/2}function iie(t,e,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const a=n[r];s+=CT(t,e,a,i),e=a}return s}class xu extends Gf{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new xu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,s){return s<bv(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Iv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,s))}getArea(){return CT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return qo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Xf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new xu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Dv(this.flatCoordinates,0,e,this.stride),this.changed()}}class Eu extends Gf{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Eu(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){const r=this.flatCoordinates,o=dl(e,n,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return uT(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return cT(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Qne(this.flatCoordinates,0,e,this.stride),this.changed()}}function sie(t,e,n,i,s){return!hT(s,function(o){return!Zo(t,e,n,i,o[0],o[1])})}function Zo(t,e,n,i,s,r){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const c=t[e],u=t[e+1];l<=r?u>r&&(c-a)*(r-l)-(s-a)*(u-l)>0&&o++:u<=r&&(c-a)*(r-l)-(s-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function ST(t,e,n,i,s,r){if(n.length===0||!Zo(t,e,n[0],i,s,r))return!1;for(let o=1,a=n.length;o<a;++o)if(Zo(t,n[o-1],n[o],i,s,r))return!1;return!0}function Rv(t,e,n,i,s,r,o){let a,l,c,u,d,f,g;const p=s[r+1],m=[];for(let x=0,E=n.length;x<E;++x){const w=n[x];for(u=t[w-i],f=t[w-i+1],a=e;a<w;a+=i)d=t[a],g=t[a+1],(p<=f&&g<=p||f<=p&&p<=g)&&(c=(p-f)/(g-f)*(d-u)+u,m.push(c)),u=d,f=g}let v=NaN,y=-1/0;for(m.sort(hr),u=m[0],a=1,l=m.length;a<l;++a){d=m[a];const x=Math.abs(d-u);x>y&&(c=(u+d)/2,ST(t,e,n,i,c,p)&&(v=c,y=x)),u=d}return isNaN(v)&&(v=s[r]),o?(o.push(v,p,y),o):[v,p,y]}function rie(t,e,n,i,s){let r=[];for(let o=0,a=n.length;o<a;++o){const l=n[o];r=Rv(t,e,l,i,s,2*o,r),e=l[l.length-1]}return r}function kT(t,e,n,i,s){let r;for(e+=i;e<n;e+=i)if(r=s(t.slice(e-i,e),t.slice(e,e+i)),r)return r;return!1}function $v(t,e,n,i,s){const r=dT(Gi(),t,e,n,i);return vi(s,r)?il(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:kT(t,e,n,i,function(o,a){return Tne(s,o,a)}):!1}function TT(t,e,n,i,s){return!!($v(t,e,n,i,s)||Zo(t,e,n,i,s[0],s[1])||Zo(t,e,n,i,s[0],s[3])||Zo(t,e,n,i,s[2],s[1])||Zo(t,e,n,i,s[2],s[3]))}function oie(t,e,n,i,s){if(!TT(t,e,n[0],i,s))return!1;if(n.length===1)return!0;for(let r=1,o=n.length;r<o;++r)if(sie(t,n[r-1],n[r],i,s)&&!$v(t,n[r-1],n[r],i,s))return!1;return!0}function aie(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const r=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=r}e+=i,n-=i}}function Lv(t,e,n,i){let s=0,r=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const a=t[e],l=t[e+1];s+=(a-r)*(l+o),r=a,o=l}return s===0?void 0:s>0}function lie(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=Lv(t,e,a,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=a}return!0}function ww(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=Lv(t,e,a,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&aie(t,e,a,i),e=a}return e}function cie(t,e){const n=[];let i=0,s=0,r;for(let o=0,a=e.length;o<a;++o){const l=e[o],c=Lv(t,i,l,2);if(r===void 0&&(r=c),c===r)n.push(e.slice(s,o+1));else{if(n.length===0)continue;n[n.length-1].push(e[s])}s=o+1,i=l}return n}class Cu extends Gf{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Vf(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Cu(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<bv(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zne(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jne(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return ST(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return iie(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),ww(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Yh(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=pa(this.getExtent());this.flatInteriorPoint_=Rv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Eu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new xu(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],c=new xu(n.slice(r,l),e);s.push(c),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;lie(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ww(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=ET(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new Cu(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return oie(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=eie(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function xw(t){if(Uf(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],r=[e,n,e,s,i,s,i,n,e,n];return new Cu(r,"XY",[r.length])}const gp=0;class ks extends Ws{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Sv(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&mT(),e.center&&(e.center=Qs(e.center,this.projection_)),e.extent&&(e.extent=Zr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in es)delete n[a];this.setProperties(n,!0);const i=die(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const s=uie(e),r=i.constraint,o=hie(e);this.constraints_={center:s,resolution:r,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const s=e||[0,0,0,0];n=n||[0,0,0,0];const r=this.getResolution(),o=r/2*(s[3]-n[3]+n[1]-s[1]),a=r/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=Qs(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=Qs(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const u=arguments[s];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(s===n){i&&Gd(i,!0);return}let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;s<n;++s){const u=arguments[s],d={start:r,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||Wne,callback:i};if(u.center&&(d.sourceCenter=o,d.targetCenter=u.center.slice(),o=d.targetCenter),u.zoom!==void 0?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(u.zoom),a=d.targetResolution):u.resolution&&(d.sourceResolution=a,d.targetResolution=u.resolution,a=d.targetResolution),u.rotation!==void 0){d.sourceRotation=l;const f=hl(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+f,l=d.targetRotation}fie(d)?d.complete=!0:r+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(Hn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Hn.ANIMATING]>0}getInteracting(){return this.hints_[Hn.INTERACTING]>0}cancelAnimations(){this.setHint(Hn.ANIMATING,-this.hints_[Hn.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&Gd(s[0].callback,!1),!e)for(let r=0,o=s.length;r<o;++r){const a=s[r];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let r=!0;for(let o=0,a=s.length;o<a;++o){const l=s[o];if(l.complete)continue;const c=e-l.start;let u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):r=!1;const d=l.easing(u);if(l.sourceCenter){const f=l.sourceCenter[0],g=l.sourceCenter[1],p=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;const v=f+d*(p-f),y=g+d*(m-g);this.targetCenter_=[v,y]}if(l.sourceResolution&&l.targetResolution){const f=d===1?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(f,0,g,!0);this.targetCenter_=this.calculateCenterZoom(p,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=d===1?hl(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(r){this.animations_[i]=null,this.setHint(Hn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=s[0].callback;o&&Gd(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],Ev(i,e-this.getRotation()),Ane(i,n)),i}calculateCenterZoom(e,n){let i;const s=this.getCenterInternal(),r=this.getResolution();if(s!==void 0&&r!==void 0){const o=n[0]-e*(n[0]-s[0])/r,a=n[1]-e*(n[1]-s[1])/r;i=[o,a]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(s*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Dm(e,this.getProjection())}getCenterInternal(){return this.get(es.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return yT(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();mt(n,"The view center is not defined");const i=this.getResolution();mt(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return mt(s!==void 0,"The view rotation is not defined"),Mm(n,i,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(es.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Zr(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=bt(e)/n[0],s=Un(e)/n[1];return Math.max(i,s)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(e);return function(r){return n/Math.pow(e,r*s)}}getRotation(){return this.get(es.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(i/s)/n;return function(o){return Math.log(i/o)/n/r}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const r=this.padding_;if(r){const o=this.getViewportSizeMinusPadding_();s=pp(s,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],n,i)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,s;if(this.resolutions_){const r=pv(this.resolutions_,e,1);n=r,i=this.resolutions_[r],r==this.resolutions_.length-1?s=2:s=i/this.resolutions_[r+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/e)/Math.log(s)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=rn(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,rn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(mt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){mt(!Uf(e),"Cannot fit empty extent provided as `geometry`");const s=Zr(e,this.getProjection());i=xw(s)}else if(e.getType()==="Circle"){const s=Zr(e.getExtent(),this.getProjection());i=xw(s),i.rotate(this.getRotation(),pa(s))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),r=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let d=0,f=r.length;d<f;d+=o){const g=r[d]*i-r[d+1]*s,p=r[d]*s+r[d+1]*i;a=Math.min(a,g),l=Math.min(l,p),c=Math.max(c,g),u=Math.max(u,p)}return[a,l,c,u]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],r=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,r?0:1);const c=this.getRotation(),u=Math.sin(c),d=Math.cos(c),f=pa(a);f[0]+=(s[1]-s[3])/2*l,f[1]+=(s[0]-s[2])/2*l;const g=f[0]*d-f[1]*u,p=f[1]*d+f[0]*u,m=this.getConstrainedCenter([g,p],l),v=n.callback?n.callback:Bl;n.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:n.duration,easing:n.easing},v):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),Gd(v,!0))}centerOn(e,n,i){this.centerOnInternal(Qs(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(pp(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,s){let r;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-i),l=pp(e,s,[a[0]/2+o[3],a[1]/2+o[0]],n,i);r=[e[0]-l[0],e[1]-l[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Dm(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Qs(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(r,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Qs(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Qs(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,0,r,i),a=this.constraints_.center(this.targetCenter_,o,r,i,this.calculateCenterShift(this.targetCenter_,o,s,r));this.get(es.ROTATION)!==s&&this.set(es.ROTATION,s),this.get(es.RESOLUTION)!==o&&(this.set(es.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(es.CENTER)||!Wh(this.get(es.CENTER),a))&&this.set(es.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const s=n||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,s,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==r||!this.getCenterInternal()||!Wh(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:a,duration:e,easing:ql,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Hn.INTERACTING,1)}endInteraction(e,n,i){i=i&&Qs(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(Hn.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function Gd(t,e){setTimeout(function(){t(e)},0)}function uie(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return fw(t.extent,t.constrainOnlyCenter,n)}const e=Sv(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,fw(n,!1,!1)}return One}function die(t){let e,n,i,o=t.minZoom!==void 0?t.minZoom:gp,a=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,c=t.multiWorld!==void 0?t.multiWorld:!1,u=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,d=t.showFullExtent!==void 0?t.showFullExtent:!1,f=Sv(t.projection,"EPSG:3857"),g=f.getExtent();let p=t.constrainOnlyCenter,m=t.extent;if(!c&&!m&&f.isGlobal()&&(p=!1,m=g),t.resolutions!==void 0){const v=t.resolutions;n=v[o],i=v[a]!==void 0?v[a]:v[v.length-1],t.constrainResolution?e=Nne(v,u,!p&&m,d):e=gw(n,i,u,!p&&m,d)}else{const y=(g?Math.max(bt(g),Un(g)):360*vv.degrees/f.getMetersPerUnit())/_v/Math.pow(2,gp),x=y/Math.pow(2,28-gp);n=t.maxResolution,n!==void 0?o=0:n=y/Math.pow(l,o),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,a):i=y/Math.pow(l,a):i=x),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),t.constrainResolution?e=Fne(l,n,i,u,!p&&m,d):e=gw(n,i,u,!p&&m,d)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function hie(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?Vne():n===!1?pw:typeof n=="number"?Bne(n):pw}return Pv}function fie(t){return!(t.sourceCenter&&t.targetCenter&&!Wh(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function pp(t,e,n,i,s){const r=Math.cos(-s);let o=Math.sin(-s),a=t[0]*r-t[1]*o,l=t[1]*r+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;const c=a*r-l*o,u=l*r+a*o;return[c,u]}class qf extends oT{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Ct.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Ct.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Lt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ft(e,tt.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof ks?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;n.layerStatesArray?s=n.layerStatesArray.find(o=>o.layer===this):s=this.getLayerState();const r=this.getExtent();return Ov(s,n.viewState)&&(!r||vi(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];const n=this.getSource()?.getAttributions();if(!n)return[];const i=e instanceof ks?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Ct.MAP,e)}getMapInternal(){return this.get(Ct.MAP)}setMap(e){this.mapPrecomposeKey_&&(Lt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Lt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ft(e,zi.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=ft(this,tt.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);mt(!n.some(s=>s.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(Ct.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Ov(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function AT(t,e,n=0,i=t.length-1,s=gie){for(;i>n;){if(i-n>600){const l=i-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/l+f)),p=Math.min(i,Math.floor(e+(l-c)*d/l+f));AT(t,e,g,p,s)}const r=t[e];let o=n,a=i;for(_c(t,n,e),s(t[i],r)>0&&_c(t,n,i);o<a;){for(_c(t,o,a),o++,a--;s(t[o],r)<0;)o++;for(;s(t[a],r)>0;)a--}s(t[n],r)===0?_c(t,n,a):(a++,_c(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}}function _c(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function gie(t,e){return t<e?-1:t>e?1:0}let PT=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!qd(e,n))return i;const s=this.toBBox,r=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],l=n.leaf?s(a):a;qd(e,l)&&(n.leaf?i.push(a):_p(e,l)?this._all(a,i):r.push(a))}n=r.pop()}return i}collides(e){let n=this.data;if(!qd(e,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const r=n.children[s],o=n.leaf?this.toBBox(r):r;if(qd(e,o)){if(n.leaf||_p(e,o))return!0;i.push(r)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Za([]),this}remove(e,n){if(!e)return this;let i=this.data;const s=this.toBBox(e),r=[],o=[];let a,l,c;for(;i||r.length;){if(i||(i=r.pop(),l=r[r.length-1],a=o.pop(),c=!0),i.leaf){const u=pie(e,i.children,n);if(u!==-1)return i.children.splice(u,1),r.push(i),this._condense(r),this}!c&&!i.leaf&&_p(i,s)?(r.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,s){const r=i-n+1;let o=this._maxEntries,a;if(r<=o)return a=Za(e.slice(n,i+1)),Va(a,this.toBBox),a;s||(s=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,s-1))),a=Za([]),a.leaf=!1,a.height=s;const l=Math.ceil(r/o),c=l*Math.ceil(Math.sqrt(o));Ew(e,n,i,c,this.compareMinX);for(let u=n;u<=i;u+=c){const d=Math.min(u+c-1,i);Ew(e,u,d,l,this.compareMinY);for(let f=u;f<=d;f+=l){const g=Math.min(f+l-1,d);a.children.push(this._build(e,f,g,s-1))}}return Va(a,this.toBBox),a}_chooseSubtree(e,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let r=1/0,o=1/0,a;for(let l=0;l<n.children.length;l++){const c=n.children[l],u=mp(c),d=vie(e,c)-u;d<o?(o=d,r=u<r?u:r,a=c):d===o&&u<r&&(r=u,a=c)}n=a||n.children[0]}return n}_insert(e,n,i){const s=i?e:this.toBBox(e),r=[],o=this._chooseSubtree(s,this.data,n,r);for(o.children.push(e),Ac(o,s);n>=0&&r[n].children.length>this._maxEntries;)this._split(r,n),n--;this._adjustParentBBoxes(s,r,n)}_split(e,n){const i=e[n],s=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,s);const o=this._chooseSplitIndex(i,r,s),a=Za(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,Va(i,this.toBBox),Va(a,this.toBBox),n?e[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,n){this.data=Za([e,n]),this.data.height=e.height+1,this.data.leaf=!1,Va(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let s,r=1/0,o=1/0;for(let a=n;a<=i-n;a++){const l=Tc(e,0,a,this.toBBox),c=Tc(e,a,i,this.toBBox),u=yie(l,c),d=mp(l)+mp(c);u<r?(r=u,s=a,o=d<o?d:o):u===r&&d<o&&(o=d,s=a)}return s||i-n}_chooseSplitAxis(e,n,i){const s=e.leaf?this.compareMinX:mie,r=e.leaf?this.compareMinY:_ie,o=this._allDistMargin(e,n,i,s),a=this._allDistMargin(e,n,i,r);o<a&&e.children.sort(s)}_allDistMargin(e,n,i,s){e.children.sort(s);const r=this.toBBox,o=Tc(e,0,n,r),a=Tc(e,i-n,i,r);let l=Xd(o)+Xd(a);for(let c=n;c<i-n;c++){const u=e.children[c];Ac(o,e.leaf?r(u):u),l+=Xd(o)}for(let c=i-n-1;c>=n;c--){const u=e.children[c];Ac(a,e.leaf?r(u):u),l+=Xd(a)}return l}_adjustParentBBoxes(e,n,i){for(let s=i;s>=0;s--)Ac(n[s],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():Va(e[n],this.toBBox)}};function pie(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function Va(t,e){Tc(t,0,t.children.length,e,t)}function Tc(t,e,n,i,s){s||(s=Za(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let r=e;r<n;r++){const o=t.children[r];Ac(s,t.leaf?i(o):o)}return s}function Ac(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function mie(t,e){return t.minX-e.minX}function _ie(t,e){return t.minY-e.minY}function mp(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Xd(t){return t.maxX-t.minX+(t.maxY-t.minY)}function vie(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function yie(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,s-n)*Math.max(0,r-i)}function _p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function qd(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Za(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ew(t,e,n,i,s){const r=[e,n];for(;r.length;){if(n=r.pop(),e=r.pop(),n-e<=i)continue;const o=e+Math.ceil((n-e)/i/2)*i;AT(t,o,e,n,s),r.push(e,o,o,n)}}const ot={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Cw(t){return t[0]>0&&t[1]>0}function bie(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function wi(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Zf{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=wi(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Zf({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return pt()}getImage(e){return pt()}getHitDetectionImage(){return pt()}getPixelRatio(e){return 1}getImageState(){return pt()}getImageSize(){return pt()}getOrigin(){return pt()}getSize(){return pt()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=wi(e)}listenImageChange(e){pt()}load(){pt()}unlistenImageChange(e){pt()}ready(){return Promise.resolve()}}const Su={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Bn={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Bn.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};Bn.max=Bn.whitepoint[2].D65;Bn.rgb=function(t,e){e=e||Bn.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],s=t[2]/e[2],r,o,a;return r=n*3.240969941904521+i*-1.537383177570093+s*-.498610760293,o=n*-.96924363628087+i*1.87596750150772+s*.041555057407175,a=n*.055630079696993+i*-.20397695888897+s*1.056971514242878,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[r*255,o*255,a*255]};Su.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,s=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var r=n*.41239079926595+i*.35758433938387+s*.18048078840183,o=n*.21263900587151+i*.71516867876775+s*.072192315360733,a=n*.019330818715591+i*.11919477979462+s*.95053215224966;return e=e||Bn.whitepoint[2].E,[r*e[0],o*e[1],a*e[2]]};const Nv={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,s,r,o,a,l,c,u,d,f,g,p,m;if(r=t[0],o=t[1],a=t[2],r===0)return[0,0,0];var v=.0011070564598794539;return e=e||"D65",n=n||2,d=Bn.whitepoint[n][e][0],f=Bn.whitepoint[n][e][1],g=Bn.whitepoint[n][e][2],p=4*d/(d+15*f+3*g),m=9*f/(d+15*f+3*g),i=o/(13*r)+p||0,s=a/(13*r)+m||0,c=r>8?f*Math.pow((r+16)/116,3):f*r*v,l=c*9*i/(4*s)||0,u=c*(12-3*i-20*s)/(4*s)||0,[l,c,u]}};Bn.luv=function(t,e,n){var i,s,r,o,a,l,c,u,d,f,g,p,m,v=.008856451679035631,y=903.2962962962961;e=e||"D65",n=n||2,d=Bn.whitepoint[n][e][0],f=Bn.whitepoint[n][e][1],g=Bn.whitepoint[n][e][2],p=4*d/(d+15*f+3*g),m=9*f/(d+15*f+3*g),l=t[0],c=t[1],u=t[2],i=4*l/(l+15*c+3*u)||0,s=9*c/(l+15*c+3*u)||0;var x=c/f;return r=x<=v?y*x:116*Math.pow(x,1/3)-16,o=13*r*(i-p),a=13*r*(s-m),[r,o,a]};var MT={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],s,r,o;return o=i/360*2*Math.PI,s=n*Math.cos(o),r=n*Math.sin(o),[e,s,r]},xyz:function(t){return Nv.xyz(MT.luv(t))}};Nv.lchuv=function(t){var e=t[0],n=t[1],i=t[2],s=Math.sqrt(n*n+i*i),r=Math.atan2(i,n),o=r*360/2/Math.PI;return o<0&&(o+=360),[e,s,o]};Bn.lchuv=function(t){return Nv.lchuv(Bn.luv(t))};const Sw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var kw={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function wie(t){var e,n=[],i=1,s;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),Sw[t])n=Sw[t].slice(),s="rgb";else if(t==="transparent")i=0,s="rgb",n=[0,0,0];else if(t[0]==="#"){var r=t.slice(1),o=r.length,a=o<=4;i=1,a?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],o===4&&(i=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],o===8&&(i=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),s="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];s=l.replace(/a$/,"");var c=s==="cmyk"?4:s==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=n.shift()),n=n.map(function(u,d){if(u[u.length-1]==="%")return u=parseFloat(u)/100,d===3?u:s==="rgb"?u*255:s[0]==="h"||s[0]==="l"&&!d?u*100:s==="lab"?u*125:s==="lch"?d<2?u*150:u*360:s[0]==="o"&&!d?u:s==="oklab"?u*.4:s==="oklch"?d<2?u*.4:u*360:u;if(s[d]==="h"||d===2&&s[s.length-1]==="h"){if(kw[u]!==void 0)return kw[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),i=n.length>c?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),s=t.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:s,values:n,alpha:i}}const vp={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,s,r,o,a,l,c=0;if(n===0)return l=i*255,[l,l,l];for(r=i<.5?i*(1+n):i+n-i*n,s=2*i-r,a=[0,0,0];c<3;)o=e+1/3*-(c-1),o<0?o++:o>1&&o--,l=6*o<1?s+(r-s)*6*o:2*o<1?r:3*o<2?s+(r-s)*(2/3-o)*6:s,a[c++]=l*255;return a}};Su.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.min(e,n,i),r=Math.max(e,n,i),o=r-s,a,l,c;return r===s?a=0:e===r?a=(n-i)/o:n===r?a=2+(i-e)/o:i===r&&(a=4+(e-n)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(s+r)/2,r===s?l=0:c<=.5?l=o/(r+s):l=o/(2-r-s),[a,l*100,c*100]};function xie(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=wie(t);if(!n.space)return[];const i=n.space[0]==="h"?vp.min:Su.min,s=n.space[0]==="h"?vp.max:Su.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(e=vp.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}const Fv=[NaN,NaN,NaN,0];function Eie(t){return typeof t=="string"?t:Vv(t)}const Cie=1024,vc={};let yp=0;function Sie(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function Tw(t){const e=Bn.lchuv(Su.xyz(t));return e[3]=t[3],e}function kie(t){const e=Bn.rgb(MT.xyz(t));return e[3]=t[3],e}function Bv(t){if(t==="none")return Fv;if(vc.hasOwnProperty(t))return vc[t];if(yp>=Cie){let n=0;for(const i in vc)n++&3||(delete vc[i],--yp)}const e=xie(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return IT(e),vc[t]=e,++yp,e}function ku(t){return Array.isArray(t)?t:Bv(t)}function IT(t){return t[0]=rn(t[0]+.5|0,0,255),t[1]=rn(t[1]+.5|0,0,255),t[2]=rn(t[2]+.5|0,0,255),t[3]=rn(t[3],0,1),t}function Vv(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const s=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+s+")"}const ho=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Tie=ho.includes("firefox"),Aie=ho.includes("safari")&&!ho.includes("chrom");Aie&&(ho.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ho));const Pie=ho.includes("webkit")&&!ho.includes("edge"),DT=ho.includes("macintosh"),RT=typeof devicePixelRatio<"u"?devicePixelRatio:1,$T=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,LT=typeof Image<"u"&&Image.prototype.decode,OT=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function hn(t,e,n,i){let s;return n&&n.length?s=n.shift():$T?s=new OffscreenCanvas(t||300,e||300):s=document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",i)}let bp;function Hh(){return bp||(bp=hn(1,1)),bp}function zl(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Aw(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Mie(t){for(;t.lastChild;)t.lastChild.remove()}function Iie(t,e){const n=t.childNodes;for(let i=0;;++i){const s=n[i],r=e[i];if(!s&&!r)break;if(s!==r){if(!s){t.appendChild(r);continue}if(!r){t.removeChild(s),--i;continue}t.insertBefore(r,s)}}}function Die(t,e,n){const i=t;let s=!0,r=!1,o=!1;const a=[Bh(i,tt.LOAD,function(){o=!0,r||e()})];return i.src&&LT?(r=!0,i.decode().then(function(){s&&e()}).catch(function(l){s&&(o?e():n())})):a.push(Bh(i,tt.ERROR,n)),function(){s=!1,a.forEach(Lt)}}function Rie(t,e){return new Promise((n,i)=>{function s(){o(),n(t)}function r(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",s),t.removeEventListener("error",r)}t.addEventListener("load",s),t.addEventListener("error",r)})}function $ie(t,e){return e&&(t.src=e),t.src&&LT?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(s=>t.complete&&t.width?n(t):i(s))):Rie(t)}class Lie{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const s=wp(e,n,i);return s in this.cache_?this.cache_[s]:null}getPattern(e,n,i){const s=wp(e,n,i);return s in this.patternCache_?this.patternCache_[s]:null}set(e,n,i,s,r){const o=wp(e,n,i),a=o in this.cache_;this.cache_[o]=s,r&&(s.getImageState()===ot.IDLE&&s.load(),s.getImageState()===ot.LOADING?s.ready().then(()=>{this.patternCache_[o]=Hh().createPattern(s.getImage(1),"repeat")}):this.patternCache_[o]=Hh().createPattern(s.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function wp(t,e,n){const i=n?ku(n):"null";return e+":"+t+":"+i}const Is=new Lie;let yc=null;class Oie extends zf{constructor(e,n,i,s,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=r,this.imageState_=s===void 0?ot.IDLE:s,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===ot.LOADED){yc||(yc=hn(1,1,void 0,{willReadFrequently:!0})),yc.drawImage(this.image_,0,0);try{yc.getImageData(0,0,1,1),this.tainted_=!1}catch{yc=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(tt.CHANGE)}handleImageError_(){this.imageState_=ot.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=ot.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=hn(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===ot.IDLE){this.image_||this.initializeImage_(),this.imageState_=ot.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&$ie(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==ot.LOADED)return;const n=this.image_,i=hn(Math.ceil(n.width*e),Math.ceil(n.height*e)),s=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=Eie(this.color_),i.fillRect(0,0,s.width/e,s.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=s}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===ot.LOADED||this.imageState_===ot.ERROR)e();else{const n=()=>{(this.imageState_===ot.LOADED||this.imageState_===ot.ERROR)&&(this.removeEventListener(tt.CHANGE,n),e())};this.addEventListener(tt.CHANGE,n)}})),this.ready_}}function Wv(t,e,n,i,s,r){let o=e===void 0?void 0:Is.get(e,n,s);return o||(o=new Oie(t,t&&"src"in t?t.src||void 0:e,n,i,s),Is.set(e,n,s,o,r)),r&&o&&!Is.getPattern(e,n,s)&&Is.set(e,n,s,o,r),o}function Ds(t){return t?Array.isArray(t)?Vv(t):typeof t=="object"&&"src"in t?Nie(t):t:null}function Nie(t){if(!t.offset||!t.size)return Is.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=Is.getPattern(e,void 0,t.color);if(n)return n;const i=Is.get(t.src,"anonymous",null);if(i.getImageState()!==ot.LOADED)return null;const s=hn(t.size[0],t.size[1]);return s.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),Wv(s.canvas,e,void 0,ot.LOADED,t.color,!0),Is.getPattern(e,void 0,t.color)}const Zd="ol-hidden",Jf="ol-unselectable",zv="ol-control",Pw="ol-collapsed",Fie=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Mw=["style","variant","weight","size","lineHeight","family"],NT=function(t){const e=t.match(Fie);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=Mw.length;i<s;++i){const r=e[i+1];r!==void 0&&(n[Mw[i]]=r)}return n.families=n.family.split(/,\s?/),n},FT="10px sans-serif",pi="#000",Yl="round",fr=[],gr=0,Hl="round",Tu=10,Au="#000",Pu="center",jh="middle",Jo=[0,0,0,0],Mu=1,er=new Ws;let Ja=null,Rm;const $m={},Bie=function(){const e="32px ",n=["monospace","serif"],i=n.length,s="wmytzilWMYTZIL@#/&?$%10";let r,o;function a(c,u,d){let f=!0;for(let g=0;g<i;++g){const p=n[g];if(o=Kh(c+" "+u+" "+e+p,s),d!=p){const m=Kh(c+" "+u+" "+e+d+","+p,s);f=f&&m!=o}}return!!f}function l(){let c=!0;const u=er.getKeys();for(let d=0,f=u.length;d<f;++d){const g=u[d];if(er.get(g)<100){const[p,m,v]=g.split(`
`);a(p,m,v)?(qu($m),Ja=null,Rm=void 0,er.set(g,100)):(er.set(g,er.get(g)+1,!0),c=!1)}}c&&(clearInterval(r),r=void 0)}return function(c){const u=NT(c);if(!u)return;const d=u.families;for(let f=0,g=d.length;f<g;++f){const p=d[f],m=u.style+`
`+u.weight+`
`+p;er.get(m)===void 0&&(er.set(m,100,!0),a(u.style,u.weight,p)||(er.set(m,0,!0),r===void 0&&(r=setInterval(l,32))))}}}(),Vie=function(){let t;return function(e){let n=$m[e];if(n==null){if($T){const i=NT(e),s=BT(e,"Žg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);$m[e]=n}return n}}();function BT(t,e){return Ja||(Ja=hn(1,1)),t!=Rm&&(Ja.font=t,Rm=Ja.font),Ja.measureText(e)}function Kh(t,e){return BT(t,e).width}function Iw(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((s,r)=>Math.max(s,Kh(t,r)),0);return n[e]=i,i}function Wie(t,e){const n=[],i=[],s=[];let r=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const d=e[c];if(d===`
`||c===u){r=Math.max(r,o),s.push(o),o=0,a+=l,l=0;continue}const f=e[c+1]||t.font,g=Kh(f,d);n.push(g),o+=g;const p=Vie(f);i.push(p),l=Math.max(l,p)}return{width:r,height:a,widths:n,heights:i,lineWidths:s}}function zie(t,e,n,i,s,r,o,a,l,c,u){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=d=>d.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),Yie(i,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(i,s,r,o,a,0,0,o,a)):t.drawImage(i,s,r,o,a,l,c,o*u[0],a*u[1]),t.restore()}function Yie(t,e){const n=t.contextInstructions;for(let i=0,s=n.length;i<s;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}class Qf extends Zf{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?ot.LOADING:ot.LOADED,this.imageState_===ot.LOADING&&this.ready().then(()=>this.imageState_=ot.LOADED),this.render()}clone(){const e=this.getScale(),n=new Qf({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const i=this.renderOptions_,s=hn(i.size*e,i.size*e);this.draw_(i,s,e),n=s.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let s=this.radius,r=this.radius2_===void 0?s:this.radius2_;if(s<r){const C=s;s=r,r=C}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=r*Math.sin(a),c=Math.sqrt(r*r-l*l),u=s-c,d=Math.sqrt(l*l+u*u),f=d/l;if(e==="miter"&&f<=i)return f*n;const g=n/2/f,p=n/2*(u/d),v=Math.sqrt((s+g)*(s+g)+p*p)-s;if(this.radius2_===void 0||e==="bevel")return v*2;const y=s*Math.sin(a),x=Math.sqrt(s*s-y*y),E=r-x,b=Math.sqrt(y*y+E*E)/y;if(b<=i){const C=b*n/2-r-s;return 2*Math.max(v,C)}return v*2}createRenderOptions(){let e=Yl,n=Hl,i=0,s=null,r=0,o,a=0;this.stroke_&&(o=Ds(this.stroke_.getColor()??Au),a=this.stroke_.getWidth()??Mu,s=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Hl,e=this.stroke_.getLineCap()??Yl,i=this.stroke_.getMiterLimit()??Tu);const l=this.calculateLineJoinSize_(n,a,i),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:e,lineDash:s,lineDashOffset:r,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=pi),n.fillStyle=Ds(s),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=ku(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=hn(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let a=0;a<n;a++){const l=r+a*o,c=a%2===0?i:s;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=pi,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Qu extends Qf{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Qu({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class Zl{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Zl({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=Wv(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===ot.IDLE&&n.load(),n.getImageState()===ot.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class jl{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new jl({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class pr{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Dw,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new pr({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Dw,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function Hie(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(mt(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let xp=null;function VT(t,e){if(!xp){const n=new Zl({color:"rgba(255,255,255,0.4)"}),i=new jl({color:"#3399CC",width:1.25});xp=[new pr({image:new Qu({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return xp}function Dw(t){return t.getGeometry()}function Rw(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class eg extends Zf{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,r=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;mt(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||Et(o)),mt(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),mt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=ot.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?ot.LOADED:ot.IDLE:l=ot.LOADING:l=ot.LOADED),this.color_=e.color!==void 0?ku(e.color):null,this.iconImage_=Wv(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{const d=this.getImage(1);if(d.width&&d.height)c=d.width,u=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(Rw(g[0],g[1],e.width,e.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(Rw(c,u,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new eg({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==ot.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==ot.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(tt.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(tt.CHANGE,e)}ready(){return this.iconImage_.ready()}}const jie="#333";class Yv{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=wi(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Zl({color:jie}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Yv({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=wi(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let Ea=0;const ni=1<<Ea++,ht=1<<Ea++,mi=1<<Ea++,as=1<<Ea++,ma=1<<Ea++,Pc=1<<Ea++,Jd=Math.pow(2,Ea)-1,Hv={[ni]:"boolean",[ht]:"number",[mi]:"string",[as]:"color",[ma]:"number[]",[Pc]:"size"},Kie=Object.keys(Hv).map(Number).sort(hr);function Uie(t){return t in Hv}function Mc(t){const e=[];for(const n of Kie)Ic(t,n)&&e.push(Hv[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Ic(t,e){return(t&e)===e}function Ir(t,e){return t===e}class yn{constructor(e,n){if(!Uie(e))throw new Error(`literal expressions must have a specific type, got ${Mc(e)}`);this.type=e,this.value=n}}class Gie{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function WT(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Vn(t,e,n){switch(typeof t){case"boolean":{if(Ir(e,mi))return new yn(mi,t?"true":"false");if(!Ic(e,ni))throw new Error(`got a boolean, but expected ${Mc(e)}`);return new yn(ni,t)}case"number":{if(Ir(e,Pc))return new yn(Pc,wi(t));if(Ir(e,ni))return new yn(ni,!!t);if(Ir(e,mi))return new yn(mi,t.toString());if(!Ic(e,ht))throw new Error(`got a number, but expected ${Mc(e)}`);return new yn(ht,t)}case"string":{if(Ir(e,as))return new yn(as,Bv(t));if(Ir(e,ni))return new yn(ni,!!t);if(!Ic(e,mi))throw new Error(`got a string, but expected ${Mc(e)}`);return new yn(mi,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return rse(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Ir(e,Pc)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new yn(Pc,t)}if(Ir(e,as)){if(t.length===3)return new yn(as,[...t,1]);if(t.length===4)return new yn(as,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!Ic(e,ma))throw new Error(`got an array of numbers, but expected ${Mc(e)}`);return new yn(ma,t)}const _e={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},Xie={[_e.Get]:qe(st(1,1/0),$w),[_e.Var]:qe(st(1,1),qie),[_e.Has]:qe(st(1,1/0),$w),[_e.Id]:qe(Zie,Wa),[_e.Concat]:qe(st(2,1/0),_t(mi)),[_e.GeometryType]:qe(Jie,Wa),[_e.LineMetric]:qe(Wa),[_e.Resolution]:qe(Wa),[_e.Zoom]:qe(Wa),[_e.Time]:qe(Wa),[_e.Any]:qe(st(2,1/0),_t(ni)),[_e.All]:qe(st(2,1/0),_t(ni)),[_e.Not]:qe(st(1,1),_t(ni)),[_e.Equal]:qe(st(2,2),_t(Jd)),[_e.NotEqual]:qe(st(2,2),_t(Jd)),[_e.GreaterThan]:qe(st(2,2),_t(ht)),[_e.GreaterThanOrEqualTo]:qe(st(2,2),_t(ht)),[_e.LessThan]:qe(st(2,2),_t(ht)),[_e.LessThanOrEqualTo]:qe(st(2,2),_t(ht)),[_e.Multiply]:qe(st(2,1/0),Lw),[_e.Coalesce]:qe(st(2,1/0),Lw),[_e.Divide]:qe(st(2,2),_t(ht)),[_e.Add]:qe(st(2,1/0),_t(ht)),[_e.Subtract]:qe(st(2,2),_t(ht)),[_e.Clamp]:qe(st(3,3),_t(ht)),[_e.Mod]:qe(st(2,2),_t(ht)),[_e.Pow]:qe(st(2,2),_t(ht)),[_e.Abs]:qe(st(1,1),_t(ht)),[_e.Floor]:qe(st(1,1),_t(ht)),[_e.Ceil]:qe(st(1,1),_t(ht)),[_e.Round]:qe(st(1,1),_t(ht)),[_e.Sin]:qe(st(1,1),_t(ht)),[_e.Cos]:qe(st(1,1),_t(ht)),[_e.Atan]:qe(st(1,2),_t(ht)),[_e.Sqrt]:qe(st(1,1),_t(ht)),[_e.Match]:qe(st(4,1/0),Ow,ese),[_e.Between]:qe(st(3,3),_t(ht)),[_e.Interpolate]:qe(st(6,1/0),Ow,tse),[_e.Case]:qe(st(3,1/0),Qie,nse),[_e.In]:qe(st(2,2),ise),[_e.Number]:qe(st(1,1/0),_t(Jd)),[_e.String]:qe(st(1,1/0),_t(Jd)),[_e.Array]:qe(st(1,1/0),_t(ht)),[_e.Color]:qe(st(1,4),_t(ht)),[_e.Band]:qe(st(1,3),_t(ht)),[_e.Palette]:qe(st(2,2),sse),[_e.ToString]:qe(st(1,1),_t(ni|ht|mi|as))};function $w(t,e,n){const i=t.length-1,s=new Array(i);for(let r=0;r<i;++r){const o=t[r+1];switch(typeof o){case"number":{s[r]=new yn(ht,o);break}case"string":{s[r]=new yn(mi,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}r===0&&n.properties.add(String(o))}return s}function qie(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new yn(mi,i)]}function Zie(t,e,n){n.featureId=!0}function Jie(t,e,n){n.geometryType=!0}function Wa(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function st(t,e){return function(n,i,s){const r=n[0],o=n.length-1;if(t===e){if(o!==t){const a=t===1?"":"s";throw new Error(`expected ${t} argument${a} for ${r}, got ${o}`)}}else if(o<t||o>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${a} arguments for ${r}, got ${o}`)}}}function Lw(t,e,n){const i=t.length-1,s=new Array(i);for(let r=0;r<i;++r){const o=Vn(t[r+1],e,n);s[r]=o}return s}function _t(t){return function(e,n,i){const s=e.length-1,r=new Array(s);for(let o=0;o<s;++o){const a=Vn(e[o+1],t,i);r[o]=a}return r}}function Qie(t,e,n){const i=t[0],s=t.length-1;if(s%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${s} instead`)}function Ow(t,e,n){const i=t[0],s=t.length-1;if(s%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${s} instead`)}function ese(t,e,n){const i=t.length-1,s=mi|ht|ni,r=Vn(t[1],s,n),o=Vn(t[t.length-1],e,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const c=Vn(t[l+2],r.type,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{const c=Vn(t[l+3],o.type,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[r,...a,o]}function tse(t,e,n){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":const l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);s=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const r=new yn(ht,s);let o;try{o=Vn(t[2],ht,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){try{const c=Vn(t[l+3],ht,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{const c=Vn(t[l+4],e,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[r,o,...a]}function nse(t,e,n){const i=Vn(t[t.length-1],e,n),s=new Array(t.length-1);for(let r=0;r<s.length-1;r+=2){try{const o=Vn(t[r+1],ni,n);s[r]=o}catch(o){throw new Error(`failed to parse argument ${r} of case expression: ${o.message}`)}try{const o=Vn(t[r+2],i.type,n);s[r+1]=o}catch(o){throw new Error(`failed to parse argument ${r+1} of case expression: ${o.message}`)}}return s[s.length-1]=i,s}function ise(t,e,n){let i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let s;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],s=mi}else s=ht;const r=new Array(i.length);for(let a=0;a<r.length;a++)try{const l=Vn(i[a],s,n);r[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Vn(t[1],s,n),...r]}function sse(t,e,n){let i;try{i=Vn(t[1],ht,n)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const s=t[2];if(!Array.isArray(s))throw new Error("the second argument of palette must be an array");const r=new Array(s.length);for(let o=0;o<r.length;o++){let a;try{a=Vn(s[o],as,n)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof yn))throw new Error(`the palette color at index ${o} must be a literal value`);r[o]=a}return[i,...r]}function qe(...t){return function(e,n,i){const s=e[0];let r;for(let o=0;o<t.length;o++){const a=t[o](e,n,i);if(o==t.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");r=a}}return new Gie(n,s,...r)}}function rse(t,e,n){const i=t[0],s=Xie[i];if(!s)throw new Error(`unknown operator: ${i}`);return s(t,e,n)}function zT(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return zT(t.getGeometries()[0]);default:return""}}function YT(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Cr(t,e,n){const i=Vn(t,e,n);return ms(i)}function ms(t,e){if(t instanceof yn){if(t.type===as&&typeof t.value=="string"){const i=Bv(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case _e.Number:case _e.String:case _e.Coalesce:return ose(t);case _e.Get:case _e.Var:case _e.Has:return ase(t);case _e.Id:return i=>i.featureId;case _e.GeometryType:return i=>i.geometryType;case _e.Concat:{const i=t.args.map(s=>ms(s));return s=>"".concat(...i.map(r=>r(s).toString()))}case _e.Resolution:return i=>i.resolution;case _e.Any:case _e.All:case _e.Between:case _e.In:case _e.Not:return cse(t);case _e.Equal:case _e.NotEqual:case _e.LessThan:case _e.LessThanOrEqualTo:case _e.GreaterThan:case _e.GreaterThanOrEqualTo:return lse(t);case _e.Multiply:case _e.Divide:case _e.Add:case _e.Subtract:case _e.Clamp:case _e.Mod:case _e.Pow:case _e.Abs:case _e.Floor:case _e.Ceil:case _e.Round:case _e.Sin:case _e.Cos:case _e.Atan:case _e.Sqrt:return use(t);case _e.Case:return dse(t);case _e.Match:return hse(t);case _e.Interpolate:return fse(t);case _e.ToString:return gse(t);default:throw new Error(`Unsupported operator ${n}`)}}function ose(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ms(t.args[r]);switch(n){case _e.Coalesce:return r=>{for(let o=0;o<i;++o){const a=s[o](r);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case _e.Number:case _e.String:return r=>{for(let o=0;o<i;++o){const a=s[o](r);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function ase(t,e){const i=t.args[0].value;switch(t.operator){case _e.Get:return s=>{const r=t.args;let o=s.properties[i];for(let a=1,l=r.length;a<l;++a){const u=r[a].value;o=o[u]}return o};case _e.Var:return s=>s.variables[i];case _e.Has:return s=>{const r=t.args;if(!(i in s.properties))return!1;let o=s.properties[i];for(let a=1,l=r.length;a<l;++a){const u=r[a].value;if(!o||!Object.hasOwn(o,u))return!1;o=o[u]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function lse(t,e){const n=t.operator,i=ms(t.args[0]),s=ms(t.args[1]);switch(n){case _e.Equal:return r=>i(r)===s(r);case _e.NotEqual:return r=>i(r)!==s(r);case _e.LessThan:return r=>i(r)<s(r);case _e.LessThanOrEqualTo:return r=>i(r)<=s(r);case _e.GreaterThan:return r=>i(r)>s(r);case _e.GreaterThanOrEqualTo:return r=>i(r)>=s(r);default:throw new Error(`Unsupported comparison operator ${n}`)}}function cse(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ms(t.args[r]);switch(n){case _e.Any:return r=>{for(let o=0;o<i;++o)if(s[o](r))return!0;return!1};case _e.All:return r=>{for(let o=0;o<i;++o)if(!s[o](r))return!1;return!0};case _e.Between:return r=>{const o=s[0](r),a=s[1](r),l=s[2](r);return o>=a&&o<=l};case _e.In:return r=>{const o=s[0](r);for(let a=1;a<i;++a)if(o===s[a](r))return!0;return!1};case _e.Not:return r=>!s[0](r);default:throw new Error(`Unsupported logical operator ${n}`)}}function use(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ms(t.args[r]);switch(n){case _e.Multiply:return r=>{let o=1;for(let a=0;a<i;++a)o*=s[a](r);return o};case _e.Divide:return r=>s[0](r)/s[1](r);case _e.Add:return r=>{let o=0;for(let a=0;a<i;++a)o+=s[a](r);return o};case _e.Subtract:return r=>s[0](r)-s[1](r);case _e.Clamp:return r=>{const o=s[0](r),a=s[1](r);if(o<a)return a;const l=s[2](r);return o>l?l:o};case _e.Mod:return r=>s[0](r)%s[1](r);case _e.Pow:return r=>Math.pow(s[0](r),s[1](r));case _e.Abs:return r=>Math.abs(s[0](r));case _e.Floor:return r=>Math.floor(s[0](r));case _e.Ceil:return r=>Math.ceil(s[0](r));case _e.Round:return r=>Math.round(s[0](r));case _e.Sin:return r=>Math.sin(s[0](r));case _e.Cos:return r=>Math.cos(s[0](r));case _e.Atan:return i===2?r=>Math.atan2(s[0](r),s[1](r)):r=>Math.atan(s[0](r));case _e.Sqrt:return r=>Math.sqrt(s[0](r));default:throw new Error(`Unsupported numeric operator ${n}`)}}function dse(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=ms(t.args[s]);return s=>{for(let r=0;r<n-1;r+=2)if(i[r](s))return i[r+1](s);return i[n-1](s)}}function hse(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=ms(t.args[s]);return s=>{const r=i[0](s);for(let o=1;o<n;o+=2)if(r===i[o](s))return i[o+1](s);return i[n-1](s)}}function fse(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=ms(t.args[s]);return s=>{const r=i[0](s),o=i[1](s);let a,l;for(let c=2;c<n;c+=2){const u=i[c](s);let d=i[c+1](s);const f=Array.isArray(d);if(f&&(d=Sie(d)),u>=o)return c===2?d:f?pse(r,o,a,l,u,d):Dc(r,o,a,l,u,d);a=u,l=d}return l}}function gse(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ms(t.args[r]);switch(n){case _e.ToString:return r=>{const o=s[0](r);return t.args[0].type===as?Vv(o):o.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Dc(t,e,n,i,s,r){const o=s-n;if(o===0)return i;const a=e-n,l=t===1?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1);return i+l*(r-i)}function pse(t,e,n,i,s,r){if(s-n===0)return i;const a=Tw(i),l=Tw(r);let c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);const u=[Dc(t,e,n,a[0],s,l[0]),Dc(t,e,n,a[1],s,l[1]),a[2]+Dc(t,e,n,0,s,c),Dc(t,e,n,i[3],s,r[3])];return IT(kie(u))}function mse(t){return!0}function _se(t){const e=WT(),n=vse(t,e),i=YT();return function(s,r){if(i.properties=s.getPropertiesInternal(),i.resolution=r,e.featureId){const o=s.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=zT(s.getGeometry())),n(i)}}function Nw(t){const e=WT(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=Lm(t[o],e);const s=YT(),r=new Array(n);return function(o,a){if(s.properties=o.getPropertiesInternal(),s.resolution=a,e.featureId){const c=o.getId();c!==void 0?s.featureId=c:s.featureId=null}let l=0;for(let c=0;c<n;++c){const u=i[c](s);u&&(r[l]=u,l+=1)}return r.length=l,r}}function vse(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s){const r=t[s],o="filter"in r?Cr(r.filter,ni,e):mse;let a;if(Array.isArray(r.style)){const l=r.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=Lm(r.style[c],e)}else a=[Lm(r.style,e)];i[s]={filter:o,styles:a}}return function(s){const r=[];let o=!1;for(let a=0;a<n;++a){const l=i[a].filter;if(l(s)&&!(t[a].else&&o)){o=!0;for(const c of i[a].styles){const u=c(s);u&&r.push(u)}}}return r}}function Lm(t,e){const n=Iu(t,"",e),i=Du(t,"",e),s=yse(t,e),r=bse(t,e),o=yi(t,"z-index",e);if(!n&&!i&&!s&&!r&&!Vl(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new pr;return function(l){let c=!0;if(n){const u=n(l);u&&(c=!1),a.setFill(u)}if(i){const u=i(l);u&&(c=!1),a.setStroke(u)}if(s){const u=s(l);u&&(c=!1),a.setText(u)}if(r){const u=r(l);u&&(c=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),c?null:a}}function Iu(t,e,n){let i;if(e+"fill-pattern-src"in t)i=Cse(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return r=>null;i=jv(t,e+"fill-color",n)}if(!i)return null;const s=new Zl;return function(r){const o=i(r);return o===Fv?null:(s.setColor(o),s)}}function Du(t,e,n){const i=yi(t,e+"stroke-width",n),s=jv(t,e+"stroke-color",n);if(!i&&!s)return null;const r=sr(t,e+"stroke-line-cap",n),o=sr(t,e+"stroke-line-join",n),a=HT(t,e+"stroke-line-dash",n),l=yi(t,e+"stroke-line-dash-offset",n),c=yi(t,e+"stroke-miter-limit",n),u=new jl;return function(d){if(s){const f=s(d);if(f===Fv)return null;u.setColor(f)}if(i&&u.setWidth(i(d)),r){const f=r(d);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(f)}if(o){const f=o(d);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(f)}return a&&u.setLineDash(a(d)),l&&u.setLineDashOffset(l(d)),c&&u.setMiterLimit(c(d)),u}}function yse(t,e){const n="text-",i=sr(t,n+"value",e);if(!i)return null;const s=Iu(t,n,e),r=Iu(t,n+"background-",e),o=Du(t,n,e),a=Du(t,n+"background-",e),l=sr(t,n+"font",e),c=yi(t,n+"max-angle",e),u=yi(t,n+"offset-x",e),d=yi(t,n+"offset-y",e),f=Ru(t,n+"overflow",e),g=sr(t,n+"placement",e),p=yi(t,n+"repeat",e),m=tg(t,n+"scale",e),v=Ru(t,n+"rotate-with-view",e),y=yi(t,n+"rotation",e),x=sr(t,n+"align",e),E=sr(t,n+"justify",e),w=sr(t,n+"baseline",e),b=HT(t,n+"padding",e),C=ng(t,n+"declutter-mode"),k=new Yv({declutterMode:C});return function(T){if(k.setText(i(T)),s&&k.setFill(s(T)),r&&k.setBackgroundFill(r(T)),o&&k.setStroke(o(T)),a&&k.setBackgroundStroke(a(T)),l&&k.setFont(l(T)),c&&k.setMaxAngle(c(T)),u&&k.setOffsetX(u(T)),d&&k.setOffsetY(d(T)),f&&k.setOverflow(f(T)),g){const A=g(T);if(A!=="point"&&A!=="line")throw new Error("Expected point or line for text-placement");k.setPlacement(A)}if(p&&k.setRepeat(p(T)),m&&k.setScale(m(T)),v&&k.setRotateWithView(v(T)),y&&k.setRotation(y(T)),x){const A=x(T);if(A!=="left"&&A!=="center"&&A!=="right"&&A!=="end"&&A!=="start")throw new Error("Expected left, right, center, start, or end for text-align");k.setTextAlign(A)}if(E){const A=E(T);if(A!=="left"&&A!=="right"&&A!=="center")throw new Error("Expected left, right, or center for text-justify");k.setJustify(A)}if(w){const A=w(T);if(A!=="bottom"&&A!=="top"&&A!=="middle"&&A!=="alphabetic"&&A!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");k.setTextBaseline(A)}return b&&k.setPadding(b(T)),k}}function bse(t,e){return"icon-src"in t?wse(t,e):"shape-points"in t?xse(t,e):"circle-radius"in t?Ese(t,e):null}function wse(t,e){const n="icon-",i=n+"src",s=jT(t[i],i),r=Uh(t,n+"anchor",e),o=tg(t,n+"scale",e),a=yi(t,n+"opacity",e),l=Uh(t,n+"displacement",e),c=yi(t,n+"rotation",e),u=Ru(t,n+"rotate-with-view",e),d=Bw(t,n+"anchor-origin"),f=Vw(t,n+"anchor-x-units"),g=Vw(t,n+"anchor-y-units"),p=Ase(t,n+"color"),m=kse(t,n+"cross-origin"),v=Tse(t,n+"offset"),y=Bw(t,n+"offset-origin"),x=Gh(t,n+"width"),E=Gh(t,n+"height"),w=Sse(t,n+"size"),b=ng(t,n+"declutter-mode"),C=new eg({src:s,anchorOrigin:d,anchorXUnits:f,anchorYUnits:g,color:p,crossOrigin:m,offset:v,offsetOrigin:y,height:E,width:x,size:w,declutterMode:b});return function(k){return a&&C.setOpacity(a(k)),l&&C.setDisplacement(l(k)),c&&C.setRotation(c(k)),u&&C.setRotateWithView(u(k)),o&&C.setScale(o(k)),r&&C.setAnchor(r(k)),C}}function xse(t,e){const n="shape-",i=n+"points",s=n+"radius",r=Om(t[i],i),o=Om(t[s],s),a=Iu(t,n,e),l=Du(t,n,e),c=tg(t,n+"scale",e),u=Uh(t,n+"displacement",e),d=yi(t,n+"rotation",e),f=Ru(t,n+"rotate-with-view",e),g=Gh(t,n+"radius2"),p=Gh(t,n+"angle"),m=ng(t,n+"declutter-mode"),v=new Qf({points:r,radius:o,radius2:g,angle:p,declutterMode:m});return function(y){return a&&v.setFill(a(y)),l&&v.setStroke(l(y)),u&&v.setDisplacement(u(y)),d&&v.setRotation(d(y)),f&&v.setRotateWithView(f(y)),c&&v.setScale(c(y)),v}}function Ese(t,e){const n="circle-",i=Iu(t,n,e),s=Du(t,n,e),r=yi(t,n+"radius",e),o=tg(t,n+"scale",e),a=Uh(t,n+"displacement",e),l=yi(t,n+"rotation",e),c=Ru(t,n+"rotate-with-view",e),u=ng(t,n+"declutter-mode"),d=new Qu({radius:5,declutterMode:u});return function(f){return r&&d.setRadius(r(f)),i&&d.setFill(i(f)),s&&d.setStroke(s(f)),a&&d.setDisplacement(a(f)),l&&d.setRotation(l(f)),c&&d.setRotateWithView(c(f)),o&&d.setScale(o(f)),d}}function yi(t,e,n){if(!(e in t))return;const i=Cr(t[e],ht,n);return function(s){return Om(i(s),e)}}function sr(t,e,n){if(!(e in t))return null;const i=Cr(t[e],mi,n);return function(s){return jT(i(s),e)}}function Cse(t,e,n){const i=sr(t,e+"pattern-src",n),s=Fw(t,e+"pattern-offset",n),r=Fw(t,e+"pattern-size",n),o=jv(t,e+"color",n);return function(a){return{src:i(a),offset:s&&s(a),size:r&&r(a),color:o&&o(a)}}}function Ru(t,e,n){if(!(e in t))return null;const i=Cr(t[e],ni,n);return function(s){const r=i(s);if(typeof r!="boolean")throw new Error(`Expected a boolean for ${e}`);return r}}function jv(t,e,n){if(!(e in t))return null;const i=Cr(t[e],as,n);return function(s){return KT(i(s),e)}}function HT(t,e,n){if(!(e in t))return null;const i=Cr(t[e],ma,n);return function(s){return ed(i(s),e)}}function Uh(t,e,n){if(!(e in t))return null;const i=Cr(t[e],ma,n);return function(s){const r=ed(i(s),e);if(r.length!==2)throw new Error(`Expected two numbers for ${e}`);return r}}function Fw(t,e,n){if(!(e in t))return null;const i=Cr(t[e],ma,n);return function(s){return UT(i(s),e)}}function tg(t,e,n){if(!(e in t))return null;const i=Cr(t[e],ma|ht,n);return function(s){return Pse(i(s),e)}}function Gh(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function Sse(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return wi(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function kse(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function Bw(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function Vw(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function Tse(t,e){const n=t[e];if(n!==void 0)return ed(n,e)}function ng(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function Ase(t,e){const n=t[e];if(n!==void 0)return KT(n,e)}function ed(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function jT(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Om(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function KT(t,e){if(typeof t=="string")return t;const n=ed(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function UT(t,e){const n=ed(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function Pse(t,e){return typeof t=="number"?t:UT(t,e)}const Ww={RENDER_ORDER:"renderOrder"};class GT extends qf{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Ww.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new PT(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(Ww.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?VT:e;const n=Mse(e);this.styleFunction_=e===null?void 0:Hie(n),this.changed()}}function Mse(t){if(t===void 0)return VT;if(!t)return null;if(typeof t=="function"||t instanceof pr)return t;if(!Array.isArray(t))return Nw([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof pr){const s=new Array(e);for(let r=0;r<e;++r){const o=t[r];if(!(o instanceof pr))throw new Error("Expected a list of style instances");s[r]=o}return s}if("style"in n){const s=new Array(e);for(let r=0;r<e;++r){const o=t[r];if(!("style"in o))throw new Error("Expected a list of rules with a style property");s[r]=o}return _se(s)}return Nw(t)}class Ise extends Bf{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){pt()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,s=e.pixelToCoordinateTransform;br(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),wT(s,i)}forEachFeatureAtCoordinate(e,n,i,s,r,o,a,l){let c;const u=n.viewState;function d(w,b,C,k){return r.call(o,b,w?C:null,k)}const f=u.projection,g=gT(e.slice(),f),p=[[0,0]];if(f.canWrapX()&&s){const w=f.getExtent(),b=bt(w);p.push([-b,0],[b,0])}const m=n.layerStatesArray,v=m.length,y=[],x=[];for(let w=0;w<p.length;w++)for(let b=v-1;b>=0;--b){const C=m[b],k=C.layer;if(k.hasRenderer()&&Ov(C,u)&&a.call(l,k)){const T=k.getRenderer(),A=k.getSource();if(T&&A){const I=A.getWrapX()?g:e,V=d.bind(null,C.managed);x[0]=I[0]+p[w][0],x[1]=I[1]+p[w][1],c=T.forEachFeatureAtCoordinate(x,n,i,V,y)}if(c)return c}}if(y.length===0)return;const E=1/y.length;return y.forEach((w,b)=>w.distanceSq+=b*E),y.sort((w,b)=>w.distanceSq-b.distanceSq),y.some(w=>c=w.callback(w.feature,w.layer,w.geometry)),c}hasFeatureAtCoordinate(e,n,i,s,r,o){return this.forEachFeatureAtCoordinate(e,n,i,s,yu,this,r,o)!==void 0}getMap(){return this.map_}renderFrame(e){pt()}scheduleExpireIconCache(e){Is.canExpireCache()&&e.postRenderFunctions.push(Dse)}}function Dse(t,e){Is.expire()}class XT extends Er{constructor(e,n,i,s){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class Rse extends Ise{constructor(e){super(e),this.fontChangeListenerKey_=ft(er,Fl.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Jf+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const s=new XT(e,void 0,n);i.dispatchEvent(s)}}disposeInternal(){Lt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(zi.PRECOMPOSE,e);const n=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof GT&&a.layer.getDeclutter())&&(e.declutter={});const s=e.viewState;this.children_.length=0;const r=[];let o=null;for(let a=0,l=n.length;a<l;++a){const c=n[a];e.layerIndex=a;const u=c.layer,d=u.getSourceState();if(!Ov(c,s)||d!="ready"&&d!="undefined"){u.unrender();continue}const f=u.render(e,o);f&&(f!==o&&(this.children_.push(f),o=f),r.push(c))}this.declutter(e,r),Iie(this.element_,this.children_),this.dispatchRenderEvent(zi.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const s=n[i],r=s.layer;r.getDeclutter()&&r.renderDeclutter(e,s)}n.forEach(i=>i.layer.renderDeferred(e))}}}class Hr extends Er{constructor(e,n){super(e),this.layer=n}}const Ep={LAYERS:"layers"};class Jl extends oT{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Ep.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Ms(i.slice(),{unique:!0}):mt(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Ms(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Lt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ft(e,gi.ADD,this.handleLayersAdd_,this),ft(e,gi.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Lt);qu(this.listenerKeys_);const n=e.getArray();for(let i=0,s=n.length;i<s;i++){const r=n[i];this.registerLayerListeners_(r),this.dispatchEvent(new Hr("addlayer",r))}this.changed()}registerLayerListeners_(e){const n=[ft(e,Fl.PROPERTYCHANGE,this.handleLayerChange_,this),ft(e,tt.CHANGE,this.handleLayerChange_,this)];e instanceof Jl&&n.push(ft(e,"addlayer",this.handleLayerGroupAdd_,this),ft(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Et(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Hr("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Hr("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Hr("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=Et(n);this.listenerKeys_[i].forEach(Lt),delete this.listenerKeys_[i],this.dispatchEvent(new Hr("removelayer",n)),this.changed()}getLayers(){return this.get(Ep.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,r=i.length;s<r;++s)this.dispatchEvent(new Hr("removelayer",i[s]))}this.set(Ep.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const s=this.getLayerState();let r=s.zIndex;!e&&s.zIndex===void 0&&(r=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=s.opacity,l.visible=l.visible&&s.visible,l.maxResolution=Math.min(l.maxResolution,s.maxResolution),l.minResolution=Math.max(l.minResolution,s.minResolution),l.minZoom=Math.max(l.minZoom,s.minZoom),l.maxZoom=Math.min(l.maxZoom,s.maxZoom),s.extent!==void 0&&(l.extent!==void 0?l.extent=cs(l.extent,s.extent):l.extent=s.extent),l.zIndex===void 0&&(l.zIndex=r)}return n}getSourceState(){return"ready"}}class Qa extends Er{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class Fr extends Qa{constructor(e,n,i,s,r,o){super(e,n,r),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const en={SINGLECLICK:"singleclick",CLICK:tt.CLICK,DBLCLICK:tt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Nm={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class $se extends zf{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=ft(i,Nm.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ft(i,Nm.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(tt.TOUCHMOVE,this.boundHandleTouchMove_,OT?{passive:!1}:!1)}emulateClick_(e){let n=new Fr(en.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Fr(en.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Fr(en.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==en.POINTERUP||n.type==en.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==n.target){delete this.trackedTouches_[s];break}}else(n.type==en.POINTERDOWN||n.type==en.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new Fr(en.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Lt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new Fr(en.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ft(i,en.POINTERMOVE,this.handlePointerMove_,this),ft(i,en.POINTERUP,this.handlePointerUp_,this),ft(this.element_,en.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ft(this.element_.getRootNode(),en.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new Fr(en.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Fr(en.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Lt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(tt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Lt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Lt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Br={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},zn={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Xh=1/0;class Lse{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,qu(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(e){mt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Xh?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,s=n.length,r=n[e],o=i[e],a=e;for(;e<s>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<s&&i[c]<i[l]?c:l;n[e]=n[u],i[e]=i[u],e=u}n[e]=r,i[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const i=this.elements_,s=this.priorities_,r=i[n],o=s[n];for(;n>e;){const a=this.getParentIndex_(n);if(s[a]>o)i[n]=i[a],s[n]=s[a],n=a;else break}i[n]=r,s[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let s=0;const r=n.length;let o,a,l;for(a=0;a<r;++a)o=n[a],l=e(o),l==Xh?delete this.queuedElements_[this.keyFunction_(o)]:(i[s]=l,n[s++]=o);n.length=s,i.length=s,this.heapify_()}}const Ve={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Ose extends Lse{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(tt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===Ve.LOADED||i===Ve.ERROR||i===Ve.EMPTY){i!==Ve.ERROR&&n.removeEventListener(tt.CHANGE,this.boundHandleTileChange_);const s=n.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const s=this.dequeue()[0],r=s.getKey();s.getState()===Ve.IDLE&&!(r in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,s.load())}}}function Nse(t,e,n,i,s){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Xh;const r=t.viewState.center,o=i[0]-r[0],a=i[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}class Kv extends Ws{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let n=0,i=this.listenerKeys.length;n<i;++n)Lt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Bl&&this.listenerKeys.push(ft(e,Br.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Fse extends Kv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",s=e.expandClassName!==void 0?e.expandClassName:n+"-expand",r=e.collapseLabel!==void 0?e.collapseLabel:"›",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=s):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(tt.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+Jf+" "+zv+(this.collapsed_&&this.collapsible_?" "+Pw:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(s=>s.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(s=>i.add(s)):i.add(this.attributions_)),!this.overrideCollapsible_){const s=!n.some(r=>r.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(s)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(s=>ane(()=>s))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!So(n,this.renderedAttributions_)){Mie(this.ulElement_);for(let s=0,r=n.length;s<r;++s){const o=document.createElement("li");o.innerHTML=n[s],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Pw),this.collapsed_?Aw(this.collapseLabel_,this.label_):Aw(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Bse extends Kv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"⇧",s=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const r=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(tt.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+Jf+" "+zv,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Zd)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:ql}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const r=this.element.classList.contains(Zd);!r&&i===0?this.element.classList.add(Zd):r&&i!==0&&this.element.classList.remove(Zd)}this.label_.style.transform=s}this.rotation_=i}}class Vse extends Kv{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,s=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",r=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=s,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(tt.CLICK,this.handleClick_.bind(this,i),!1);const d=document.createElement("button");d.className=r,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof a=="string"?document.createTextNode(a):a),d.addEventListener(tt.CLICK,this.handleClick_.bind(this,-i),!1);const f=n+" "+Jf+" "+zv,g=this.element;g.className=f,g.appendChild(u),g.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const r=i.getConstrainedZoom(s+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:r,duration:this.duration_,easing:ql})):i.setZoom(r)}}}function Wse(t){t=t||{};const e=new Ms;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new Vse(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new Bse(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new Fse(t.attributionOptions)),e}const zw={ACTIVE:"active"};class td extends Ws{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(zw.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(zw.ACTIVE,e)}setMap(e){this.map_=e}}function zse(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:zne,center:t.getConstrainedCenter(s)})}}function Uv(t,e,n,i){const s=t.getZoom();if(s===void 0)return;const r=t.getConstrainedZoom(s+e),o=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:ql})}class Yse extends td{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==en.DBLCLICK){const i=e.originalEvent,s=e.map,r=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=s.getView();Uv(a,o,r,this.duration_),i.preventDefault(),n=!0}return!n}}class nd extends td{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==en.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==en.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==en.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==en.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Gv(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}function Fm(t){const e=arguments;return function(n){let i=!0;for(let s=0,r=e.length;s<r&&(i=i&&e[s](n),!!i);++s);return i}}const Hse=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},jse=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},qT=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?jse(t):!0},Kse=yu,ZT=function(t){const e=t.originalEvent;return e.button==0&&!(Pie&&DT&&e.ctrlKey)},JT=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Use=function(t){const e=t.originalEvent;return DT?e.metaKey:e.ctrlKey},Gse=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},QT=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Cp=function(t){const e=t.originalEvent;return mt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},Xse=function(t){const e=t.originalEvent;return mt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class qse extends nd{constructor(e){super({stopDown:Wf}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:Fm(JT,Xse);this.condition_=e.onFocusOnly?Fm(qT,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(Gv(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],a=e.map.getView();Pne(r,a.getResolution()),Ev(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-s*Math.cos(r),a[1]-s*Math.sin(r)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:ql})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Zse extends nd{constructor(e){e=e||{},super({stopDown:Wf}),this.condition_=e.condition?e.condition:Hse,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Cp(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===Pv)return;const s=n.getSize(),r=e.pixel,o=Math.atan2(s[1]/2-r[1],r[0]-s[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return Cp(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Cp(e)&&ZT(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Jse extends Bf{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(e[0],n[0])+i,s.top=Math.min(e[1],n[1])+i,s.width=Math.abs(n[0]-e[0])+i,s.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,s=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new Cu([s])}getGeometry(){return this.geometry_}}const za={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class bc extends Er{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class Qse extends nd{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Jse(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??ZT,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const s=i[0]-n[0],r=i[1]-n[1];return s*s+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new bc(za.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new bc(n?za.BOXEND:za.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new bc(za.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new bc(za.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new bc(za.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class ere extends Qse{constructor(e){e=e||{};const n=e.condition?e.condition:Gse;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const r=i.rotatedExtentForGeometry(s),o=i.getResolutionForExtentInternal(r),a=i.getResolution()/o;s=s.clone(),s.scale(a*a)}i.fitInternal(s,{duration:this.duration_,easing:ql})}}const Wo={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class tre extends td{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return JT(n)&&QT(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==tt.KEYDOWN){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==Wo.DOWN||s==Wo.LEFT||s==Wo.RIGHT||s==Wo.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,c=0;s==Wo.DOWN?c=-a:s==Wo.LEFT?l=-a:s==Wo.RIGHT?l=a:c=a;const u=[l,c];Ev(u,o.getRotation()),zse(o,u,this.duration_),i.preventDefault(),n=!0}}return!n}}class nre extends td{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!Use(n)&&QT(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==tt.KEYDOWN||e.type==tt.KEYPRESS){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==="+"||s==="-")){const r=e.map,o=s==="+"?this.delta_:-this.delta_,a=r.getView();Uv(a,o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class ire{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const s=this.points_[n+2]-this.points_[i+2];if(s<1e3/60)return!1;const r=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class sre extends td{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Kse;this.condition_=e.onFocusOnly?Fm(qT,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==tt.WHEEL)return!0;const i=e.map,s=e.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let r;if(e.type==tt.WHEEL&&(r=s.deltaY,Tie&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=RT),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-rn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Uv(n,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class rre extends nd{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Wf),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],s=this.targetPointers[1],r=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=r;const o=e.map,a=o.getView();a.getConstraints().rotation!==Pv&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Gv(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class ore extends nd{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Wf),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],s=this.targetPointers[1],r=i.clientX-s.clientX,o=i.clientY-s.clientY,a=Math.sqrt(r*r+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Gv(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function are(t){t=t||{};const e=new Ms,n=new ire(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new Zse),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new Yse({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new qse({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new rre),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new ore({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new tre),e.push(new nre({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new sre({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new ere({duration:t.zoomDuration})),e}function eA(t){if(t instanceof qf){t.setMapInternal(null);return}t instanceof Jl&&t.getLayers().forEach(eA)}function tA(t,e){if(t instanceof qf){t.setMapInternal(e);return}if(t instanceof Jl){const n=t.getLayers().getArray();for(let i=0,s=n.length;i<s;++i)tA(n[i],e)}}let lre=class extends Ws{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=cre(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:RT,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=hs(),this.pixelToCoordinateTransform_=hs(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Wse(),this.interactions=n.interactions||are({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Ose(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(zn.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(zn.VIEW,this.handleViewChanged_),this.addChangeListener(zn.SIZE,this.handleSizeChanged_),this.addChangeListener(zn.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof ks)&&e.view.then(function(s){i.setView(new ks(s))}),this.controls.addEventListener(gi.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(gi.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(gi.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(gi.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(gi.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(gi.REMOVE,s=>{const r=s.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){tA(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const r=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:yu,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,r,a,n,null,o,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(s){i.push(s)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(s){s instanceof Jl?n(s.getLayers()):e.push(s)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const s=n.layerFilter!==void 0?n.layerFilter:yu,r=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,o,s,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),r=i.width/s[0],o=i.height/s[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/r,(a.clientY-i.top)/o]}getTarget(){return this.get(zn.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Dm(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?On(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(zn.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Ms){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n];if(!s.visible)continue;const r=s.layer.getRenderer();if(r&&!r.ready)return!0;const o=s.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Qs(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?On(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(zn.SIZE)}getView(){return this.get(zn.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,s){return Nse(this.frameState_,e,n,i,s)}handleBrowserEvent(e,n){n=n||e.type;const i=new Fr(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===Nm.POINTERDOWN||i===tt.WHEEL||i===tt.KEYDOWN){const s=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():s,o=n.target,a=r instanceof ShadowRoot?r.host===o?r.host.ownerDocument:r:r===s?s.documentElement:r;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const s=this.getInteractions().getArray().slice();for(let r=s.length-1;r>=0;r--){const o=s[r];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let s=this.maxTilesLoading_,r=s;if(e){const o=e.viewHints;if(o[Hn.ANIMATING]||o[Hn.INTERACTING]){const a=Date.now()-e.time>8;s=a?0:8,r=a?0:2}}n.getTilesLoading()<s&&(n.reprioritize(),n.loadMoreTiles(s,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(zi.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(zi.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Qa(Br.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Qa(Br.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let s=0,r=i.length;s<r;++s)i[s](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)Lt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(tt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(tt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Rse(this)),this.mapBrowserEventHandler_=new $se(this,this.moveTolerance_);for(const r in en)this.mapBrowserEventHandler_.addEventListener(en[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(tt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(tt.WHEEL,this.boundHandleBrowserEvent_,OT?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const r=n.getRootNode();i=r instanceof ShadowRoot?r.host:n}this.targetChangeHandlerKeys_=[ft(i,tt.KEYDOWN,this.handleBrowserEvent,this),ft(i,tt.KEYPRESS,this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Lt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Lt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ft(e,Fl.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ft(e,tt.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Lt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Hr("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ft(e,Fl.PROPERTYCHANGE,this.render,this),ft(e,tt.CHANGE,this.render,this),ft(e,"addlayer",this.handleLayerAdd_,this),ft(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){eA(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),s=this.frameState_;let r=null;if(n!==void 0&&Cw(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Mm(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:Et(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;r.nextExtent=Mm(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),s&&(!this.previousExtent_||!Uf(this.previousExtent_)&&!bu(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Qa(Br.MOVESTART,this,s)),this.previousExtent_=Yf(this.previousExtent_)),this.previousExtent_&&!r.viewHints[Hn.ANIMATING]&&!r.viewHints[Hn.INTERACTING]&&!bu(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Qa(Br.MOVEEND,this,r)),lT(r.extent,this.previousExtent_))),this.dispatchEvent(new Qa(Br.POSTRENDER,this,r)),this.renderComplete_=(this.hasListener(Br.LOADSTART)||this.hasListener(Br.LOADEND)||this.hasListener(zi.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Hr("removelayer",n)),this.set(zn.LAYERGROUP,e)}setSize(e){this.set(zn.SIZE,e)}setTarget(e){this.set(zn.TARGET,e)}setView(e){if(!e||e instanceof ks){this.set(zn.VIEW,e);return}this.set(zn.VIEW,new ks);const n=this;e.then(function(i){n.setView(new ks(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const s=getComputedStyle(e),r=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),o=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(r)&&!isNaN(o)&&(n=[Math.max(0,r),Math.max(0,o)],!Cw(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&pT("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!So(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function cre(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Jl({layers:t.layers});n[zn.LAYERGROUP]=i,n[zn.TARGET]=t.target,n[zn.VIEW]=t.view instanceof ks?t.view:new ks;let s;t.controls!==void 0&&(Array.isArray(t.controls)?s=new Ms(t.controls.slice()):(mt(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=t.controls));let r;t.interactions!==void 0&&(Array.isArray(t.interactions)?r=new Ms(t.interactions.slice()):(mt(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),r=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new Ms(t.overlays.slice()):(mt(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new Ms,{controls:s,interactions:r,keyboardEventTarget:e,overlays:o,values:n}}class Xv extends zf{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(tt.CHANGE)}release(){this.state===Ve.ERROR&&this.setState(Ve.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Ve.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){pt()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const s=n-i+1e3/60;return s>=this.transition_?1:bT(s/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class nA extends Xv{constructor(e,n,i,s,r,o){super(e,n,o),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Ve.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Ve.ERROR,this.unlistenImage_(),this.image_=ure(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Ve.LOADED:this.state=Ve.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Ve.ERROR&&(this.state=Ve.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Ve.IDLE&&(this.state=Ve.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Die(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function ure(){const t=hn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const iA=.5,dre=10,Yw=.25;class sA{constructor(e,n,i,s,r,o){this.sourceProj_=e,this.targetProj_=n;let a={};const l=zh(this.targetProj_,this.sourceProj_);this.transformInv_=function(x){const E=x[0]+"/"+x[1];return a[E]||(a[E]=l(x)),a[E]},this.maxSourceExtent_=s,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&bt(s)>=bt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?bt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?bt(this.targetProj_.getExtent()):null;const c=xa(i),u=Kf(i),d=jf(i),f=Hf(i),g=this.transformInv_(c),p=this.transformInv_(u),m=this.transformInv_(d),v=this.transformInv_(f),y=dre+(o?Math.max(0,Math.ceil(Math.log2(wu(i)/(o*o*256*256)))):0);if(this.addQuad_(c,u,d,f,g,p,m,v,y),this.wrapsXInSource_){let x=1/0;this.triangles_.forEach(function(E,w,b){x=Math.min(x,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(E=>{if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-x>this.sourceWorldWidth_/2){const w=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];w[0][0]-x>this.sourceWorldWidth_/2&&(w[0][0]-=this.sourceWorldWidth_),w[1][0]-x>this.sourceWorldWidth_/2&&(w[1][0]-=this.sourceWorldWidth_),w[2][0]-x>this.sourceWorldWidth_/2&&(w[2][0]-=this.sourceWorldWidth_);const b=Math.min(w[0][0],w[1][0],w[2][0]);Math.max(w[0][0],w[1][0],w[2][0])-b<this.sourceWorldWidth_/2&&(E.source=w)}})}a={}}addTriangle_(e,n,i,s,r,o){this.triangles_.push({source:[s,r,o],target:[e,n,i]})}addQuad_(e,n,i,s,r,o,a,l,c){const u=cw([r,o,a,l]),d=this.sourceWorldWidth_?bt(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&d>.5&&d<1;let p=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const v=cw([e,n,i,s]);p=bt(v)/this.targetWorldWidth_>Yw||p}!g&&this.sourceProj_.isGlobal()&&d&&(p=d>Yw||p)}if(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!vi(u,this.maxSourceExtent_))return;let m=0;if(!p&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)p=!0;else if(m=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(c>0){if(!p){const v=[(e[0]+i[0])/2,(e[1]+i[1])/2],y=this.transformInv_(v);let x;g?x=(hl(r[0],f)+hl(a[0],f))/2-hl(y[0],f):x=(r[0]+a[0])/2-y[0];const E=(r[1]+a[1])/2-y[1];p=x*x+E*E>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const v=[(n[0]+i[0])/2,(n[1]+i[1])/2],y=this.transformInv_(v),x=[(s[0]+e[0])/2,(s[1]+e[1])/2],E=this.transformInv_(x);this.addQuad_(e,n,v,x,r,o,y,E,c-1),this.addQuad_(x,v,i,s,E,y,a,l,c-1)}else{const v=[(e[0]+n[0])/2,(e[1]+n[1])/2],y=this.transformInv_(v),x=[(i[0]+s[0])/2,(i[1]+s[1])/2],E=this.transformInv_(x);this.addQuad_(e,v,x,s,r,y,E,l,c-1),this.addQuad_(v,n,i,x,y,o,a,E,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}m&11||this.addTriangle_(e,i,s,r,a,l),m&14||this.addTriangle_(e,i,n,r,a,o),m&&(m&13||this.addTriangle_(n,s,e,o,l,r),m&7||this.addTriangle_(n,s,i,o,l,a))}calculateSourceExtent(){const e=Gi();return this.triangles_.forEach(function(n,i,s){const r=n.source;Zc(e,r[0]),Zc(e,r[1]),Zc(e,r[2])}),e}getTriangles(){return this.triangles_}}let Sp;const mr=[];function Hw(t,e,n,i,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,s)),t.restore()}function kp(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function hre(){if(Sp===void 0){const t=hn(6,6,mr);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Hw(t,4,5,4,0),Hw(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Sp=kp(e,0)||kp(e,4)||kp(e,8),zl(t),mr.push(t.canvas)}return Sp}function jw(t,e,n,i){const s=vT(n,e,t);let r=dw(e,i,n);const o=e.getMetersPerUnit();o!==void 0&&(r*=o);const a=t.getMetersPerUnit();a!==void 0&&(r/=a);const l=t.getExtent();if(!l||Wl(l,s)){const c=dw(t,r,s)/r;isFinite(c)&&c>0&&(r/=c)}return r}function rA(t,e,n,i){const s=pa(n);let r=jw(t,e,s,i);return(!isFinite(r)||r<=0)&&hT(n,function(o){return r=jw(t,e,o,i),isFinite(r)&&r>0}),r}function oA(t,e,n,i,s,r,o,a,l,c,u,d,f,g){const p=hn(Math.round(n*t),Math.round(n*e),mr);if(d||(p.imageSmoothingEnabled=!1),l.length===0)return p.canvas;p.scale(n,n);function m(b){return Math.round(b*n)/n}p.globalCompositeOperation="lighter";const v=Gi();l.forEach(function(b,C,k){xne(v,b.extent)});let y;const x=n/i,E=(d?1:1+Math.pow(2,-24))/x;if(!f||l.length!==1||c!==0){if(y=hn(Math.round(bt(v)*x),Math.round(Un(v)*x),mr),d||(y.imageSmoothingEnabled=!1),s&&g){const b=(s[0]-v[0])*x,C=-(s[3]-v[3])*x,k=bt(s)*x,T=Un(s)*x;y.rect(b,C,k,T),y.clip()}l.forEach(function(b,C,k){if(b.image.width>0&&b.image.height>0){if(b.clipExtent){y.save();const Y=(b.clipExtent[0]-v[0])*x,ne=-(b.clipExtent[3]-v[3])*x,N=bt(b.clipExtent)*x,B=Un(b.clipExtent)*x;y.rect(d?Y:Math.round(Y),d?ne:Math.round(ne),d?N:Math.round(Y+N)-Math.round(Y),d?B:Math.round(ne+B)-Math.round(ne)),y.clip()}const T=(b.extent[0]-v[0])*x,A=-(b.extent[3]-v[3])*x,I=bt(b.extent)*x,V=Un(b.extent)*x;y.drawImage(b.image,c,c,b.image.width-2*c,b.image.height-2*c,d?T:Math.round(T),d?A:Math.round(A),d?I:Math.round(T+I)-Math.round(T),d?V:Math.round(A+V)-Math.round(A)),b.clipExtent&&y.restore()}})}const w=xa(o);return a.getTriangles().forEach(function(b,C,k){const T=b.source,A=b.target;let I=T[0][0],V=T[0][1],Y=T[1][0],ne=T[1][1],N=T[2][0],B=T[2][1];const R=m((A[0][0]-w[0])/r),W=m(-(A[0][1]-w[1])/r),X=m((A[1][0]-w[0])/r),J=m(-(A[1][1]-w[1])/r),H=m((A[2][0]-w[0])/r),ce=m(-(A[2][1]-w[1])/r),ie=I,te=V;I=0,V=0,Y-=ie,ne-=te,N-=ie,B-=te;const D=[[Y,ne,0,0,X-R],[N,B,0,0,H-R],[0,0,Y,ne,J-W],[0,0,N,B,ce-W]],ee=dne(D);if(!ee)return;if(p.save(),p.beginPath(),hre()||!d){p.moveTo(X,J);const L=4,le=R-X,de=W-J;for(let xe=0;xe<L;xe++)p.lineTo(X+m((xe+1)*le/L),J+m(xe*de/(L-1))),xe!=L-1&&p.lineTo(X+m((xe+1)*le/L),J+m((xe+1)*de/(L-1)));p.lineTo(H,ce)}else p.moveTo(X,J),p.lineTo(R,W),p.lineTo(H,ce);p.clip(),p.transform(ee[0],ee[2],ee[1],ee[3],R,W),p.translate(v[0]-ie,v[3]-te);let ue;if(y)ue=y.canvas,p.scale(E,-E);else{const L=l[0],le=L.extent;ue=L.image,p.scale(bt(le)/ue.width,-Un(le)/ue.height)}p.drawImage(ue,0,0),p.restore()}),y&&(zl(y),mr.push(y.canvas)),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach(function(b,C,k){const T=b.target,A=(T[0][0]-w[0])/r,I=-(T[0][1]-w[1])/r,V=(T[1][0]-w[0])/r,Y=-(T[1][1]-w[1])/r,ne=(T[2][0]-w[0])/r,N=-(T[2][1]-w[1])/r;p.beginPath(),p.moveTo(V,Y),p.lineTo(A,I),p.lineTo(ne,N),p.closePath(),p.stroke()}),p.restore()),p.canvas}class Bm extends Xv{constructor(e,n,i,s,r,o,a,l,c,u,d,f){super(r,Ve.IDLE,f),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const g=s.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const v=p?cs(g,p):g;if(wu(v)===0){this.state=Ve.EMPTY;return}const y=e.getExtent();y&&(m?m=cs(m,y):m=y);const x=s.getResolution(this.wrappedTileCoord_[0]),E=rA(e,i,v,x);if(!isFinite(E)||E<=0){this.state=Ve.EMPTY;return}const w=u!==void 0?u:iA;if(this.triangulation_=new sA(e,i,v,m,E*w,x),this.triangulation_.getTriangles().length===0){this.state=Ve.EMPTY;return}this.sourceZ_=n.getZForResolution(E);let b=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(b[1]=rn(b[1],m[1],m[3]),b[3]=rn(b[3],m[1],m[3])):b=cs(b,m)),!wu(b))this.state=Ve.EMPTY;else{let C=0,k=0;e.canWrapX()&&(C=bt(y),k=Math.floor((b[0]-y[0])/C)),xv(b.slice(),e,!0).forEach(A=>{const I=n.getTileRangeForExtentAndZ(A,this.sourceZ_);for(let V=I.minX;V<=I.maxX;V++)for(let Y=I.minY;Y<=I.maxY;Y++){const ne=c(this.sourceZ_,V,Y,a);if(ne){const N=k*C;this.sourceTiles_.push({tile:ne,offset:N})}}++k}),this.sourceTiles_.length===0&&(this.state=Ve.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{const i=n.tile;if(i&&i.getState()==Ve.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=n.offset,s[2]+=n.offset;const r=this.clipExtent_?.slice();r&&(r[0]+=n.offset,r[2]+=n.offset),e.push({extent:s,clipExtent:r,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Ve.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),s=typeof i=="number"?i:i[0],r=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=oA(s,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Ve.LOADED}this.changed()}load(){if(this.state==Ve.IDLE){this.state=Ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==Ve.IDLE||i==Ve.LOADING){e++;const s=ft(n,tt.CHANGE,r=>{const o=n.getState();(o==Ve.LOADED||o==Ve.ERROR||o==Ve.EMPTY)&&(Lt(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(s)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,s){n.getState()==Ve.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Lt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(zl(this.canvas_.getContext("2d")),mr.push(this.canvas_),this.canvas_=null),super.release()}}const Tp={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class aA extends Ws{constructor(e){super(),this.projection=Xi(e.projection),this.attributions_=Kw(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Kw(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Kw(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}class qv{constructor(e,n,i,s){this.minX=e,this.maxX=n,this.minY=i,this.maxY=s}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Ya(t,e,n,i,s){return s!==void 0?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=i,s):new qv(t,e,n,i)}function qh(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function fre(t,e,n){return t+"/"+e+"/"+n}function gre(t){return pre(t[0],t[1],t[2])}function pre(t,e,n){return(e<<t)+n}function mre(t,e){const n=t[0],i=t[1],s=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const r=e.getFullTileRange(n);return r?r.containsXY(i,s):!0}const Ha=[0,0,0],Dr=5;class lA{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,mt(one(this.resolutions_,(s,r)=>r-s),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let s=0,r=this.resolutions_.length-1;s<r;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,mt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=xa(i)),mt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,mt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:_v,mt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((s,r)=>{const o=new qv(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,r);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const s=this.getTileRangeForExtentAndZ(e,n);for(let r=s.minX,o=s.maxX;r<=o;++r)for(let a=s.minY,l=s.maxY;a<=l;++a)i([n,r,a])}forEachTileCoordParentTileRange(e,n,i,s){let r,o,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,s);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),r=Ya(o,o,a,a,i)):r=this.getTileRangeForExtentAndZ(l,c,i),n(c,r))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const r=e[1]*2,o=e[2]*2;return Ya(r,r+1,o,o+1,n)}const s=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const s=e[0],r=e[1],o=e[2];if(n===s)return Ya(r,o,r,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-s),c=Math.floor(r*l),u=Math.floor(o*l);if(n<s)return Ya(c,c,u,u,i);const d=Math.floor(l*(r+1))-1,f=Math.floor(l*(o+1))-1;return Ya(c,d,u,f,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Ha);const s=Ha[1],r=Ha[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Ha);const o=Ha[1],a=Ha[2];return Ya(s,o,r,a,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=wi(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*s[0]*i,n[1]-(e[2]+.5)*s[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),s=this.getResolution(e[0]),r=wi(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*r[0]*s,a=i[1]-(e[2]+1)*r[1]*s,l=o+r[0]*s,c=a+r[1]*s;return uo(o,a,l,c,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,s,r){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),c=wi(this.getTileSize(o),this.tmpSize_);let u=a*(e-l[0])/i/c[0],d=a*(l[1]-n)/i/c[1];return s?(u=Kd(u,Dr)-1,d=Kd(d,Dr)-1):(u=jd(u,Dr),d=jd(d,Dr)),qh(o,u,d,r)}getTileCoordForXYAndZ_(e,n,i,s,r){const o=this.getOrigin(i),a=this.getResolution(i),l=wi(this.getTileSize(i),this.tmpSize_);let c=(e-o[0])/a/l[0],u=(o[1]-n)/a/l[1];return s?(c=Kd(c,Dr)-1,u=Kd(u,Dr)-1):(c=jd(c,Dr),u=jd(u,Dr)),qh(i,c,u,r)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=pv(this.resolutions_,e,n||0);return rn(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return TT(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let s=this.minZoom;s<n;++s)i[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=i}}function cA(t){let e=t.getDefaultTileGrid();return e||(e=bre(t),t.setDefaultTileGrid(e)),e}function _re(t,e,n){const i=e[0],s=t.getTileCoordCenter(e),r=Zv(n);if(!Wl(r,s)){const o=bt(r),a=Math.ceil((r[0]-s[0])/o);return s[0]+=o*a,t.getTileCoordForCoordAndZ(s,i)}return e}function vre(t,e,n,i){i=i!==void 0?i:"top-left";const s=uA(t,e,n);return new lA({extent:t,origin:Cne(t,i),resolutions:s,tileSize:n})}function yre(t){const e=t||{},n=e.extent||Xi("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:uA(n,e.maxZoom,e.tileSize,e.maxResolution)};return new lA(i)}function uA(t,e,n,i){e=e!==void 0?e:hne,n=wi(n!==void 0?n:_v);const s=Un(t),r=bt(t);i=i>0?i:Math.max(r/n[0],s/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function bre(t,e,n,i){const s=Zv(t);return vre(s,e,n,i)}function Zv(t){t=Xi(t);let e=t.getExtent();if(!e){const n=180*vv.degrees/t.getMetersPerUnit();e=uo(-n,-n,n,n)}return e}class wre extends aA{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&wi(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||Et(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,s,r){return pt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:cA(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const s=this.getTileGridForProjection(i),r=this.getTilePixelRatio(n),o=wi(s.getTileSize(e),this.tmpSize);return r==1?o:bie(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=_re(i,e,n)),mre(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class xre extends Er{constructor(e,n){super(e),this.tile=n}}const Ere=/\{z\}/g,Cre=/\{x\}/g,Sre=/\{y\}/g,kre=/\{-y\}/g;function Tre(t,e,n,i,s){return t.replace(Ere,e.toString()).replace(Cre,n.toString()).replace(Sre,i.toString()).replace(kre,function(){if(s===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(s-i).toString()})}function Are(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let r;for(r=i;r<=s;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}function Pre(t,e){return function(n,i,s){if(!n)return;let r;const o=n[0];if(e){const a=e.getFullTileRange(o);a&&(r=a.getHeight()-1)}return Tre(t,o,n[1],n[2],r)}}function Mre(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Pre(t[s],e);return Ire(i)}function Ire(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const s=gre(e),r=hl(s,t.length);return t[r](e,n,i)}}class Jv extends wre{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Jv.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=Et(n),s=n.getState();let r;s==Ve.LOADING?(this.tileLoadingKeys_[i]=!0,r=Tp.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],r=s==Ve.ERROR?Tp.TILELOADERROR:s==Ve.LOADED?Tp.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new xre(r,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=Are(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Mre(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}}class Dre extends Jv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Rre,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:nA,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!fp(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||fp(n,e)))return this.tileGrid;const i=Et(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=cA(e)),this.tileGridForProjection[i]}createTile_(e,n,i,s,r,o){const a=[e,n,i],l=this.getTileCoordForTileUrlFunction(a,r),c=l?this.tileUrlFunction(l,s,r):void 0,u=new this.tileClass(a,c!==void 0?Ve.IDLE:Ve.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(tt.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,n,i,s,r){const o=this.getProjection();if(!o||!r||fp(o,r))return this.getTileInternal(e,n,i,s,o||r);const a=[e,n,i],l=this.getKey(),c=this.getTileGridForProjection(o),u=this.getTileGridForProjection(r),d=this.getTileCoordForTileUrlFunction(a,r),f=new Bm(o,c,r,u,a,d,this.getTilePixelRatio(s),this.getGutter(),(g,p,m,v)=>this.getTileInternal(g,p,m,v,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(e,n,i,s,r){const o=this.getKey();return this.createTile_(e,n,i,s,r,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const i=Xi(e);if(i){const s=Et(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=n)}}}function Rre(t,e){t.getImage().src=e}class $re extends Dre{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:yre({extent:Zv(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const Lre='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Ore extends $re{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[Lre];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",s=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:s,wrapX:e.wrapX,zDirection:e.zDirection})}}const Qd={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Nre extends qf{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Qd.PRELOAD)}setPreload(e){this.set(Qd.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Qd.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Qd.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const Fre=5;class Bre extends Zu{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=Fre}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return pt()}getData(e){return null}prepareFrame(e){return pt()}renderFrame(e,n){return pt()}forEachFeatureAtCoordinate(e,n,i,s,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===ot.LOADED||n.getState()===ot.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=ot.LOADED&&n!=ot.ERROR&&e.addEventListener(tt.CHANGE,this.boundHandleImageChange_),n==ot.IDLE&&(e.load(),n=e.getState()),n==ot.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class dA{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Hh(),{get:(e,n)=>{if(typeof Hh()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;++i){const r=n[i];if(typeof r=="function"){r(e);continue}const o=n[++i];if(typeof e[r]=="function")e[r](...o);else{if(typeof o=="function"){e[r]=o(e);continue}e[r]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Uw=[];let el=null;function Vre(){el=hn(1,1,void 0,{willReadFrequently:!0})}class hA extends Bre{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=hs(),this.pixelTransform=hs(),this.inversePixelTransform=hs(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){el||Vre(),el.clearRect(0,0,1,1);let s;try{el.drawImage(e,n,i,1,1,0,0,1,1),s=el.getImageData(0,0,1,1).data}catch{return el=null,null}return s}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const s=this.getLayer().getClassName();let r,o;if(e&&e.className===s&&(!i||e&&e.style.backgroundColor&&So(ku(e.style.backgroundColor),ku(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=s;let a=r.style;a.position="absolute",a.width="100%",a.height="100%",o=hn();const l=o.canvas;r.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const s=xa(i),r=Kf(i),o=jf(i),a=Hf(i);On(n.coordinateToPixelTransform,s),On(n.coordinateToPixelTransform,r),On(n.coordinateToPixelTransform,o),On(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;On(l,s),On(l,r),On(l,o),On(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,n){const i=e.extent,s=e.viewState.resolution,r=e.viewState.rotation,o=e.pixelRatio,a=Math.round(bt(i)/s*o),l=Math.round(Un(i)/s*o);br(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,r,-a/2,-l/2),wT(this.inversePixelTransform,this.pixelTransform);const c=jne(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(e)),!this.containerReused){const u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,n,i){const s=this.getLayer();if(s.hasListener(e)){const r=new XT(e,this.inversePixelTransform,i,n);s.dispatchEvent(r)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(zi.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(zi.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new dA),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(zi.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(zi.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,s,r,o,a){const l=r/2,c=o/2,u=s/n,d=-u,f=-e[0]+a,g=-e[1];return br(this.tempTransform,l,c,u,d,-i,f,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Zh(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function Wre(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const zre=new Error("disposed");let ja=null;function Yre(t){ja||(ja=hn(t.width,t.height,void 0,{willReadFrequently:!0}));const e=ja.canvas,n=t.width;e.width!==n&&(e.width=n);const i=t.height;return e.height!==i&&(e.height=i),ja.clearRect(0,0,n,i),ja.drawImage(t,0,0),ja.getImageData(0,0,n,i).data}const Hre=[256,256];class Vm extends Xv{constructor(e){const n=Ve.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Zh(this.data_);return e?[e.width,e.height]:Hre}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Ve.IDLE&&this.state!==Ve.ERROR)return;this.state=Ve.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=Ve.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=Ve.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(zre),this.controller_=null),super.disposeInternal()}}class jre{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();){const n=this.pop();n instanceof Bf&&n.dispose()}}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return mt(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return mt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){mt(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}class Kre extends Vm{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,i=n.getExtent(),s=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?s?cs(i,s):i:s;const r=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent();let a=this.sourceTileGrid_.getExtent();const l=o?cs(r,o):r;if(wu(l)===0){this.state=Ve.EMPTY;return}i&&(a?a=cs(a,i):a=i);const c=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=e.targetProj,d=rA(n,u,l,c);if(!isFinite(d)||d<=0){this.state=Ve.EMPTY;return}const f=e.errorThreshold!==void 0?e.errorThreshold:iA;if(this.triangulation_=new sA(n,u,l,a,d*f,c),this.triangulation_.getTriangles().length===0){this.state=Ve.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(d);let g=this.triangulation_.calculateSourceExtent();if(a&&(n.canWrapX()?(g[1]=rn(g[1],a[1],a[3]),g[3]=rn(g[3],a[1],a[3])):g=cs(g,a)),!wu(g))this.state=Ve.EMPTY;else{let p=0,m=0;n.canWrapX()&&(p=bt(i),m=Math.floor((g[0]-i[0])/p)),xv(g.slice(),n,!0).forEach(y=>{const x=this.sourceTileGrid_.getTileRangeForExtentAndZ(y,this.sourceZ_),E=e.getTileFunction;for(let w=x.minX;w<=x.maxX;w++)for(let b=x.minY;b<=x.maxY;b++){const C=E(this.sourceZ_,w,b,this.pixelRatio_);if(C){const k=m*p;this.sourceTiles_.push({tile:C,offset:k})}}++m}),this.sourceTiles_.length===0&&(this.state=Ve.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(p=>{const m=p.tile;if(!m||m.getState()!==Ve.LOADED)return;const v=m.getSize(),y=this.gutter_;let x;const E=Wre(m.getData());E?x=E:(n=!0,x=Yre(Zh(m.getData())));const w=[v[0]+2*y,v[1]+2*y],b=x instanceof Float32Array,C=w[0]*w[1],k=b?Float32Array:Uint8ClampedArray,T=new k(x.buffer),A=k.BYTES_PER_ELEMENT,I=A*T.length/C,V=T.byteLength/w[1],Y=Math.floor(V/A/w[0]),ne=C*Y;let N=T;if(T.length!==ne){N=new k(ne);let W=0,X=0;const J=w[0]*Y;for(let H=0;H<w[1];++H){for(let ce=0;ce<J;++ce)N[W++]=T[X+ce];X+=V/A}}const B=this.sourceTileGrid_.getTileCoordExtent(m.tileCoord);B[0]+=p.offset,B[2]+=p.offset;const R=this.clipExtent_?.slice();R&&(R[0]+=p.offset,R[2]+=p.offset),e.push({extent:B,clipExtent:R,data:new Uint8ClampedArray(N.buffer),dataType:k,bytesPerPixel:I,pixelSize:w})}),this.sourceTiles_.length=0,e.length===0){this.state=Ve.ERROR,this.changed();return}const i=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(i),r=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let u,d;const f=e[0].bytesPerPixel,g=Math.ceil(f/3);for(let p=g-1;p>=0;--p){const m=[];for(let b=0,C=e.length;b<C;++b){const k=e[b],T=k.data,A=k.pixelSize,I=A[0],V=A[1],Y=hn(I,V,mr),ne=Y.createImageData(I,V),N=ne.data;let B=p*3;for(let R=0,W=N.length;R<W;R+=4)N[R]=T[B],N[R+1]=T[B+1],N[R+2]=T[B+2],N[R+3]=255,B+=f;Y.putImageData(ne,0,0),m.push({extent:k.extent,clipExtent:k.clipExtent,image:Y.canvas})}const v=oA(r,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,c,this.triangulation_,m,this.gutter_,!1,!1,!1);for(let b=0,C=m.length;b<C;++b){const T=m[b].image.getContext("2d");zl(T),mr.push(T.canvas)}const y=v.getContext("2d"),x=y.getImageData(0,0,v.width,v.height);zl(y),mr.push(v),u||(d=new Uint8ClampedArray(f*x.width*x.height),u=new e[0].dataType(d.buffer));const E=x.data;let w=p*3;for(let b=0,C=E.length;b<C;b+=4)E[b+3]===255?(d[w]=E[b],d[w+1]=E[b+1],d[w+2]=E[b+2]):(d[w]=0,d[w+1]=0,d[w+2]=0),w+=f}if(n){const p=hn(r,o),m=new ImageData(u,r);p.putImageData(m,0,0),this.reprojData_=p.canvas}else this.reprojData_=u;this.reprojSize_=[Math.round(r*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=Ve.LOADED,this.changed()}load(){if(this.state!==Ve.IDLE&&this.state!==Ve.ERROR)return;this.state=Ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i!==Ve.IDLE&&i!==Ve.LOADING)return;e++;const s=ft(n,tt.CHANGE,()=>{const r=n.getState();(r==Ve.LOADED||r==Ve.ERROR||r==Ve.EMPTY)&&(Lt(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(s)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==Ve.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Lt),this.sourcesListenerKeys_=null}}function Ap(t,e,n,i){return`${t},${fre(e,n,i)}`}function Pp(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],s=i.has(e);return s||i.add(e),!s}function Ure(t,e,n){const i=t[n];return i?i.delete(e):!1}function Gw(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=cs(e,Zr(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const s=i.getTileGridForProjection(t.viewState.projection).getExtent();s&&(e=cs(e,s))}return e}class Gre extends hA{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Gi(),this.tempTileRange_=new qv(0,0,0,0),this.tempTileCoord_=qh(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new jre(i),this.renderedProjection_=void 0,this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,s){const r=this.tileCache_,a=this.getLayer().getSource(),l=Ap(a.getKey(),e,n,i);let c;if(r.containsKey(l))c=r.get(l);else{if(c=a.getTile(e,n,i,s.pixelRatio,s.viewState.projection),!c)return null;r.set(l,c)}return c}getTile(e,n,i,s){const r=this.getOrCreateTile(e,n,i,s);return r||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),s=On(n.pixelToCoordinateTransform,e.slice()),r=i.getExtent();if(r&&!Wl(r,s))return null;const o=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(n.pixelRatio);for(let u=l.getZForResolution(o.resolution);u>=l.getMinZoom();--u){const d=l.getTileCoordForCoordAndZ(s,u),f=this.getTile(u,d[1],d[2],n);if(!f||f.getState()!==Ve.LOADED)continue;const g=l.getOrigin(u),p=wi(l.getTileSize(u)),m=l.getResolution(u);let v;if(f instanceof nA||f instanceof Bm)v=f.getImage();else if(f instanceof Vm){if(v=Zh(f.getData()),!v)continue}else continue;const y=Math.floor(c*((s[0]-g[0])/m-d[1]*p[0])),x=Math.floor(c*((g[1]-s[1])/m-d[2]*p[1])),E=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(v,y+E,x+E)}return null}prepareFrame(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.tileCache_.clear(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,n,i,s,r){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(o.projection),u=Et(l);u in e.wantedTiles||(e.wantedTiles[u]={});const d=e.wantedTiles[u],f=a.getMapInternal(),g=Math.max(i-r,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection));for(let p=i;p>=g;--p){const m=c.getTileRangeForExtentAndZ(n,p,this.tempTileRange_),v=c.getResolution(p);for(let y=m.minX;y<=m.maxX;++y)for(let x=m.minY;x<=m.maxY;++x){const E=this.getTile(p,y,x,e);if(!E||!Pp(s,E,p))continue;const b=E.getKey();if(d[b]=!0,E.getState()===Ve.IDLE&&!e.tileQueue.isKeyQueued(b)){const C=qh(p,y,x,this.tempTileCoord_);e.tileQueue.enqueue([E,u,c.getTileCoordCenter(C),v])}}}}findStaleTile_(e,n){const i=this.tileCache_,s=e[0],r=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const c=Ap(a[l],s,r,o);if(i.containsKey(c)){const u=i.get(c);if(u.getState()===Ve.LOADED)return u.endTransition(Et(this)),Pp(n,u,s),!0}}return!1}findAltTiles_(e,n,i,s){const r=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!r)return!1;let o=!0;const a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let u=r.minX;u<=r.maxX;++u)for(let d=r.minY;d<=r.maxY;++d){const f=Ap(c,i,u,d);let g=!1;if(a.containsKey(f)){const p=a.get(f);p.getState()===Ve.LOADED&&(Pp(s,p,i),g=!0)}g||(o=!1)}return o}renderFrame(e,n){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],s=e.viewState,r=s.projection,o=s.resolution,a=s.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),d=u.getRevision(),f=u.getTileGridForProjection(r),g=f.getZForResolution(o,u.zDirection),p=f.getResolution(g),m=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==m&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=m):this.renderedSourceKey_=m;let v=e.extent;const y=u.getTilePixelRatio(l);this.prepareContainer(e,n);const x=this.context.canvas.width,E=this.context.canvas.height,w=i.extent&&Zr(i.extent);w&&(v=cs(v,Zr(i.extent)));const b=p*x/2/y,C=p*E/2/y,k=[a[0]-b,a[1]-C,a[0]+b,a[1]+C],T={};this.renderedTiles.length=0;const A=c.getPreload();if(e.nextExtent){const H=f.getZForResolution(s.nextResolution,u.zDirection),ce=Gw(e,e.nextExtent);this.enqueueTiles(e,ce,H,T,A)}const I=Gw(e,v);if(this.enqueueTiles(e,I,g,T,0),A>0&&setTimeout(()=>{this.enqueueTiles(e,I,g-1,T,A-1)},0),!(g in T))return this.container;const V=Et(this),Y=e.time;for(const H of T[g]){const ce=H.getState();if((H instanceof Bm||H instanceof Kre)&&ce===Ve.EMPTY)continue;const ie=H.tileCoord;if(ce===Ve.LOADED&&H.getAlpha(V,Y)===1){H.endTransition(V);continue}if(this.renderComplete=!1,this.findStaleTile_(ie,T)){Ure(T,H,g),e.animate=!0;continue}if(this.findAltTiles_(f,ie,g+1,T))continue;const ee=f.getMinZoom();for(let ue=g-1;ue>=ee&&!this.findAltTiles_(f,ie,ue,T);--ue);}const ne=p/o*l/y,N=this.getRenderContext(e);br(this.tempTransform,x/2,E/2,ne,ne,0,-x/2,-E/2),i.extent&&this.clipUnrotated(N,e,w),u.getInterpolate()||(N.imageSmoothingEnabled=!1),this.preRender(N,e);const B=Object.keys(T).map(Number);B.sort(hr);let R;const W=[],X=[];for(let H=B.length-1;H>=0;--H){const ce=B[H],ie=u.getTilePixelSize(ce,l,r),D=f.getResolution(ce)/p,ee=ie[0]*D*ne,ue=ie[1]*D*ne,L=f.getTileCoordForCoordAndZ(xa(k),ce),le=f.getTileCoordExtent(L),de=On(this.tempTransform,[y*(le[0]-k[0])/p,y*(k[3]-le[3])/p]),xe=y*u.getGutterForProjection(r);for(const z of T[ce]){if(z.getState()!==Ve.LOADED)continue;const fe=z.tileCoord,S=L[1]-fe[1],O=Math.round(de[0]-(S-1)*ee),K=L[2]-fe[2],U=Math.round(de[1]-(K-1)*ue),oe=Math.round(de[0]-S*ee),j=Math.round(de[1]-K*ue),re=O-oe,Q=U-j,ge=B.length===1;let be=!1;R=[oe,j,oe+re,j,oe+re,j+Q,oe,j+Q];for(let we=0,Me=W.length;we<Me;++we)if(!ge&&ce<X[we]){const De=W[we];vi([oe,j,oe+re,j+Q],[De[0],De[3],De[4],De[7]])&&(be||(N.save(),be=!0),N.beginPath(),N.moveTo(R[0],R[1]),N.lineTo(R[2],R[3]),N.lineTo(R[4],R[5]),N.lineTo(R[6],R[7]),N.moveTo(De[6],De[7]),N.lineTo(De[4],De[5]),N.lineTo(De[2],De[3]),N.lineTo(De[0],De[1]),N.clip())}W.push(R),X.push(ce),this.drawTile(z,e,oe,j,re,Q,xe,ge),be&&N.restore(),this.renderedTiles.unshift(z),this.updateUsedTiles(e.usedTiles,u,z)}}this.renderedRevision=d,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!bu(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=l,this.renderedProjection=r,this.postRender(this.context,e),i.extent&&N.restore(),N.imageSmoothingEnabled=!0;const J=(H,ce)=>{const ie=Et(u),te=ce.wantedTiles[ie],D=te?Object.keys(te).length:0;this.updateCacheSize(D),this.tileCache_.expireCache()};return e.postRenderFunctions.push(J),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,i,s,r,o,a,l){let c;if(e instanceof Vm){if(c=Zh(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;const u=this.getRenderContext(n),d=Et(this),f=n.layerStatesArray[n.layerIndex],g=f.opacity*(l?e.getAlpha(d,n.time):1),p=g!==u.globalAlpha;p&&(u.save(),u.globalAlpha=g),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,s,r,o),p&&u.restore(),g!==f.opacity?n.animate=!0:l&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const s=Et(n);s in e||(e[s]={}),e[s][i.getKey()]=!0}}class Xre extends Nre{constructor(e){super(e)}createRenderer(){return new Gre(this,{cacheSize:this.getCacheSize()})}}class Jc extends Ws{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new Jc(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Lt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=ft(e,tt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?qre(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function qre(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(mt(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}function Wm(t,e,n,i,s,r,o){let a,l;const c=(n-e)/i;if(c===1)a=e;else if(c===2)a=e,l=s;else if(c!==0){let u=t[e],d=t[e+1],f=0;const g=[0];for(let v=e+i;v<n;v+=i){const y=t[v],x=t[v+1];f+=Math.sqrt((y-u)*(y-u)+(x-d)*(x-d)),g.push(f),u=y,d=x}const p=s*f,m=sne(g,p);m<0?(l=(p-g[-m-2])/(g[-m-1]-g[-m-2]),a=e+(-m-2)*i):a=e+m*i}o=o>1?o:2,r=r||new Array(o);for(let u=0;u<o;++u)r[u]=a===void 0?NaN:l===void 0?t[a+u]:Ai(t[a+u],t[a+i+u],l);return r}function Zre(t,e,n,i,s,r){if(n==e)return null;let o;if(s<t[e+i-1])return r?(o=t.slice(e,e+i),o[i-1]=s,o):null;if(t[n-1]<s)return r?(o=t.slice(n-i,n),o[i-1]=s,o):null;if(s==t[e+i-1])return t.slice(e,e+i);let a=e/i,l=n/i;for(;a<l;){const f=a+l>>1;s<t[(f+1)*i-1]?l=f:a=f+1}const c=t[a*i-1];if(s==c)return t.slice((a-1)*i,(a-1)*i+i);const u=t[(a+1)*i-1],d=(s-c)/(u-c);o=[];for(let f=0;f<i-1;++f)o.push(Ai(t[(a-1)*i+f],t[a*i+f],d));return o.push(s),o}function fA(t,e,n,i){let s=t[e],r=t[e+1],o=0;for(let a=e+i;a<n;a+=i){const l=t[a],c=t[a+1];o+=Math.sqrt((l-s)*(l-s)+(c-r)*(c-r)),s=l,r=c}return o}class Jh extends Gf{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){Vf(this.flatCoordinates,e),this.changed()}clone(){const e=new Jh(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<bv(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Iv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,i,s))}forEachSegment(e){return kT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,Zre(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return qo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return Wm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return fA(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Xf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Jh(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return $v(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Dv(this.flatCoordinates,0,e,this.stride),this.changed()}}const Ue={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},eh=[Ue.FILL],Jr=[Ue.STROKE],Qo=[Ue.BEGIN_PATH],Xw=[Ue.CLOSE_PATH];class gA{drawCustom(e,n,i,s,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class id extends gA{constructor(e,n,i,s){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let a=0,l=e.length;a<l;a+=n)s[0]=e[a],s[1]=e[a+1],Wl(i,s)&&(r[o++]=s[0],r[o++]=s[1]);return o}appendFlatLineCoordinates(e,n,i,s,r,o){const a=this.coordinates;let l=a.length;const c=this.getBufferedMaxExtent();o&&(n+=s);let u=e[n],d=e[n+1];const f=this.tmpCoordinate_;let g=!0,p,m,v;for(p=n+s;p<i;p+=s)f[0]=e[p],f[1]=e[p+1],v=Pm(c,f),v!==m?(g&&(a[l++]=u,a[l++]=d,g=!1),a[l++]=f[0],a[l++]=f[1]):v===An.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],g=!1):g=!0,u=f[0],d=f[1],m=v;return(r&&g||p===n+s)&&(a[l++]=u,a[l++]=d),l}drawCustomCoordinates_(e,n,i,s,r){for(let o=0,a=i.length;o<a;++o){const l=i[o],c=this.appendFlatLineCoordinates(e,n,l,s,!1,!1);r.push(c),n=l}return n}drawCustom(e,n,i,s,r){this.beginGeometry(e,n,r);const o=e.getType(),a=e.getStride(),l=this.coordinates.length;let c,u,d,f,g;switch(o){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];const p=e.getEndss();g=0;for(let m=0,v=p.length;m<v;++m){const y=[];g=this.drawCustomCoordinates_(c,g,p[m],a,y),f.push(y)}this.instructions.push([Ue.CUSTOM,l,f,e,i,bw,r]),this.hitDetectionInstructions.push([Ue.CUSTOM,l,f,e,s||i,bw,r]);break;case"Polygon":case"MultiLineString":d=[],c=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),g=this.drawCustomCoordinates_(c,0,e.getEnds(),a,d),this.instructions.push([Ue.CUSTOM,l,d,e,i,Yh,r]),this.hitDetectionInstructions.push([Ue.CUSTOM,l,d,e,s||i,Yh,r]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([Ue.CUSTOM,l,u,e,i,qo,r]),this.hitDetectionInstructions.push([Ue.CUSTOM,l,u,e,s||i,qo,r]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([Ue.CUSTOM,l,u,e,i,qo,r]),this.hitDetectionInstructions.push([Ue.CUSTOM,l,u,e,s||i,qo,r]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([Ue.CUSTOM,l,u,e,i,void 0,r]),this.hitDetectionInstructions.push([Ue.CUSTOM,l,u,e,s||i,void 0,r]);break}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[Ue.BEGIN_GEOMETRY,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ue.BEGIN_GEOMETRY,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const i=e.length;let s,r,o=-1;for(n=0;n<i;++n)s=e[n],r=s[0],r==Ue.END_GEOMETRY?o=n:r==Ue.BEGIN_GEOMETRY&&(s[2]=n,rne(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(e,n){const i=this.state;if(e){const s=e.getColor();i.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,i.fillStyle=Ds(s||pi)}else i.fillStyle=void 0;if(n){const s=n.getColor();i.strokeStyle=Ds(s||Au);const r=n.getLineCap();i.lineCap=r!==void 0?r:Yl;const o=n.getLineDash();i.lineDash=o?o.slice():fr;const a=n.getLineDashOffset();i.lineDashOffset=a||gr;const l=n.getLineJoin();i.lineJoin=l!==void 0?l:Hl;const c=n.getWidth();i.lineWidth=c!==void 0?c:Mu;const u=n.getMiterLimit();i.miterLimit=u!==void 0?u:Tu,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const n=e.fillStyle,i=[Ue.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ue.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,s=e.lineCap,r=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=s||r!=e.currentLineDash&&!So(e.currentLineDash,r)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=s,e.currentLineDash=r,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Ue.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=lT(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;yv(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Jre extends id{constructor(e,n,i,s){super(e,n,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,i){if(!this.image_||this.maxExtent&&!Wl(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,i);const s=e.getFlatCoordinates(),r=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,r);this.instructions.push([Ue.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ue.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,i){if(!this.image_)return;this.beginGeometry(e,n,i);const s=e.getFlatCoordinates(),r=[];for(let l=0,c=s.length;l<c;l+=e.getStride())(!this.maxExtent||Wl(this.maxExtent,s.slice(l,l+2)))&&r.push(s[l],s[l+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,2);this.instructions.push([Ue.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ue.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const i=e.getAnchor(),s=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=s[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class Qre extends id{constructor(e,n,i,s){super(e,n,i,s)}drawFlatCoordinates_(e,n,i,s){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(e,n,i,s,!1,!1),a=[Ue.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,n,i){const s=this.state,r=s.strokeStyle,o=s.lineWidth;if(r===void 0||o===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([Ue.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,fr,gr],Qo);const a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Jr),this.endGeometry(n)}drawMultiLineString(e,n,i){const s=this.state,r=s.strokeStyle,o=s.lineWidth;if(r===void 0||o===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([Ue.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,fr,gr],Qo);const a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let u=0;for(let d=0,f=a.length;d<f;++d)u=this.drawFlatCoordinates_(l,u,a[d],c);this.hitDetectionInstructions.push(Jr),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Jr),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Jr),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Qo)}}class qw extends id{constructor(e,n,i,s){super(e,n,i,s)}drawFlatCoordinatess_(e,n,i,s){const r=this.state,o=r.fillStyle!==void 0,a=r.strokeStyle!==void 0,l=i.length;this.instructions.push(Qo),this.hitDetectionInstructions.push(Qo);for(let c=0;c<l;++c){const u=i[c],d=this.coordinates.length,f=this.appendFlatLineCoordinates(e,n,u,s,!0,!a),g=[Ue.MOVE_TO_LINE_TO,d,f];this.instructions.push(g),this.hitDetectionInstructions.push(g),a&&(this.instructions.push(Xw),this.hitDetectionInstructions.push(Xw)),n=u}return o&&(this.instructions.push(eh),this.hitDetectionInstructions.push(eh)),a&&(this.instructions.push(Jr),this.hitDetectionInstructions.push(Jr)),n}drawCircle(e,n,i){const s=this.state,r=s.fillStyle,o=s.strokeStyle;if(r===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ue.SET_FILL_STYLE,pi]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ue.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,fr,gr]);const a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);const u=[Ue.CIRCLE,c];this.instructions.push(Qo,u),this.hitDetectionInstructions.push(Qo,u),s.fillStyle!==void 0&&(this.instructions.push(eh),this.hitDetectionInstructions.push(eh)),s.strokeStyle!==void 0&&(this.instructions.push(Jr),this.hitDetectionInstructions.push(Jr)),this.endGeometry(n)}drawPolygon(e,n,i){const s=this.state,r=s.fillStyle,o=s.strokeStyle;if(r===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ue.SET_FILL_STYLE,pi]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ue.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,fr,gr]);const a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(n)}drawMultiPolygon(e,n,i){const s=this.state,r=s.fillStyle,o=s.strokeStyle;if(r===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ue.SET_FILL_STYLE,pi]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ue.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,fr,gr]);const a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let u=0;for(let d=0,f=a.length;d<f;++d)u=this.drawFlatCoordinatess_(l,u,a[d],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,s=n.length;i<s;++i)n[i]=Uo(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function eoe(t,e,n,i,s){const r=[];let o=n,a=0,l=e.slice(n,2);for(;a<t&&o+s<i;){const[c,u]=l.slice(-2),d=e[o+s],f=e[o+s+1],g=Math.sqrt((d-c)*(d-c)+(f-u)*(f-u));if(a+=g,a>=t){const p=(t-a+g)/g,m=Ai(c,d,p),v=Ai(u,f,p);l.push(m,v),r.push(l),l=[m,v],a==t&&(o+=s),a=0}else if(a<t)l.push(e[o+s],e[o+s+1]),o+=s;else{const p=g-a,m=Ai(c,d,p/g),v=Ai(u,f,p/g);l.push(m,v),r.push(l),l=[m,v],a=0,o+=s}}return a>0&&r.push(l),r}function toe(t,e,n,i,s){let r=n,o=n,a=0,l=0,c=n,u,d,f,g,p,m,v,y,x,E;for(d=n;d<i;d+=s){const w=e[d],b=e[d+1];p!==void 0&&(x=w-p,E=b-m,g=Math.sqrt(x*x+E*E),v!==void 0&&(l+=f,u=Math.acos((v*x+y*E)/(f*g)),u>t&&(l>a&&(a=l,r=c,o=d),l=0,c=d-s)),f=g,v=x,y=E),p=w,m=b}return l+=g,l>a?[c,d]:[r,o]}const Qh={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class noe extends id{constructor(e,n,i,s){super(e,n,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[pi]={fillStyle:pi},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,i){const s=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!s&&!r)return;const a=this.coordinates;let l=a.length;const c=e.getType();let u=null,d=e.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!vi(this.maxExtent,e.getExtent()))return;let f;if(u=e.getFlatCoordinates(),c=="LineString")f=[u.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const v=e.getEndss();f=[];for(let y=0,x=v.length;y<x;++y)f.push(v[y][0])}this.beginGeometry(e,n,i);const g=o.repeat,p=g?void 0:o.textAlign;let m=0;for(let v=0,y=f.length;v<y;++v){let x;g?x=eoe(g*this.resolution,u,m,f[v],d):x=[u.slice(m,f[v])];for(let E=0,w=x.length;E<w;++E){const b=x[E];let C=0,k=b.length;if(p==null){const A=toe(o.maxAngle,b,0,b.length,2);C=A[0],k=A[1]}for(let A=C;A<k;A+=d)a.push(b[A],b[A+1]);const T=a.length;m=f[v],this.drawChars_(l,T),l=T}}this.endGeometry(n)}else{let f=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),d=2;break;case"Polygon":u=e.getFlatInteriorPoint(),o.overflow||f.push(u[2]/this.resolution),d=3;break;case"MultiPolygon":const x=e.getFlatInteriorPoints();u=[];for(let E=0,w=x.length;E<w;E+=3)o.overflow||f.push(x[E+2]/this.resolution),u.push(x[E],x[E+1]);if(u.length===0)return;d=2;break}const g=this.appendFlatPointCoordinates(u,d);if(g===l)return;if(f&&(g-l)/2!==u.length/d){let x=l/2;f=f.filter((E,w)=>{const b=a[(x+w)*2]===u[w*d]&&a[(x+w)*2+1]===u[w*d+1];return b||--x,b})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n,i);let p=o.padding;if(p!=Jo&&(o.scale[0]<0||o.scale[1]<0)){let x=o.padding[0],E=o.padding[1],w=o.padding[2],b=o.padding[3];o.scale[0]<0&&(E=-E,b=-b),o.scale[1]<0&&(x=-x,w=-w),p=[x,E,w,b]}const m=this.pixelRatio;this.instructions.push([Ue.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,p==Jo?Jo:p.map(function(x){return x*m}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const v=1/m,y=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=pi,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([Ue.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,this.declutterMode_,this.declutterImageWithText_,p,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?pi:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),o.backgroundFill&&(this.state.fillStyle=y,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,s=this.strokeKey_;e&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:n.font,textAlign:n.textAlign||Pu,justify:n.justify,textBaseline:n.textBaseline||jh,scale:n.scale});const o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(e,n){const i=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=Qh[s.textBaseline],u=this.textOffsetY_*l,d=this.text_,f=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([Ue.DRAW_CHARS,e,n,c,s.overflow,a,s.maxAngle,l,u,r,f*l,d,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([Ue.DRAW_CHARS,e,n,c,s.overflow,a&&pi,s.maxAngle,l,u,r,f*l,d,o,1/l,this.declutterMode_])}setTextStyle(e,n){let i,s,r;if(!e)this.text_="";else{const o=e.getFill();o?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=Ds(o.getColor()||pi)):(s=null,this.textFillState_=s);const a=e.getStroke();if(!a)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const p=a.getLineDash(),m=a.getLineDashOffset(),v=a.getWidth(),y=a.getMiterLimit();r.lineCap=a.getLineCap()||Yl,r.lineDash=p?p.slice():fr,r.lineDashOffset=m===void 0?gr:m,r.lineJoin=a.getLineJoin()||Hl,r.lineWidth=v===void 0?Mu:v,r.miterLimit=y===void 0?Tu:y,r.strokeStyle=Ds(a.getColor()||Au)}i=this.textState_;const l=e.getFont()||FT;Bie(l);const c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||jh,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Jo,i.scale=c===void 0?[1,1]:c;const u=e.getOffsetX(),d=e.getOffsetY(),f=e.getRotateWithView(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=d===void 0?0:d,this.textRotateWithView_=f===void 0?!1:f,this.textRotation_=g===void 0?0:g,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:Et(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s&&s.fillStyle?typeof s.fillStyle=="string"?s.fillStyle:"|"+Et(s.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const ioe={Circle:qw,Default:id,Image:Jre,LineString:Qre,Polygon:qw,Text:noe};class soe{constructor(e,n,i,s){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const s in i){const r=i[s].finish();e[n][s]=r}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let s=this.buildersByZIndex_[i];s===void 0&&(s={},this.buildersByZIndex_[i]=s);let r=s[n];if(r===void 0){const o=ioe[n];r=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[n]=r}return r}}function roe(t,e,n,i,s,r,o,a,l,c,u,d){let f=t[e],g=t[e+1],p=0,m=0,v=0,y=0;function x(){p=f,m=g,e+=i,f=t[e],g=t[e+1],y+=v,v=Math.sqrt((f-p)*(f-p)+(g-m)*(g-m))}do x();while(e<n-i&&y+v<r);let E=v===0?0:(r-y)/v;const w=Ai(p,f,E),b=Ai(m,g,E),C=e-i,k=y,T=r+a*l(c,s,u);for(;e<n-i&&y+v<T;)x();E=v===0?0:(T-y)/v;const A=Ai(p,f,E),I=Ai(m,g,E);let V;if(d){const R=[w,b,A,I];xT(R,0,4,2,d,R,R),V=R[0]>R[2]}else V=w>A;const Y=Math.PI,ne=[],N=C+i===e;e=C,v=0,y=k,f=t[e],g=t[e+1];let B;if(N){x(),B=Math.atan2(g-m,f-p),V&&(B+=B>0?-Y:Y);const R=(A+w)/2,W=(I+b)/2;return ne[0]=[R,W,(T-r)/2,B,s],ne}s=s.replace(/\n/g," ");for(let R=0,W=s.length;R<W;){x();let X=Math.atan2(g-m,f-p);if(V&&(X+=X>0?-Y:Y),B!==void 0){let D=X-B;if(D+=D>Y?-2*Y:D<-Y?2*Y:0,Math.abs(D)>o)return null}B=X;const J=R;let H=0;for(;R<W;++R){const D=V?W-R-1:R,ee=a*l(c,s[D],u);if(e+i<n&&y+v<r+H+ee/2)break;H+=ee}if(R===J)continue;const ce=V?s.substring(W-J,W-R):s.substring(J,R);E=v===0?0:(r+H/2-y)/v;const ie=Ai(p,f,E),te=Ai(m,g,E);ne.push([ie,te,H/2,X,ce]),r+=H}return ne}const Ka=Gi(),Rr=[],Gs=[],Xs=[],$r=[];function Zw(t){return t[3].declutterBox}const Jw=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function Mp(t,e){return e==="start"?e=Jw.test(t)?"right":"left":e==="end"&&(e=Jw.test(t)?"left":"right"),Qh[e]}function ooe(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class aoe{constructor(e,n,i,s,r){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=hs(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new dA:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,s){const r=e+n+i+s;if(this.labels_[r])return this.labels_[r];const o=s?this.strokeStates[s]:null,a=i?this.fillStates[i]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],d=l.justify?Qh[l.justify]:Mp(Array.isArray(e)?e[0]:e,l.textAlign||Pu),f=s&&o.lineWidth?o.lineWidth:0,g=Array.isArray(e)?e:String(e).split(`
`).reduce(ooe,[]),{width:p,height:m,widths:v,heights:y,lineWidths:x}=Wie(l,g),E=p+f,w=[],b=(E+2)*u[0],C=(m+f)*u[1],k={width:b<0?Math.floor(b):Math.ceil(b),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:w};(u[0]!=1||u[1]!=1)&&w.push("scale",u),s&&(w.push("strokeStyle",o.strokeStyle),w.push("lineWidth",f),w.push("lineCap",o.lineCap),w.push("lineJoin",o.lineJoin),w.push("miterLimit",o.miterLimit),w.push("setLineDash",[o.lineDash]),w.push("lineDashOffset",o.lineDashOffset)),i&&w.push("fillStyle",a.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const T=.5-d;let A=d*E+T*f;const I=[],V=[];let Y=0,ne=0,N=0,B=0,R;for(let W=0,X=g.length;W<X;W+=2){const J=g[W];if(J===`
`){ne+=Y,Y=0,A=d*E+T*f,++B;continue}const H=g[W+1]||l.font;H!==R&&(s&&I.push("font",H),i&&V.push("font",H),R=H),Y=Math.max(Y,y[N]);const ce=[J,A+T*v[N]+d*(v[N]-x[B]),.5*(f+Y)+ne];A+=v[N],s&&I.push("strokeText",ce),i&&V.push("fillText",ce),++N}return Array.prototype.push.apply(w,I),Array.prototype.push.apply(w,V),this.labels_[r]=k,k}replayTextBackground_(e,n,i,s,r,o,a){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,r),e.lineTo.apply(e,n),o&&(this.alignAndScaleFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,s,r,o,a,l,c,u,d,f,g,p,m,v){a*=f[0],l*=f[1];let y=i-a,x=s-l;const E=r+c>e?e-c:r,w=o+u>n?n-u:o,b=p[3]+E*f[0]+p[1],C=p[0]+w*f[1]+p[2],k=y-p[3],T=x-p[0];(m||d!==0)&&(Rr[0]=k,$r[0]=k,Rr[1]=T,Gs[1]=T,Gs[0]=k+b,Xs[0]=Gs[0],Xs[1]=T+C,$r[1]=Xs[1]);let A;return d!==0?(A=br(hs(),i,s,1,1,d,-i,-s),On(A,Rr),On(A,Gs),On(A,Xs),On(A,$r),uo(Math.min(Rr[0],Gs[0],Xs[0],$r[0]),Math.min(Rr[1],Gs[1],Xs[1],$r[1]),Math.max(Rr[0],Gs[0],Xs[0],$r[0]),Math.max(Rr[1],Gs[1],Xs[1],$r[1]),Ka)):uo(Math.min(k,k+b),Math.min(T,T+C),Math.max(k,k+b),Math.max(T,T+C),Ka),g&&(y=Math.round(y),x=Math.round(x)),{drawImageX:y,drawImageY:x,drawImageW:E,drawImageH:w,originX:c,originY:u,declutterBox:{minX:Ka[0],minY:Ka[1],maxX:Ka[2],maxY:Ka[3],value:v},canvasTransform:A,scale:f}}replayImageOrLabel_(e,n,i,s,r,o,a){const l=!!(o||a),c=s.declutterBox,u=a?a[2]*s.scale[0]/2:0;return c.minX-u<=n[0]&&c.maxX+u>=0&&c.minY-u<=n[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,Rr,Gs,Xs,$r,o,a),zie(e,s.canvasTransform,r,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=On(this.renderedTransform_,[0,0]),s=512*this.pixelRatio;e.save(),e.translate(i[0]%s,i[1]%s),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,i,s){const r=this.textStates[n],o=this.createLabel(e,n,s,i),a=this.strokeStates[i],l=this.pixelRatio,c=Mp(Array.isArray(e)?e[0]:e,r.textAlign||Pu),u=Qh[r.textBaseline||jh],d=a&&a.lineWidth?a.lineWidth:0,f=o.width/l-2*r.scale[0],g=c*f+2*(.5-c)*d,p=u*o.height/l+2*(.5-u)*d;return{label:o,anchorX:g,anchorY:p}}execute_(e,n,i,s,r,o,a,l){const c=this.zIndexContext_;let u;this.pixelCoordinates_&&So(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=io(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Yne(this.renderedTransform_,i));let d=0;const f=s.length;let g=0,p,m,v,y,x,E,w,b,C,k,T,A,I,V=0,Y=0,ne=null,N=null;const B=this.coordinateCache_,R=this.viewRotation_,W=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,X={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:R},J=this.instructions!=s||this.overlaps?0:200;let H,ce,ie,te;for(;d<f;){const D=s[d];switch(D[0]){case Ue.BEGIN_GEOMETRY:H=D[1],te=D[3],H.getGeometry()?a!==void 0&&!vi(a,te.getExtent())?d=D[2]+1:++d:d=D[2],c&&(c.zIndex=D[4]);break;case Ue.BEGIN_PATH:V>J&&(this.fill_(e),V=0),Y>J&&(e.stroke(),Y=0),!V&&!Y&&(e.beginPath(),x=NaN,E=NaN),++d;break;case Ue.CIRCLE:g=D[1];const ue=u[g],L=u[g+1],le=u[g+2],de=u[g+3],xe=le-ue,z=de-L,fe=Math.sqrt(xe*xe+z*z);e.moveTo(ue+fe,L),e.arc(ue,L,fe,0,2*Math.PI,!0),++d;break;case Ue.CLOSE_PATH:e.closePath(),++d;break;case Ue.CUSTOM:g=D[1],p=D[2];const S=D[3],O=D[4],K=D[5];X.geometry=S,X.feature=H,d in B||(B[d]=[]);const U=B[d];K?K(u,g,p,2,U):(U[0]=u[g],U[1]=u[g+1],U.length=2),c&&(c.zIndex=D[6]),O(U,X),++d;break;case Ue.DRAW_IMAGE:g=D[1],p=D[2],C=D[3],m=D[4],v=D[5];let oe=D[6];const j=D[7],re=D[8],Q=D[9],ge=D[10];let be=D[11];const we=D[12];let Me=D[13];y=D[14]||"declutter";const De=D[15];if(!C&&D.length>=20){k=D[19],T=D[20],A=D[21],I=D[22];const mn=this.drawLabelWithPointPlacement_(k,T,A,I);C=mn.label,D[3]=C;const Cn=D[23];m=(mn.anchorX-Cn)*this.pixelRatio,D[4]=m;const Sn=D[24];v=(mn.anchorY-Sn)*this.pixelRatio,D[5]=v,oe=C.height,D[6]=oe,Me=C.width,D[13]=Me}let Ye;D.length>25&&(Ye=D[25]);let je,nt,et;D.length>17?(je=D[16],nt=D[17],et=D[18]):(je=Jo,nt=!1,et=!1),ge&&W?be+=R:!ge&&!W&&(be-=R);let Jt=0;for(;g<p;g+=2){if(Ye&&Ye[Jt++]<Me/this.pixelRatio)continue;const mn=this.calculateImageOrLabelDimensions_(C.width,C.height,u[g],u[g+1],Me,oe,m,v,re,Q,be,we,r,je,nt||et,H),Cn=[e,n,C,mn,j,nt?ne:null,et?N:null];if(l){let Sn,li,ci;if(De){const qt=p-g;if(!De[qt]){De[qt]={args:Cn,declutterMode:y};continue}const zt=De[qt];Sn=zt.args,li=zt.declutterMode,delete De[qt],ci=Zw(Sn)}let ui,Zi;if(Sn&&(li!=="declutter"||!l.collides(ci))&&(ui=!0),(y!=="declutter"||!l.collides(mn.declutterBox))&&(Zi=!0),li==="declutter"&&y==="declutter"){const qt=ui&&Zi;ui=qt,Zi=qt}ui&&(li!=="none"&&l.insert(ci),this.replayImageOrLabel_.apply(this,Sn)),Zi&&(y!=="none"&&l.insert(mn.declutterBox),this.replayImageOrLabel_.apply(this,Cn))}else this.replayImageOrLabel_.apply(this,Cn)}++d;break;case Ue.DRAW_CHARS:const Wt=D[1],gn=D[2],Gt=D[3],Ci=D[4];I=D[5];const qi=D[6],Qt=D[7],ae=D[8];A=D[9];const Te=D[10];k=D[11],T=D[12];const he=[D[13],D[13]];y=D[14]||"declutter";const Ae=this.textStates[T],Ne=Ae.font,Xt=[Ae.scale[0]*Qt,Ae.scale[1]*Qt];let pn;Ne in this.widths_?pn=this.widths_[Ne]:(pn={},this.widths_[Ne]=pn);const $i=fA(u,Wt,gn,2),zs=Math.abs(Xt[0])*Iw(Ne,k,pn);if(Ci||zs<=$i){const mn=this.textStates[T].textAlign,Cn=($i-zs)*Mp(k,mn),Sn=roe(u,Wt,gn,2,k,Cn,qi,Math.abs(Xt[0]),Iw,Ne,pn,W?0:this.viewRotation_);e:if(Sn){const li=[];let ci,ui,Zi,qt,zt;if(A)for(ci=0,ui=Sn.length;ci<ui;++ci){zt=Sn[ci],Zi=zt[4],qt=this.createLabel(Zi,T,"",A),m=zt[2]+(Xt[0]<0?-Te:Te),v=Gt*qt.height+(.5-Gt)*2*Te*Xt[1]/Xt[0]-ae;const Li=this.calculateImageOrLabelDimensions_(qt.width,qt.height,zt[0],zt[1],qt.width,qt.height,m,v,0,0,zt[3],he,!1,Jo,!1,H);if(l&&y==="declutter"&&l.collides(Li.declutterBox))break e;li.push([e,n,qt,Li,1,null,null])}if(I)for(ci=0,ui=Sn.length;ci<ui;++ci){zt=Sn[ci],Zi=zt[4],qt=this.createLabel(Zi,T,I,""),m=zt[2],v=Gt*qt.height-ae;const Li=this.calculateImageOrLabelDimensions_(qt.width,qt.height,zt[0],zt[1],qt.width,qt.height,m,v,0,0,zt[3],he,!1,Jo,!1,H);if(l&&y==="declutter"&&l.collides(Li.declutterBox))break e;li.push([e,n,qt,Li,1,null,null])}l&&y!=="none"&&l.load(li.map(Zw));for(let Li=0,ig=li.length;Li<ig;++Li)this.replayImageOrLabel_.apply(this,li[Li])}}++d;break;case Ue.END_GEOMETRY:if(o!==void 0){H=D[1];const mn=o(H,te,y);if(mn)return mn}++d;break;case Ue.FILL:J?V++:this.fill_(e),++d;break;case Ue.MOVE_TO_LINE_TO:for(g=D[1],p=D[2],ce=u[g],ie=u[g+1],e.moveTo(ce,ie),x=ce+.5|0,E=ie+.5|0,g+=2;g<p;g+=2)ce=u[g],ie=u[g+1],w=ce+.5|0,b=ie+.5|0,(g==p-2||w!==x||b!==E)&&(e.lineTo(ce,ie),x=w,E=b);++d;break;case Ue.SET_FILL_STYLE:ne=D,this.alignAndScaleFill_=D[2],V&&(this.fill_(e),V=0,Y&&(e.stroke(),Y=0)),e.fillStyle=D[1],++d;break;case Ue.SET_STROKE_STYLE:N=D,Y&&(e.stroke(),Y=0),this.setStrokeStyle_(e,D),++d;break;case Ue.STROKE:J?Y++:e.stroke(),++d;break;default:++d;break}}V&&this.fill_(e),Y&&e.stroke()}execute(e,n,i,s,r,o){this.viewRotation_=s,this.execute_(e,n,i,this.instructions,r,void 0,void 0,o)}executeHitDetection(e,n,i,s,r){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,s,r)}}const sl=["Polygon","Circle","LineString","Image","Text","Default"],pA=["Image","Text"],loe=sl.filter(t=>!pA.includes(t));class coe{constructor(e,n,i,s,r,o,a){this.maxExtent_=e,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=hs(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,a)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let s=this.executorsByZIndex_[i];s===void 0&&(s={},this.executorsByZIndex_[i]=s);const r=e[i];for(const o in r){const a=r[o];s[o]=new aoe(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let s=0,r=e.length;s<r;++s)if(e[s]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,s,r,o){s=Math.round(s);const a=s*2+1,l=br(this.hitDetectionTransform_,s+.5,s+.5,1/n,-1/n,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=hn(a,a,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let d;this.renderBuffer_!==void 0&&(d=Gi(),Zc(d,e),yv(d,n*(this.renderBuffer_+s),d));const f=uoe(s);let g;function p(b,C,k){const T=u.getImageData(0,0,a,a).data;for(let A=0,I=f.length;A<I;A++)if(T[f[A]]>0){if(!o||k==="none"||g!=="Image"&&g!=="Text"||o.includes(b)){const V=(f[A]-3)/4,Y=s-V%a,ne=s-(V/a|0),N=r(b,C,Y*Y+ne*ne);if(N)return N}u.clearRect(0,0,a,a);break}}const m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(hr);let v,y,x,E,w;for(v=m.length-1;v>=0;--v){const b=m[v].toString();for(x=this.executorsByZIndex_[b],y=sl.length-1;y>=0;--y)if(g=sl[y],E=x[g],E!==void 0&&(w=E.executeHitDetection(u,l,i,p,d),w))return w}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],s=n[1],r=n[2],o=n[3],a=[i,s,i,o,r,o,r,s];return io(a,0,8,2,e,a),a}isEmpty(){return Vl(this.executorsByZIndex_)}execute(e,n,i,s,r,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(hr),o=o||sl;const c=sl.length;let u,d,f,g,p;for(a&&l.reverse(),u=0,d=l.length;u<d;++u){const m=l[u].toString();for(p=this.executorsByZIndex_[m],f=0,g=o.length;f<g;++f){const v=o[f],y=p[v];if(y!==void 0){const x=a===null?void 0:y.getZIndexContext(),E=x?x.getContext():e,w=this.maxExtent_&&v!=="Image"&&v!=="Text";if(w&&(E.save(),this.clip(E,i)),!x||v==="Text"||v==="Image"?y.execute(E,n,i,s,r,a):x.pushFunction(b=>y.execute(b,n,i,s,r,a)),w&&E.restore(),x){x.offset();const b=l[u]*c+f;this.deferredZIndexContexts_[b]||(this.deferredZIndexContexts_[b]=[]),this.deferredZIndexContexts_[b].push(x)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(hr);for(let i=0,s=n.length;i<s;++i)e[n[i]].forEach(r=>{r.draw(this.renderedContext_),r.clear()}),e[n[i]].length=0}}const Ip={};function uoe(t){if(Ip[t]!==void 0)return Ip[t];const e=t*2+1,n=t*t,i=new Array(n+1);for(let r=0;r<=t;++r)for(let o=0;o<=t;++o){const a=r*r+o*o;if(a>n)break;let l=i[a];l||(l=[],i[a]=l),l.push(((t+r)*e+(t+o))*4+3),r>0&&l.push(((t-r)*e+(t+o))*4+3),o>0&&(l.push(((t+r)*e+(t-o))*4+3),r>0&&l.push(((t-r)*e+(t-o))*4+3))}const s=[];for(let r=0,o=i.length;r<o;++r)i[r]&&s.push(...i[r]);return Ip[t]=s,s}class doe extends gA{constructor(e,n,i,s,r,o,a){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=s,this.transformRotation_=s?mv(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=hs()}drawImages_(e,n,i,s){if(!this.image_)return;const r=io(e,n,i,s,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,d=r.length;u<d;u+=2){const f=r[u]-this.imageAnchorX_,g=r[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const p=f+this.imageAnchorX_,m=g+this.imageAnchorY_;br(a,p,m,1,1,c,-p,-m),o.save(),o.transform.apply(o,a),o.translate(p,m),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,n,i,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=io(e,n,i,s,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<i;n+=s){const l=r[n]+this.textOffsetX_,c=r[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,c),this.textFillState_&&o.fillText(this.text_,l,c))}}moveToLineTo_(e,n,i,s,r){const o=this.context_,a=io(e,n,i,s,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;r&&(l-=2);for(let c=2;c<l;c+=2)o.lineTo(a[c],a[c+1]);return r&&o.closePath(),i}drawRings_(e,n,i,s){for(let r=0,o=i.length;r<o;++r)n=this.moveToLineTo_(e,n,i[r],s,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vi(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=qne(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],s=n[3]-n[1],r=Math.sqrt(i*i+s*s),o=this.context_;o.beginPath(),o.arc(n[0],n[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,s=n.length;i<s;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vi(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(vi(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=e.getFlatCoordinates();let r=0;const o=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,c=o.length;l<c;++l)r=this.moveToLineTo_(s,r,o[l],a,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let s=0;const r=e.getEndss(),o=e.getStride();n.beginPath();for(let a=0,l=r.length;a<l;++a){const c=r[a];s=this.drawRings_(i,s,c,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),So(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,s=e.textAlign?e.textAlign:Pu;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=s&&(i.textAlign=s,n.textAlign=s),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=s,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:s,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:Ds(i||pi)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),s=n.getLineCap(),r=n.getLineDash(),o=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=r||fr;this.strokeState_={lineCap:s!==void 0?s:Yl,lineDash:this.pixelRatio_===1?u:u.map(d=>d*this.pixelRatio_),lineDashOffset:(o||gr)*this.pixelRatio_,lineJoin:a!==void 0?a:Hl,lineWidth:(l!==void 0?l:Mu)*this.pixelRatio_,miterLimit:c!==void 0?c:Tu,strokeStyle:Ds(i||Au)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),s=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const g=n.getColor();this.textFillState_={fillStyle:Ds(g||pi)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const g=i.getColor(),p=i.getLineCap(),m=i.getLineDash(),v=i.getLineDashOffset(),y=i.getLineJoin(),x=i.getWidth(),E=i.getMiterLimit();this.textStrokeState_={lineCap:p!==void 0?p:Yl,lineDash:m||fr,lineDashOffset:v||gr,lineJoin:y!==void 0?y:Hl,lineWidth:x!==void 0?x:Mu,miterLimit:E!==void 0?E:Tu,strokeStyle:Ds(g||Au)}}const s=e.getFont(),r=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),d=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:s!==void 0?s:FT,textAlign:d!==void 0?d:Pu,textBaseline:f!==void 0?f:jh},this.text_=u!==void 0?Array.isArray(u)?u.reduce((g,p,m)=>g+=m%2?" ":p,""):u:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const Ts=.5;function hoe(t,e,n,i,s,r,o,a,l){const c=s,u=t[0]*Ts,d=t[1]*Ts,f=hn(u,d);f.imageSmoothingEnabled=!1;const g=f.canvas,p=new doe(f,Ts,s,null,o,a,null),m=n.length,v=Math.floor((256*256*256-1)/m),y={};for(let E=1;E<=m;++E){const w=n[E-1],b=w.getStyleFunction()||i;if(!b)continue;let C=b(w,r);if(!C)continue;Array.isArray(C)||(C=[C]);const T=(E*v).toString(16).padStart(7,"#00000");for(let A=0,I=C.length;A<I;++A){const V=C[A],Y=V.getGeometryFunction()(w);if(!Y||!vi(c,Y.getExtent()))continue;const ne=V.clone(),N=ne.getFill();N&&N.setColor(T);const B=ne.getStroke();B&&(B.setColor(T),B.setLineDash(null)),ne.setText(void 0);const R=V.getImage();if(R){const H=R.getImageSize();if(!H)continue;const ce=hn(H[0],H[1],void 0,{alpha:!1}),ie=ce.canvas;ce.fillStyle=T,ce.fillRect(0,0,ie.width,ie.height),ne.setImage(new eg({img:ie,anchor:R.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:R.getOrigin(),opacity:1,size:R.getSize(),scale:R.getScale(),rotation:R.getRotation(),rotateWithView:R.getRotateWithView()}))}const W=ne.getZIndex()||0;let X=y[W];X||(X={},y[W]=X,X.Polygon=[],X.Circle=[],X.LineString=[],X.Point=[]);const J=Y.getType();if(J==="GeometryCollection"){const H=Y.getGeometriesArrayRecursive();for(let ce=0,ie=H.length;ce<ie;++ce){const te=H[ce];X[te.getType().replace("Multi","")].push(te,ne)}}else X[J.replace("Multi","")].push(Y,ne)}}const x=Object.keys(y).map(Number).sort(hr);for(let E=0,w=x.length;E<w;++E){const b=y[x[E]];for(const C in b){const k=b[C];for(let T=0,A=k.length;T<A;T+=2){p.setStyle(k[T+1]);for(let I=0,V=e.length;I<V;++I)p.setTransform(e[I]),p.drawGeometry(k[T])}}}return f.getImageData(0,0,g.width,g.height)}function foe(t,e,n){const i=[];if(n){const s=Math.floor(Math.round(t[0])*Ts),r=Math.floor(Math.round(t[1])*Ts),o=(rn(s,0,n.width-1)+rn(r,0,n.height-1)*n.width)*4,a=n.data[o],l=n.data[o+1],u=n.data[o+2]+256*(l+256*a),d=Math.floor((256*256*256-1)/e.length);u&&u%d===0&&i.push(e[u/d-1])}return i}const goe=.5,mA={Point:xoe,LineString:yoe,Polygon:Coe,MultiPoint:Eoe,MultiLineString:boe,MultiPolygon:woe,GeometryCollection:voe,Circle:moe};function poe(t,e){return parseInt(Et(t),10)-parseInt(Et(e),10)}function Qw(t,e){const n=_A(t,e);return n*n}function _A(t,e){return goe*t/e}function moe(t,e,n,i,s){const r=n.getFill(),o=n.getStroke();if(r||o){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(r,o),l.drawCircle(e,i,s)}const a=n.getText();if(a&&a.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function ex(t,e,n,i,s,r,o,a){const l=[],c=n.getImage();if(c){let f=!0;const g=c.getImageState();g==ot.LOADED||g==ot.ERROR?f=!1:g==ot.IDLE&&c.load(),f&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const d=l.length>0;return d&&Promise.all(l).then(()=>s(null)),_oe(t,e,n,i,r,o,a),d}function _oe(t,e,n,i,s,r,o){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,s);if(n.getRenderer())vA(t,l,n,e,o);else{const u=mA[l.getType()];u(t,l,n,e,o,r)}}function vA(t,e,n,i,s){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let a=0,l=o.length;a<l;++a)vA(t,o[a],n,i,s);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),s)}function voe(t,e,n,i,s,r){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const c=mA[o[a].getType()];c(t,o[a],n,i,s,r)}}function yoe(t,e,n,i,s){const r=n.getStroke();if(r){const a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawLineString(e,i,s)}const o=n.getText();if(o&&o.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,s)}}function boe(t,e,n,i,s){const r=n.getStroke();if(r){const a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawMultiLineString(e,i,s)}const o=n.getText();if(o&&o.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,s)}}function woe(t,e,n,i,s){const r=n.getFill(),o=n.getStroke();if(o||r){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,o),l.drawMultiPolygon(e,i,s)}const a=n.getText();if(a&&a.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,s)}}function xoe(t,e,n,i,s,r){const o=n.getImage(),a=n.getText(),l=a&&a.getText(),c=r&&o&&l?{}:void 0;if(o){if(o.getImageState()!=ot.LOADED)return;const u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(o,c),u.drawPoint(e,i,s)}if(l){const u=t.getBuilder(n.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,i,s)}}function Eoe(t,e,n,i,s,r){const o=n.getImage(),a=o&&o.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),u=r&&a&&c?{}:void 0;if(a){if(o.getImageState()!=ot.LOADED)return;const d=t.getBuilder(n.getZIndex(),"Image");d.setImageStyle(o,u),d.drawMultiPoint(e,i,s)}if(c){const d=t.getBuilder(n.getZIndex(),"Text");d.setTextStyle(l,u),d.drawText(e,i,s)}}function Coe(t,e,n,i,s){const r=n.getFill(),o=n.getStroke();if(r||o){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,o),l.drawPolygon(e,i,s)}const a=n.getText();if(a&&a.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,s)}}class Soe extends hA{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Gi(),this.wrappedRenderedExtent_=Gi(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const s=n.extent,r=n.viewState,o=r.center,a=r.resolution,l=r.projection,c=r.rotation,u=l.getExtent(),d=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),g=n.pixelRatio,p=n.viewHints,m=!(p[Hn.ANIMATING]||p[Hn.INTERACTING]),v=this.context,y=Math.round(bt(s)/a*g),x=Math.round(Un(s)/a*g),E=d.getWrapX()&&l.canWrapX(),w=E?bt(u):null,b=E?Math.ceil((s[2]-u[2])/w)+1:1;let C=E?Math.floor((s[0]-u[0])/w):0;do{let k=this.getRenderTransform(o,a,0,g,y,x,C*w);n.declutter&&(k=k.slice(0)),e.execute(v,[v.canvas.width,v.canvas.height],k,c,m,i===void 0?sl:i?pA:loe,i?f&&n.declutter[f]:void 0)}while(++C<b)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=hn(this.context.canvas.width,this.context.canvas.height,Uw))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,zl(this.context),Uw.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const s=e.viewState;this.prepareContainer(e,n);const r=this.context,o=this.replayGroup_;let a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(zi.PRERENDER)||this.getLayer().hasListener(zi.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(r,e),s.projection,this.clipped_=!1,a&&i.extent&&this.clipping){const l=Zr(i.extent);a=vi(l,e.extent),this.clipped_=a&&!il(l,e.extent),this.clipped_&&this.clipUnrotated(r,e,l)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&r.restore(),this.postRender(r,e),this.renderedRotation_!==s.rotation&&(this.renderedRotation_=s.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),s=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=i[0]*Ts,f=i[1]*Ts;u.push(this.getRenderTransform(s,r,o,Ts,d,f,0).slice());const g=c.getSource(),p=a.getExtent();if(g.getWrapX()&&a.canWrapX()&&!il(p,l)){let m=l[0];const v=bt(p);let y=0,x;for(;m<p[0];)--y,x=v*y,u.push(this.getRenderTransform(s,r,o,Ts,d,f,x).slice()),m+=v;for(y=0,m=l[2];m>p[2];)++y,x=v*y,u.push(this.getRenderTransform(s,r,o,Ts,d,f,x).slice()),m-=v}this.hitDetectionImageData_=hoe(i,u,this.renderedFeatures_,c.getStyleFunction(),l,r,o,Qw(r,this.renderedPixelRatio_))}n(foe(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,s,r){if(!this.replayGroup_)return;const o=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),c={},u=function(p,m,v){const y=Et(p),x=c[y];if(x){if(x!==!0&&v<x.distanceSq){if(v===0)return c[y]=!0,r.splice(r.lastIndexOf(x),1),s(p,l,m);x.geometry=m,x.distanceSq=v}}else{if(v===0)return c[y]=!0,s(p,l,m);r.push(c[y]={feature:p,layer:l,geometry:m,distanceSq:v,callback:s})}};let d;const f=[this.replayGroup_],g=this.getLayer().getDeclutter();return f.some(p=>d=p.forEachFeatureAtCoordinate(e,o,a,i,u,g&&n.declutter[g]?n.declutter[g].all().map(m=>m.value):null)),d}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const s=e.viewHints[Hn.ANIMATING],r=e.viewHints[Hn.INTERACTING],o=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!o&&s||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,f=e.pixelRatio,g=n.getRevision(),p=n.getRenderBuffer();let m=n.getRenderOrder();m===void 0&&(m=poe);const v=c.center.slice(),y=yv(l,p*d),x=y.slice(),E=[y.slice()],w=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!il(w,e.extent)){const N=bt(w),B=Math.max(bt(y)/2,N);y[0]=w[0]-B,y[2]=w[2]+B,gT(v,u);const R=fT(E[0],u);R[0]<w[0]&&R[2]<w[2]?E.push([R[0]+N,R[1],R[2]+N,R[3]]):R[0]>w[0]&&R[2]>w[2]&&E.push([R[0]-N,R[1],R[2]-N,R[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==g&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!e.declutter&&il(this.wrappedRenderedExtent_,y))return So(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const b=new soe(_A(d,f),y,d,f);let C;for(let N=0,B=E.length;N<B;++N)i.loadFeatures(E[N],d,u);const k=Qw(d,f);let T=!0;const A=(N,B)=>{let R;const W=N.getStyleFunction()||n.getStyleFunction();if(W&&(R=W(N,d)),R){const X=this.renderFeature(N,k,R,b,C,this.getLayer().getDeclutter(),B);T=T&&!X}},I=yT(y),V=i.getFeaturesInExtent(I);m&&V.sort(m);for(let N=0,B=V.length;N<B;++N)A(V[N],N);this.renderedFeatures_=V,this.ready=T;const Y=b.finish(),ne=new coe(y,d,f,i.getOverlaps(),Y,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=g,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=x,this.wrappedRenderedExtent_=y,this.renderedCenter_=v,this.renderedProjection_=u,this.renderedPixelRatio_=f,this.replayGroup_=ne,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,s,r,o,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=ex(s,e,i[c],n,this.boundHandleStyleImageChange_,r,o,a)||l;else l=ex(s,e,i,n,this.boundHandleStyleImageChange_,r,o,a);return l}}class koe extends GT{constructor(e){super(e)}createRenderer(){return new Soe(this)}}class tx{constructor(e){this.rbush_=new PT(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[Et(n)]=i}load(e,n){const i=new Array(n.length);for(let s=0,r=n.length;s<r;s++){const o=e[s],a=n[s],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[s]=l,this.items_[Et(a)]=l}this.rbush_.load(i)}remove(e){const n=Et(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[Et(n)],s=[i.minX,i.minY,i.maxX,i.maxY];bu(s,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(s){return s.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let s=0,r=e.length;s<r;s++)if(i=n(e[s]),i)return i;return i}isEmpty(){return Vl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return uo(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}function Toe(t,e,n,i){const s=[];let r=Gi();for(let o=0,a=n.length;o<a;++o){const l=n[o];r=wv(t,e,l[0],i),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=l[l.length-1]}return s}const nx=hs();class ss{constructor(e,n,i,s,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=r,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?uT(this.flatCoordinates_):wv(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=pa(this.getExtent());this.flatInteriorPoints_=Rv(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=cie(this.flatCoordinates_,this.ends_),n=Toe(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=rie(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Wm(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let s=0,r=i.length;s<r;++s){const o=i[s],a=Wm(e,n,o,2,.5);Vf(this.flatMidpoints_,a),n=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Xi(e);const n=e.getExtent(),i=e.getWorldExtent();if(n&&i){const s=Un(i)/Un(n);br(nx,i[0],i[3],s,-s,0,0,0),io(this.flatCoordinates_,0,this.flatCoordinates_.length,2,nx,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new ss(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=rT((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":i.length=Xf(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),s=[i.length];break;case"MultiLineString":s=[],i.length=tie(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,s);break;case"Polygon":s=[],i.length=ET(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,s);break}return s&&(this.simplifiedGeometry_=new ss(this.type_,i,s,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}ss.prototype.getFlatCoordinates=ss.prototype.getOrientedFlatCoordinates;const Vi={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Aoe(t,e){return[[-1/0,-1/0,1/0,1/0]]}let Poe=!1;function Moe(t,e,n,i,s,r,o){const a=new XMLHttpRequest;a.open("GET",typeof t=="function"?t(n,i,s):t,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Poe,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?r(e.readFeatures(u,{extent:n,featureProjection:s}),e.readProjection(u)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function ix(t,e){return function(n,i,s,r,o){const a=this;Moe(t,e,n,i,s,function(l,c){a.addFeatures(l),r!==void 0&&r(l)},o||Bl)}}class Lr extends Er{constructor(e,n,i){super(e),this.feature=n,this.features=i}}class Ioe extends aA{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Bl,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(mt(this.format_,"`format` must be set when `url` is set"),this.loader_=ix(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Aoe;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new tx:null,this.loadedExtentsRtree_=new tx,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,s;Array.isArray(e.features)?s=e.features:e.features&&(i=e.features,s=i.getArray()),!n&&i===void 0&&(i=new Ms(s)),s!==void 0&&this.addFeaturesInternal(s),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=Et(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const s=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Lr(Vi.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof ss||(this.featureChangeKeys_[e]=[ft(n,tt.CHANGE,this.handleFeatureChange_,this),ft(n,Fl.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const s=String(n.getId());if(!(s in this.idIndex_))this.idIndex_[s]=n;else if(n instanceof ss){const r=this.idIndex_[s];r instanceof ss?Array.isArray(r)?r.push(n):this.idIndex_[s]=[r,n]:i=!1}else i=!1}return i&&(mt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],s=[];for(let r=0,o=e.length;r<o;r++){const a=e[r],l=Et(a);this.addToIndex_(l,a)&&i.push(a)}for(let r=0,o=i.length;r<o;r++){const a=i[r],l=Et(a);this.setupChangeEvents_(l,a);const c=a.getGeometry();if(c){const u=c.getExtent();n.push(u),s.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,s),this.hasListener(Vi.ADDFEATURE))for(let r=0,o=i.length;r<o;r++)this.dispatchEvent(new Lr(Vi.ADDFEATURE,i[r]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Vi.ADDFEATURE,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(Vi.REMOVEFEATURE,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(gi.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(gi.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Lt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=s=>{this.removeFeatureInternal(s)};this.featuresRtree_.forEach(i);for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Lr(Vi.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(s){const r=s.getGeometry();if(r instanceof ss||r.intersectsCoordinate(e))return n(s)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const s=i.getGeometry();if(s instanceof ss||s.intersectsExtent(e)){const r=n(i);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Vl(this.nullGeometryFeatures_)||Vf(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const s=xv(e,n);return[].concat(...s.map(r=>this.featuresRtree_.getInExtent(r)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],s=e[1];let r=null;const o=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||yu,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){const u=c.getGeometry(),d=a;if(a=u instanceof ss?0:u.closestPointXY(i,s,o,a),a<d){r=c;const f=Math.sqrt(a);l[0]=i-f,l[1]=s-f,l[2]=i+f,l[3]=s+f}}}),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=Et(n),s=n.getGeometry();if(!s)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const o=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const r=n.getId();if(r!==void 0){const o=r.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Lr(Vi.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:Et(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Vl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,i){const s=this.loadedExtentsRtree_,r=this.strategy_(e,n,i);for(let o=0,a=r.length;o<a;++o){const l=r[o];s.forEachInExtent(l,function(u){return il(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Lr(Vi.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Lr(Vi.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Lr(Vi.FEATURESLOADERROR))}),s.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(e,function(s){if(bu(s.extent,e))return i=s,!0}),i&&n.remove(i)}removeFeatures(e){let n=!1;for(let i=0,s=e.length;i<s;++i)n=this.removeFeatureInternal(e[i])||n;n&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=Et(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[n]?.forEach(Lt),delete this.featureChangeKeys_[n];const s=e.getId();if(s!==void 0){const r=s.toString(),o=this.idIndex_[r];o===e?delete this.idIndex_[r]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[r]=o[0]))}return delete this.uidIndex_[n],this.hasListener(Vi.REMOVEFEATURE)&&this.dispatchEvent(new Lr(Vi.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){mt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(ix(e,this.format_))}}const Doe={name:"osmap",props:{type:"",d:Object||Array},data(){return{osmAvailable:!0}},setup(){return{store:Xe()}},methods:{getLastLonLat(){if(this.type==="traceroute"){const t=this.d.findLast(e=>e.geo&&e.geo.lat&&e.geo.lon);return t?[t.geo.lon,t.geo.lat]:[0,0]}return[this.d.geo.lon,this.d.geo.lat]}},async mounted(){await fetch("https://tile.openstreetmap.org/",{signal:AbortSignal.timeout(1500)}).then(t=>{const e=new lre({target:"map",layers:[new Xre({source:new Ore})],view:new ks({center:hp(this.getLastLonLat()),zoom:this.type==="traceroute"?3:10})}),n=[],i=new Ioe;if(this.type==="traceroute")console.log(this.getLastLonLat()),this.d.forEach(a=>{if(a.geo&&a.geo.lat&&a.geo.lon){const l=hp([a.geo.lon,a.geo.lat]);n.push(l);const c=this.getLastLonLat();console.log(a.geo.lon,a.geo.lat),console.log(a.geo.lon===c[0]&&a.geo.lat===c[1]);const u=new Jc({geometry:new Eu(l),last:a.geo.lon===c[0]&&a.geo.lat===c[1]});i.addFeature(u)}});else{const a=hp([this.d.geo.lon,this.d.geo.lat]);n.push(a);const l=new Jc({geometry:new Eu(a)});i.addFeature(l)}const s=new Jh(n),r=new Jc({geometry:s});i.addFeature(r);const o=new koe({source:i,style:function(a){if(a.getGeometry().getType()==="Point")return new pr({image:new Qu({radius:10,fill:new Zl({color:a.get("last")?"#dc3545":"#0d6efd"}),stroke:new jl({color:"white",width:5})})});if(a.getGeometry().getType()==="LineString")return new pr({stroke:new jl({color:"#0d6efd",width:2})})}});e.addLayer(o),this.store.Configuration.Server.dashboard_theme==="dark"&&e.on("postcompose",function(a){document.querySelector("#map").style.filter="grayscale(80%) invert(100%) "})}).catch(t=>{this.osmAvailable=!1})}},Roe={key:0,id:"map",class:"w-100 rounded-3"};function $oe(t,e,n,i,s,r){return this.osmAvailable?(P(),F("div",Roe)):se("",!0)}const yA=ze(Doe,[["render",$oe]]),Loe={name:"ping",components:{OSMap:yA,LocaleText:Le},data(){return{loading:!1,cips:{},selectedConfiguration:void 0,selectedPeer:void 0,selectedIp:void 0,count:4,pingResult:void 0,pinging:!1}},setup(){return{store:Xe()}},mounted(){Pt("/api/ping/getAllPeersIpAddress",{},t=>{t.status&&(this.loading=!0,this.cips=t.data,console.log(this.cips))})},methods:{execute(){this.selectedIp&&(this.pinging=!0,this.pingResult=void 0,Pt("/api/ping/execute",{ipAddress:this.selectedIp,count:this.count},t=>{t.status?this.pingResult=t.data:this.store.newMessage("Server",t.message,"danger"),this.pinging=!1}))}},watch:{selectedConfiguration(){this.selectedPeer=void 0,this.selectedIp=void 0},selectedPeer(){this.selectedIp=void 0}}},Ooe={class:"mt-md-5 mt-3 text-body"},Noe={class:"container"},Foe={class:"row"},Boe={class:"col-sm-4 d-flex gap-2 flex-column"},Voe={class:"mb-1 text-muted",for:"configuration"},Woe=["disabled"],zoe=["value"],Yoe={class:"mb-1 text-muted",for:"peer"},Hoe=["disabled"],joe=["value"],Koe={class:"mb-1 text-muted",for:"ip"},Uoe=["disabled"],Goe={class:"d-flex align-items-center gap-2"},Xoe={class:"text-muted"},qoe={class:"mb-1 text-muted",for:"ipAddress"},Zoe=["disabled"],Joe={class:"mb-1 text-muted",for:"count"},Qoe={class:"d-flex gap-3 align-items-center"},eae=["disabled"],tae=["disabled"],nae={key:0,class:"d-block"},iae={key:1,class:"d-block"},sae={class:"col-sm-8 position-relative"},rae={key:"pingPlaceholder"},oae={key:"pingResult",class:"d-flex flex-column gap-2 w-100"},aae={class:"card rounded-3 bg-transparent shadow-sm animate__animated animate__fadeIn",style:{"animation-delay":"0.15s"}},lae={class:"card-body row"},cae={class:"col-sm"},uae={class:"mb-0 text-muted"},dae={key:0,class:"col-sm"},hae={class:"mb-0 text-muted"},fae={class:"card rounded-3 bg-transparent shadow-sm animate__animated animate__fadeIn",style:{"animation-delay":"0.3s"}},gae={class:"card-body"},pae={class:"card rounded-3 bg-transparent shadow-sm animate__animated animate__fadeIn",style:{"animation-delay":"0.45s"}},mae={class:"card-body"},_ae={class:"mb-0 text-muted"},vae={class:"card rounded-3 bg-transparent shadow-sm animate__animated animate__fadeIn",style:{"animation-delay":"0.6s"}},yae={class:"card-body"},bae={class:"mb-0 text-muted"};function wae(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("OSMap");return P(),F("div",Ooe,[h("div",Noe,[e[19]||(e[19]=h("h3",{class:"mb-3 text-body"},"Ping",-1)),h("div",Foe,[h("div",Boe,[h("div",null,[h("label",Voe,[h("small",null,[$(o,{t:"Configuration"})])]),Re(h("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=l=>this.selectedConfiguration=l),disabled:this.pinging},[e[7]||(e[7]=h("option",{disabled:"",selected:"",value:void 0},null,-1)),(P(!0),F(Ie,null,Ge(this.cips,(l,c)=>(P(),F("option",{value:c},pe(c),9,zoe))),256))],8,Woe),[[ch,this.selectedConfiguration]])]),h("div",null,[h("label",Yoe,[h("small",null,[$(o,{t:"Peer"})])]),Re(h("select",{id:"peer",class:"form-select","onUpdate:modelValue":e[1]||(e[1]=l=>this.selectedPeer=l),disabled:this.selectedConfiguration===void 0||this.pinging},[e[8]||(e[8]=h("option",{disabled:"",selected:"",value:void 0},null,-1)),this.selectedConfiguration!==void 0?(P(!0),F(Ie,{key:0},Ge(this.cips[this.selectedConfiguration],(l,c)=>(P(),F("option",{value:c},pe(c),9,joe))),256)):se("",!0)],8,Hoe),[[ch,this.selectedPeer]])]),h("div",null,[h("label",Koe,[h("small",null,[$(o,{t:"IP Address"})])]),Re(h("select",{id:"ip",class:"form-select","onUpdate:modelValue":e[2]||(e[2]=l=>this.selectedIp=l),disabled:this.selectedPeer===void 0||this.pinging},[e[9]||(e[9]=h("option",{disabled:"",selected:"",value:void 0},null,-1)),this.selectedPeer!==void 0?(P(!0),F(Ie,{key:0},Ge(this.cips[this.selectedConfiguration][this.selectedPeer].allowed_ips,l=>(P(),F("option",null,pe(l),1))),256)):se("",!0)],8,Uoe),[[ch,this.selectedIp]])]),h("div",Goe,[e[10]||(e[10]=h("div",{class:"flex-grow-1 border-top"},null,-1)),h("small",Xoe,[$(o,{t:"OR"})]),e[11]||(e[11]=h("div",{class:"flex-grow-1 border-top"},null,-1))]),h("div",null,[h("label",qoe,[h("small",null,[$(o,{t:"Enter IP Address / Hostname"})])]),Re(h("input",{class:"form-control",type:"text",id:"ipAddress",disabled:this.pinging,"onUpdate:modelValue":e[3]||(e[3]=l=>this.selectedIp=l)},null,8,Zoe),[[We,this.selectedIp]])]),e[16]||(e[16]=h("div",{class:"w-100 border-top my-2"},null,-1)),h("div",null,[h("label",Joe,[h("small",null,[$(o,{t:"Count"})])]),h("div",Qoe,[h("button",{onClick:e[4]||(e[4]=l=>this.count--),disabled:this.count===1,class:"btn btn-sm bg-secondary-subtle text-secondary-emphasis"},e[12]||(e[12]=[h("i",{class:"bi bi-dash-lg"},null,-1)]),8,eae),h("strong",null,pe(this.count),1),h("button",{role:"button",onClick:e[5]||(e[5]=l=>this.count++),class:"btn btn-sm bg-secondary-subtle text-secondary-emphasis"},e[13]||(e[13]=[h("i",{class:"bi bi-plus-lg"},null,-1)]))])]),h("button",{class:"btn btn-primary rounded-3 mt-3 position-relative",disabled:!this.selectedIp||this.pinging,onClick:e[6]||(e[6]=l=>this.execute())},[$(vt,{name:"slide"},{default:Pe(()=>[this.pinging?(P(),F("span",iae,e[15]||(e[15]=[h("span",{class:"spinner-border spinner-border-sm","aria-hidden":"true"},null,-1),h("span",{class:"visually-hidden",role:"status"},"Loading...",-1)]))):(P(),F("span",nae,e[14]||(e[14]=[h("i",{class:"bi bi-person-walking me-2"},null,-1),Be("Ping! ")])))]),_:1})],8,tae)]),h("div",sae,[$(vt,{name:"ping"},{default:Pe(()=>[this.pingResult?(P(),F("div",oae,[this.pingResult.geo&&this.pingResult.geo.status==="success"?(P(),Ce(a,{key:0,d:this.pingResult},null,8,["d"])):se("",!0),h("div",aae,[h("div",lae,[h("div",cae,[h("p",uae,[h("small",null,[$(o,{t:"IP Address"})])]),Be(" "+pe(this.pingResult.address),1)]),this.pingResult.geo&&this.pingResult.geo.status==="success"?(P(),F("div",dae,[h("p",hae,[h("small",null,[$(o,{t:"Geolocation"})])]),Be(" "+pe(this.pingResult.geo.city)+", "+pe(this.pingResult.geo.country),1)])):se("",!0)])]),h("div",fae,[h("div",gae,[e[18]||(e[18]=h("p",{class:"mb-0 text-muted"},[h("small",null,"Is Alive")],-1)),h("span",{class:Ee([this.pingResult.is_alive?"text-success":"text-danger"])},[h("i",{class:Ee(["bi me-1",[this.pingResult.is_alive?"bi-check-circle-fill":"bi-x-circle-fill"]])},null,2),Be(" "+pe(this.pingResult.is_alive?"Yes":"No"),1)],2)])]),h("div",pae,[h("div",mae,[h("p",_ae,[h("small",null,[$(o,{t:"Average / Min / Max Round Trip Time"})])]),h("samp",null,pe(this.pingResult.avg_rtt)+"ms / "+pe(this.pingResult.min_rtt)+"ms / "+pe(this.pingResult.max_rtt)+"ms ",1)])]),h("div",vae,[h("div",yae,[h("p",bae,[h("small",null,[$(o,{t:"Sent / Received / Lost Package"})])]),h("samp",null,pe(this.pingResult.package_sent)+" / "+pe(this.pingResult.package_received)+" / "+pe(this.pingResult.package_loss),1)])])])):(P(),F("div",rae,[e[17]||(e[17]=h("div",{class:"pingPlaceholder bg-body-secondary rounded-3 mb-3",style:{height:"300px"}},null,-1)),(P(),F(Ie,null,Ge(4,l=>h("div",{class:Ee(["pingPlaceholder bg-body-secondary rounded-3 mb-3",{"animate__animated animate__flash animate__slower animate__infinite":this.pinging}]),style:Mn({"animation-delay":`${l*.15}s`})},null,6)),64))]))]),_:1})])])])])}const xae=ze(Loe,[["render",wae],["__scopeId","data-v-f5cd36ce"]]),Eae={name:"traceroute",components:{LocaleText:Le,OSMap:yA},data(){return{tracing:!1,ipAddress:void 0,tracerouteResult:void 0}},setup(){return{store:$n()}},methods:{execute(){this.ipAddress&&(this.tracing=!0,this.tracerouteResult=void 0,Pt("/api/traceroute/execute",{ipAddress:this.ipAddress},t=>{t.status?this.tracerouteResult=t.data:this.store.newMessage("Server",t.message,"danger"),this.tracing=!1}))}}},Cae={class:"mt-md-5 mt-3 text-body"},Sae={class:"container-md"},kae={class:"mb-3 text-body"},Tae={class:"d-flex gap-2 flex-column mb-5"},Aae={class:"mb-1 text-muted",for:"ipAddress"},Pae=["disabled"],Mae=["disabled"],Iae={key:0,class:"d-block"},Dae={key:1,class:"d-block"},Rae={class:"position-relative"},$ae={key:"pingPlaceholder"},Lae={key:1},Oae={key:"table",class:"w-100 mt-2"},Nae={class:"table table-sm rounded-3 w-100"},Fae={scope:"col"},Bae={scope:"col"},Vae={scope:"col"},Wae={scope:"col"},zae={scope:"col"},Yae={scope:"col"},Hae={key:0};function jae(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("OSMap");return P(),F("div",Cae,[h("div",Sae,[h("h3",kae,[$(o,{t:"Traceroute"})]),h("div",Tae,[h("div",null,[h("label",Aae,[h("small",null,[$(o,{t:"Enter IP Address / Hostname"})])]),Re(h("input",{disabled:this.tracing,id:"ipAddress",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=l=>this.ipAddress=l),onKeyup:e[1]||(e[1]=dC(l=>this.execute(),["enter"])),type:"text"},null,40,Pae),[[We,this.ipAddress]])]),h("button",{class:"btn btn-primary rounded-3 mt-3 position-relative",disabled:this.tracing||!this.ipAddress,onClick:e[2]||(e[2]=l=>this.execute())},[$(vt,{name:"slide"},{default:Pe(()=>[this.tracing?(P(),F("span",Dae,e[4]||(e[4]=[h("span",{class:"spinner-border spinner-border-sm","aria-hidden":"true"},null,-1),h("span",{class:"visually-hidden",role:"status"},"Loading...",-1)]))):(P(),F("span",Iae,e[3]||(e[3]=[h("i",{class:"bi bi-person-walking me-2"},null,-1),Be("Trace! ")])))]),_:1})],8,Mae)]),h("div",Rae,[$(vt,{name:"ping"},{default:Pe(()=>[this.tracerouteResult?(P(),F("div",Lae,[$(a,{d:this.tracerouteResult,type:"traceroute"},null,8,["d"]),h("div",Oae,[h("table",Nae,[h("thead",null,[h("tr",null,[h("th",Fae,[$(o,{t:"Hop"})]),h("th",Bae,[$(o,{t:"IP Address"})]),h("th",Vae,[$(o,{t:"Average RTT (ms)"})]),h("th",Wae,[$(o,{t:"Min RTT (ms)"})]),h("th",zae,[$(o,{t:"Max RTT (ms)"})]),h("th",Yae,[$(o,{t:"Geolocation"})])])]),h("tbody",null,[(P(!0),F(Ie,null,Ge(this.tracerouteResult,(l,c)=>(P(),F("tr",null,[h("td",null,[h("small",null,pe(l.hop),1)]),h("td",null,[h("small",null,pe(l.ip),1)]),h("td",null,[h("small",null,pe(l.avg_rtt),1)]),h("td",null,[h("small",null,pe(l.min_rtt),1)]),h("td",null,[h("small",null,pe(l.max_rtt),1)]),h("td",null,[l.geo.city&&l.geo.country?(P(),F("span",Hae,[h("small",null,pe(l.geo.city)+", "+pe(l.geo.country),1)])):se("",!0)])]))),256))])])])])):(P(),F("div",$ae,[e[5]||(e[5]=h("div",{class:"pingPlaceholder bg-body-secondary rounded-3 mb-3",style:{height:"300px !important"}},null,-1)),(P(),F(Ie,null,Ge(5,l=>h("div",{class:Ee(["pingPlaceholder bg-body-secondary rounded-3 mb-3",{"animate__animated animate__flash animate__slower animate__infinite":this.tracing}]),style:Mn({"animation-delay":`${l*.05}s`})},null,6)),64))]))]),_:1})])])])}const Kae=ze(Eae,[["render",jae],["__scopeId","data-v-6d6cffc9"]]),Uae={name:"totp",components:{LocaleText:Le},async setup(){const t=Xe();let e="";return await Pt("/api/Welcome_GetTotpLink",{},n=>{n.status&&(e=n.data)}),{l:e,store:t}},mounted(){this.l&&wa.toCanvas(document.getElementById("qrcode"),this.l,function(t){})},data(){return{totp:"",totpInvalidMessage:"",verified:!1}},methods:{validateTotp(){}},watch:{totp(t){const e=document.querySelector("#totp");e.classList.remove("is-invalid","is-valid"),t.length===6&&(console.log(t),/[0-9]{6}/.test(t)?dt("/api/Welcome_VerifyTotpLink",{totp:t},n=>{n.status?(this.verified=!0,e.classList.add("is-valid"),this.$emit("verified")):(e.classList.add("is-invalid"),this.totpInvalidMessage="TOTP does not match.")}):(e.classList.add("is-invalid"),this.totpInvalidMessage="TOTP can only contain numbers"))}}},Gae=["data-bs-theme"],Xae={class:"m-auto text-body",style:{width:"500px"}},qae={class:"d-flex flex-column"},Zae={class:"dashboardLogo display-4"},Jae={class:"mb-2"},Qae={class:"text-muted"},ele={class:"p-3 bg-body-secondary rounded-3 border mb-3"},tle={class:"text-muted mb-0"},nle=["href"],ile={style:{"line-break":"anywhere"}},sle={for:"totp",class:"mb-2"},rle={class:"text-muted"},ole={class:"form-group mb-2"},ale=["disabled"],lle={class:"invalid-feedback"},cle={class:"valid-feedback"},ule={class:"d-flex gap-3 mt-5 flex-column"};function dle(t,e,n,i,s,r){const o=Se("LocaleText"),a=Se("RouterLink");return P(),F("div",{class:"container-fluid login-container-fluid d-flex main pt-5 overflow-scroll","data-bs-theme":this.store.Configuration.Server.dashboard_theme},[h("div",Xae,[h("div",qae,[h("div",null,[h("h1",Zae,[$(o,{t:"Multi-Factor Authentication (MFA)"})]),h("p",Jae,[h("small",Qae,[$(o,{t:"1. Please scan the following QR Code to generate TOTP with your choice of authenticator"})])]),e[1]||(e[1]=h("canvas",{id:"qrcode",class:"rounded-3 mb-2"},null,-1)),h("div",ele,[h("p",tle,[h("small",null,[$(o,{t:"Or you can click the link below:"})])]),h("a",{href:this.l},[h("code",ile,pe(this.l),1)],8,nle)]),h("label",sle,[h("small",rle,[$(o,{t:"2. Enter the TOTP generated by your authenticator to verify"})])]),h("div",ole,[Re(h("input",{class:"form-control text-center totp",id:"totp",maxlength:"6",type:"text",inputmode:"numeric",autocomplete:"one-time-code","onUpdate:modelValue":e[0]||(e[0]=l=>this.totp=l),disabled:this.verified},null,8,ale),[[We,this.totp]]),h("div",lle,[$(o,{t:this.totpInvalidMessage},null,8,["t"])]),h("div",cle,[$(o,{t:"TOTP verified!"})])])]),e[4]||(e[4]=h("hr",null,null,-1)),h("div",ule,[this.verified?(P(),Ce(a,{key:1,to:"/",class:"btn btn-dark btn-lg d-flex btn-brand shadow align-items-center flex-grow-1 rounded-3"},{default:Pe(()=>[$(o,{t:"Complete"}),e[3]||(e[3]=h("i",{class:"bi bi-chevron-right ms-auto"},null,-1))]),_:1})):(P(),Ce(a,{key:0,to:"/",class:"btn bg-secondary-subtle text-secondary-emphasis rounded-3 flex-grow-1 btn-lg border-1 border-secondary-subtle shadow d-flex"},{default:Pe(()=>[$(o,{t:"I don't need MFA"}),e[2]||(e[2]=h("i",{class:"bi bi-chevron-right ms-auto"},null,-1))]),_:1}))])])])],8,Gae)}const hle=ze(Uae,[["render",dle]]),fle={name:"share",components:{LocaleText:Le},async setup(){const t=Wu(),e=me(!1),n=Xe(),i=me(""),s=me(void 0),r=me(new Blob);await Pt("/api/getDashboardTheme",{},a=>{i.value=a.data});const o=t.query.ShareID;return o===void 0||o.length===0?(s.value=void 0,e.value=!0):await Pt("/api/sharePeer/get",{ShareID:o},a=>{a.status?(s.value=a.data,r.value=new Blob([s.value.file],{type:"text/plain"})):s.value=void 0,e.value=!0}),{store:n,theme:i,peerConfiguration:s,blob:r}},mounted(){this.peerConfiguration&&wa.toCanvas(document.querySelector("#qrcode"),this.peerConfiguration.file,t=>{t&&console.error(t)})},methods:{download(){const t=new Blob([this.peerConfiguration.file],{type:"text/plain"}),e=URL.createObjectURL(t),n=`${this.peerConfiguration.fileName}.conf`,i=document.createElement("a");i.href=e,i.download=n,i.click()}},computed:{getBlob(){return URL.createObjectURL(this.blob)}}},gle=["data-bs-theme"],ple={class:"m-auto text-body",style:{width:"500px"}},mle={key:0,class:"text-center position-relative",style:{}},_le={class:"position-absolute w-100 h-100 top-0 start-0 d-flex animate__animated animate__fadeInUp",style:{"animation-delay":"0.1s"}},vle={class:"m-auto"},yle={key:1,class:"d-flex align-items-center flex-column gap-3"},ble={class:"h1 dashboardLogo text-center animate__animated animate__fadeInUp"},wle={id:"qrcode",class:"rounded-3 shadow animate__animated animate__fadeInUp mb-3",ref:"qrcode"},xle={class:"text-muted animate__animated animate__fadeInUp mb-1",style:{"animation-delay":"0.2s"}},Ele=["download","href"];function Cle(t,e,n,i,s,r){const o=Se("LocaleText");return P(),F("div",{class:"container-fluid login-container-fluid d-flex main pt-5 overflow-scroll","data-bs-theme":this.theme},[h("div",ple,[this.peerConfiguration?(P(),F("div",yle,[h("div",ble,[e[1]||(e[1]=h("h6",null,"WGDashboard",-1)),$(o,{t:"Scan QR Code with the WireGuard App to add peer"})]),h("canvas",wle,null,512),h("p",xle,[$(o,{t:"or click the button below to download the "}),e[2]||(e[2]=h("samp",null,".conf",-1)),$(o,{t:" file"})]),h("a",{download:this.peerConfiguration.fileName+".conf",href:r.getBlob,class:"btn btn-lg bg-primary-subtle text-primary-emphasis border-1 border-primary-subtle animate__animated animate__fadeInUp shadow-sm",style:{"animation-delay":"0.25s"}},e[3]||(e[3]=[h("i",{class:"bi bi-download"},null,-1)]),8,Ele)])):(P(),F("div",mle,[e[0]||(e[0]=h("div",{class:"animate__animated animate__fadeInUp"},[h("h1",{style:{"font-size":"20rem",filter:"blur(1rem)","animation-duration":"7s"},class:"animate__animated animate__flash animate__infinite"},[h("i",{class:"bi bi-file-binary"})])],-1)),h("div",_le,[h("h3",vle,[$(o,{t:"Oh no... This link is either expired or invalid."})])])]))])],8,gle)}const Sle=ze(fle,[["render",Cle],["__scopeId","data-v-1b44aacd"]]),kle={class:"card rounded-3 shadow-sm"},Tle={class:"d-flex gap-3 align-items-center"},Ale={class:"mb-0"},Ple={class:"text-muted"},Mle={key:0,class:"card-footer p-3 d-flex flex-column gap-2"},Ile=["onClick","id"],Dle={class:"card-body d-flex p-3 gap-3 align-items-center"},Rle={__name:"backupGroup",props:{configurationName:String,backups:Array,open:!1,selectedConfigurationBackup:Object},emits:["select"],setup(t,{emit:e}){const n=t,i=e,s=me(n.open);return Vt(()=>{n.selectedConfigurationBackup&&document.querySelector(`#${n.selectedConfigurationBackup.filename.replace(".conf","")}`).scrollIntoView({behavior:"smooth"})}),(r,o)=>(P(),F("div",kle,[h("a",{role:"button",class:"card-body d-flex align-items-center text-decoration-none",onClick:o[0]||(o[0]=a=>s.value=!s.value)},[h("div",Tle,[h("h6",Ale,[h("samp",null,pe(t.configurationName),1)]),h("small",Ple,pe(t.backups.length)+" "+pe(t.backups.length>1?"Backups":"Backup"),1)]),h("h5",{class:Ee(["ms-auto mb-0 dropdownIcon text-muted",{active:s.value}])},o[1]||(o[1]=[h("i",{class:"bi bi-chevron-down"},null,-1)]),2)]),s.value?(P(),F("div",Mle,[(P(!0),F(Ie,null,Ge(t.backups,a=>(P(),F("div",{class:"card rounded-3 shadow-sm animate__animated",key:a.filename,onClick:()=>{i("select",a)},id:a.filename.replace(".conf",""),role:"button"},[h("div",Dle,[h("small",null,[o[2]||(o[2]=h("i",{class:"bi bi-file-earmark me-2"},null,-1)),h("samp",null,pe(a.filename),1)]),h("small",null,[o[3]||(o[3]=h("i",{class:"bi bi-clock-history me-2"},null,-1)),h("samp",null,pe(Z(Fn)(a.backupDate).format("YYYY-MM-DD HH:mm:ss")),1)]),h("small",null,[o[4]||(o[4]=h("i",{class:"bi bi-database me-2"},null,-1)),Be(" "+pe(a.database?"Yes":"No"),1)]),o[5]||(o[5]=h("small",{class:"text-muted ms-auto"},[h("i",{class:"bi bi-chevron-right"})],-1))])],8,Ile))),128))])):se("",!0)]))}},$le=ze(Rle,[["__scopeId","data-v-35612fa2"]]),Lle={class:"d-flex flex-column gap-5",id:"confirmBackup"},Ole={class:"d-flex flex-column gap-3"},Nle={class:"d-flex flex-column flex-sm-row align-items-start align-items-sm-center gap-3"},Fle={class:"mb-0"},Ble={class:"text-muted mb-1",for:"ConfigurationName"},Vle={class:"invalid-feedback"},Wle={key:0},zle={key:1},Yle={class:"mb-0"},Hle={class:"row g-3"},jle={class:"col-sm"},Kle={class:"text-muted mb-1",for:"PrivateKey"},Ule={class:"input-group"},Gle={class:"col-sm"},Xle={class:"text-muted mb-1",for:"PublicKey"},qle={class:"text-muted mb-1",for:"ListenPort"},Zle={class:"invalid-feedback"},Jle={key:0},Qle={key:1},ece={class:"mb-0"},tce={class:"text-muted mb-1 d-flex",for:"ListenPort"},nce={class:"invalid-feedback"},ice={key:0},sce={key:1},rce={class:"accordion",id:"newConfigurationOptionalAccordion"},oce={class:"accordion-item"},ace={class:"accordion-header"},lce={class:"accordion-button collapsed rounded-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#newConfigurationOptionalAccordionCollapse"},cce={id:"newConfigurationOptionalAccordionCollapse",class:"accordion-collapse collapse","data-bs-parent":"#newConfigurationOptionalAccordion"},uce={class:"accordion-body d-flex flex-column gap-3"},dce={class:"text-muted mb-1",for:"PreUp"},hce={class:"text-muted mb-1",for:"PreDown"},fce={class:"text-muted mb-1",for:"PostUp"},gce={class:"text-muted mb-1",for:"PostDown"},pce={class:"d-flex flex-column gap-3"},mce={class:"d-flex flex-column flex-sm-row align-items-start align-items-sm-center gap-3"},_ce={class:"mb-0"},vce={key:0},yce={class:"row g-3"},bce={class:"col-sm"},wce={class:"card text-bg-success rounded-3"},xce={class:"card-body"},Ece={class:"col-sm"},Cce={class:"card text-bg-warning rounded-3"},Sce={class:"card-body"},kce={class:"d-flex"},Tce=["disabled"],Ace={__name:"confirmBackup",props:{selectedConfigurationBackup:Object},setup(t){const e=t,n=Ei({ConfigurationName:e.selectedConfigurationBackup.filename.split("_")[0],Backup:e.selectedConfigurationBackup.filename}),i=e.selectedConfigurationBackup.content.split(`
`);for(let E of i){if(E==="[Peer]")break;if(E.length>0){let w=E.replace(" = ","=").split("=");w[0]==="ListenPort"?n[w[0]]=parseInt(w[1]):n[w[0]]=w[1]}}const s=me(!1),r=me(!1),o=me(""),a=$n(),l=ve(()=>/^[a-zA-Z0-9_=+.-]{1,15}$/.test(n.ConfigurationName)&&n.ConfigurationName.length>0&&!a.Configurations.find(E=>E.Name===n.ConfigurationName)),c=ve(()=>{try{wireguard.generatePublicKey(n.PrivateKey)}catch{return!1}return!0}),u=ve(()=>n.ListenPort>0&&n.ListenPort<=65353&&Number.isInteger(n.ListenPort)&&!a.Configurations.find(E=>parseInt(E.ListenPort)===n.ListenPort)),d=ve(()=>{try{return am(n.Address),!0}catch{return!1}}),f=ve(()=>d.value&&u.value&&c.value&&l.value);Vt(()=>{document.querySelector("main").scrollTo({top:0,behavior:"smooth"}),jt(()=>c,E=>{E&&(n.PublicKey=wireguard.generatePublicKey(n.PrivateKey))},{immediate:!0})});const g=ve(()=>{let E;try{E=am(n.Address)}catch{return 0}return E.end-E.start}),p=ve(()=>e.selectedConfigurationBackup.database?e.selectedConfigurationBackup.databaseContent.split(`
`).filter(w=>w.search('INSERT INTO "(.*)"')>=0).length:0),m=ve(()=>e.selectedConfigurationBackup.database?e.selectedConfigurationBackup.databaseContent.split(`
`).filter(w=>w.search('INSERT INTO "(.*)_restrict_access"')>=0).length:0),v=Xe(),y=IC(),x=async()=>{f.value&&await dt("/api/addWireguardConfiguration",n,async E=>{E.status&&(v.newMessage("Server","Configuration restored","success"),await a.getConfigurations(),await y.push(`/configuration/${n.ConfigurationName}/peers`))})};return(E,w)=>(P(),F("div",Lle,[h("form",Ole,[h("div",Nle,[h("h4",Fle,[$(Le,{t:"Configuration File"})])]),h("div",null,[h("label",Ble,[h("small",null,[$(Le,{t:"Configuration Name"})])]),Re(h("input",{type:"text",class:Ee(["form-control rounded-3",[l.value?"is-valid":"is-invalid"]]),placeholder:"ex. wg1",id:"ConfigurationName","onUpdate:modelValue":w[0]||(w[0]=b=>n.ConfigurationName=b),disabled:"",required:""},null,2),[[We,n.ConfigurationName]]),h("div",Vle,[s.value?(P(),F("div",Wle,pe(o.value),1)):(P(),F("div",zle,[$(Le,{t:"Configuration name is invalid. Possible reasons:"}),h("ul",Yle,[h("li",null,[$(Le,{t:"Configuration name already exist."})]),h("li",null,[$(Le,{t:"Configuration name can only contain 15 lower/uppercase alphabet, numbers, underscore, equal sign, plus sign, period and hyphen."})])])]))])]),h("div",Hle,[h("div",jle,[h("div",null,[h("label",Kle,[h("small",null,[$(Le,{t:"Private Key"})])]),h("div",Ule,[Re(h("input",{type:"text",class:Ee(["form-control rounded-start-3",[c.value?"is-valid":"is-invalid"]]),id:"PrivateKey",required:"","onUpdate:modelValue":w[1]||(w[1]=b=>n.PrivateKey=b),disabled:""},null,2),[[We,n.PrivateKey]])])])]),h("div",Gle,[h("div",null,[h("label",Xle,[h("small",null,[$(Le,{t:"Public Key"})])]),Re(h("input",{type:"text",class:"form-control rounded-3",id:"PublicKey","onUpdate:modelValue":w[2]||(w[2]=b=>n.PublicKey=b),disabled:""},null,512),[[We,n.PublicKey]])])])]),h("div",null,[h("label",qle,[h("small",null,[$(Le,{t:"Listen Port"})])]),Re(h("input",{type:"number",class:Ee(["form-control rounded-3",[u.value?"is-valid":"is-invalid"]]),placeholder:"0-65353",id:"ListenPort",min:"1",max:"65353","onUpdate:modelValue":w[3]||(w[3]=b=>n.ListenPort=b),disabled:"",required:""},null,2),[[We,n.ListenPort]]),h("div",Zle,[s.value?(P(),F("div",Jle,pe(o.value),1)):(P(),F("div",Qle,[$(Le,{t:"Listen Port is invalid. Possible reasons:"}),h("ul",ece,[h("li",null,[$(Le,{t:"Invalid port."})]),h("li",null,[$(Le,{t:"Port is assigned to existing WireGuard Configuration.    "})])])]))])]),h("div",null,[h("label",tce,[h("small",null,[$(Le,{t:"IP Address/CIDR"})]),h("small",{class:Ee(["ms-auto",[g.value>0?"text-success":"text-danger"]])},pe(g.value)+" Available IP Address ",3)]),Re(h("input",{type:"text",class:Ee(["form-control",[d.value?"is-valid":"is-invalid"]]),placeholder:"Ex: 10.0.0.1/24",id:"Address","onUpdate:modelValue":w[4]||(w[4]=b=>n.Address=b),disabled:"",required:""},null,2),[[We,n.Address]]),h("div",nce,[s.value?(P(),F("div",ice,pe(o.value),1)):(P(),F("div",sce,[$(Le,{t:"IP Address/CIDR is invalid"})]))])]),h("div",rce,[h("div",oce,[h("h2",ace,[h("button",lce,[$(Le,{t:"Optional Settings"})])]),h("div",cce,[h("div",uce,[h("div",null,[h("label",dce,[h("small",null,[$(Le,{t:"PreUp"})])]),Re(h("input",{type:"text",class:"form-control rounded-3",id:"PreUp",disabled:"","onUpdate:modelValue":w[5]||(w[5]=b=>n.PreUp=b)},null,512),[[We,n.PreUp]])]),h("div",null,[h("label",hce,[h("small",null,[$(Le,{t:"PreDown"})])]),Re(h("input",{type:"text",class:"form-control rounded-3",id:"PreDown",disabled:"","onUpdate:modelValue":w[6]||(w[6]=b=>n.PreDown=b)},null,512),[[We,n.PreDown]])]),h("div",null,[h("label",fce,[h("small",null,[$(Le,{t:"PostUp"})])]),Re(h("input",{type:"text",class:"form-control rounded-3",id:"PostUp",disabled:"","onUpdate:modelValue":w[7]||(w[7]=b=>n.PostUp=b)},null,512),[[We,n.PostUp]])]),h("div",null,[h("label",gce,[h("small",null,[$(Le,{t:"PostDown"})])]),Re(h("input",{type:"text",class:"form-control rounded-3",id:"PostDown",disabled:"","onUpdate:modelValue":w[8]||(w[8]=b=>n.PostDown=b)},null,512),[[We,n.PostDown]])])])])])])]),h("div",pce,[h("div",mce,[h("h4",_ce,[$(Le,{t:"Database File"})]),h("h4",{class:Ee(["mb-0 ms-auto",[t.selectedConfigurationBackup.database?"text-success":"text-danger"]])},[h("i",{class:Ee(["bi",[t.selectedConfigurationBackup.database?"bi-check-circle-fill":"bi-x-circle-fill"]])},null,2)],2)]),t.selectedConfigurationBackup.database?(P(),F("div",vce,[h("div",yce,[h("div",bce,[h("div",wce,[h("div",xce,[w[10]||(w[10]=h("i",{class:"bi bi-person-fill me-2"},null,-1)),w[11]||(w[11]=Be(" Contain ")),h("strong",null,pe(p.value),1),Be(" Peer"+pe(p.value>1?"s":""),1)])])]),h("div",Ece,[h("div",Cce,[h("div",Sce,[w[12]||(w[12]=h("i",{class:"bi bi-person-fill-lock me-2"},null,-1)),w[13]||(w[13]=Be(" Contain ")),h("strong",null,pe(m.value),1),Be(" Restricted Peer"+pe(m.value>1?"s":""),1)])])])])])):se("",!0)]),h("div",kce,[h("button",{class:"btn btn-dark btn-brand rounded-3 px-3 py-2 shadow ms-auto",disabled:!f.value||r.value,onClick:w[9]||(w[9]=b=>x())},[w[14]||(w[14]=h("i",{class:"bi bi-clock-history me-2"},null,-1)),Be(" "+pe(r.value?"Restoring...":"Restore"),1)],8,Tce)])]))}},Pce={class:"mt-5 text-body"},Mce={class:"container mb-4"},Ice={class:"mb-5 d-flex align-items-center gap-4"},Dce={class:"mb-0"},Rce={key:0},$ce={class:"d-flex text-decoration-none text-body flex-grow-1 align-items-center gap-3"},Lce={class:"text-muted"},Oce={key:0,class:"ms-sm-auto"},Nce={key:0,id:"step1Detail"},Fce={class:"mb-4"},Bce={class:"d-flex gap-3 flex-column"},Vce={key:0},Wce={class:"my-5",key:"step2",id:"step2"},zce={class:"text-muted"},Yce={__name:"restoreConfiguration",setup(t){const e=me(void 0);Vt(()=>{Pt("/api/getAllWireguardConfigurationBackup",{},r=>{e.value=r.data})});const n=me(!1),i=me(void 0),s=me("");return(r,o)=>{const a=Se("RouterLink");return P(),F("div",Pce,[h("div",Mce,[h("div",Ice,[$(a,{to:"/new_configuration",class:"btn btn-dark btn-brand p-2 shadow",style:{"border-radius":"100%"}},{default:Pe(()=>o[1]||(o[1]=[h("h2",{class:"mb-0",style:{"line-height":"0"}},[h("i",{class:"bi bi-arrow-left-circle"})],-1)])),_:1}),h("h2",Dce,[$(Le,{t:"Restore Configuration"})])]),e.value?(P(),F("div",Rce,[h("div",{class:Ee(["d-flex mb-5 align-items-center steps",{active:!n.value}]),role:"button",onClick:o[0]||(o[0]=l=>n.value=!1),key:"step1"},[h("div",$ce,[o[3]||(o[3]=h("h1",{class:"mb-0",style:{"line-height":"0"}},[h("i",{class:"bi bi-1-circle-fill"})],-1)),h("div",null,[o[2]||(o[2]=h("h4",{class:"mb-0"},"Step 1",-1)),h("small",Lce,[n.value?(P(),Ce(Le,{key:1,t:"Click to change a backup"})):(P(),Ce(Le,{key:0,t:"Select a backup you want to restore"}))])])]),$(vt,{name:"zoomReversed"},{default:Pe(()=>[n.value?(P(),F("div",Oce,[o[4]||(o[4]=h("small",{class:"text-muted"},"Selected Backup",-1)),h("h6",null,[h("samp",null,pe(i.value.filename),1)])])):se("",!0)]),_:1})],2),n.value?se("",!0):(P(),F("div",Nce,[h("div",Fce,[h("div",Bce,[(P(!0),F(Ie,null,Ge(Object.keys(e.value.NonExistingConfigurations),l=>(P(),Ce($le,{onSelect:c=>{i.value=c,s.value=l,n.value=!0},selectedConfigurationBackup:i.value,open:s.value===l,"configuration-name":l,backups:e.value.NonExistingConfigurations[l]},null,8,["onSelect","selectedConfigurationBackup","open","configuration-name","backups"]))),256)),Object.keys(e.value.NonExistingConfigurations).length===0?(P(),F("div",Vce,o[5]||(o[5]=[h("div",{class:"card rounded-3"},[h("div",{class:"card-body"},[h("p",{class:"mb-0"},"You don't have any configuration to restore")])],-1)]))):se("",!0)])])])),h("div",Wce,[h("div",{class:Ee(["steps d-flex text-decoration-none text-body flex-grow-1 align-items-center gap-3",{active:n.value}])},[o[7]||(o[7]=h("h1",{class:"mb-0",style:{"line-height":"0"}},[h("i",{class:"bi bi-2-circle-fill"})],-1)),h("div",null,[o[6]||(o[6]=h("h4",{class:"mb-0"},"Step 2",-1)),h("small",zce,[n.value?(P(),Ce(Le,{key:1,t:"Confirm & edit restore information"})):(P(),Ce(Le,{key:0,t:"Backup not selected"}))])])],2)]),n.value?(P(),Ce(Ace,{selectedConfigurationBackup:i.value,key:"confirm"},null,8,["selectedConfigurationBackup"])):se("",!0)])):se("",!0)])])}}},Hce=ze(Yce,[["__scopeId","data-v-1dc71439"]]),jce=async()=>{let t=!1;return await Pt("/api/validateAuthentication",{},e=>{t=e.status}),t},Ql=mL({history:U$(),scrollBehavior(){document.querySelector("main")!==null&&document.querySelector("main").scrollTo({top:0})},routes:[{name:"Index",path:"/",component:hO,meta:{requiresAuth:!0},children:[{name:"Configuration List",path:"",component:D3,meta:{title:"WireGuard Configurations"}},{name:"Settings",path:"/settings",component:r8,meta:{title:"Settings"}},{path:"/ping",name:"Ping",component:xae},{path:"/traceroute",name:"Traceroute",component:Kae},{name:"New Configuration",path:"/new_configuration",component:AW,meta:{title:"New Configuration"}},{name:"Restore Configuration",path:"/restore_configuration",component:Hce,meta:{title:"Restore Configuration"}},{name:"Configuration",path:"/configuration/:id",component:DW,meta:{title:"Configuration"},children:[{name:"Peers List",path:"peers",component:ine},{name:"Peers Create",path:"create",component:nT}]}]},{path:"/signin",component:s3,meta:{title:"Sign In"}},{path:"/welcome",component:C8,meta:{requiresAuth:!0,title:"Welcome to WGDashboard"}},{path:"/2FASetup",component:hle,meta:{requiresAuth:!0,title:"Multi-Factor Authentication Setup"}},{path:"/share",component:Sle,meta:{title:"Share"}}]});Ql.beforeEach(async(t,e,n)=>{const i=$n(),s=Xe();t.meta.title?t.params.id?document.title=t.params.id+" | WGDashboard":document.title=t.meta.title+" | WGDashboard":document.title="WGDashboard",s.ShowNavBar=!1,document.querySelector(".loadingBar").classList.remove("loadingDone"),document.querySelector(".loadingBar").classList.add("loading"),t.meta.requiresAuth?s.getActiveCrossServer()?(await s.getConfiguration(),!i.Configurations&&t.name!=="Configuration List"&&await i.getConfigurations(),n()):vL.getCookie("authToken")&&await jce()?(await s.getConfiguration(),!i.Configurations&&t.name!=="Configuration List"&&await i.getConfigurations(),s.Redirect=void 0,n()):(s.Redirect=t,n("/signin"),s.newMessage("WGDashboard","Sign in session ended, please sign in again","warning")):n()});Ql.afterEach(()=>{document.querySelector(".loadingBar").classList.remove("loading"),document.querySelector(".loadingBar").classList.add("loadingDone")});const bA=()=>{let t={"content-type":"application/json"};const n=Xe().getActiveCrossServer();return n&&(t["wg-dashboard-apikey"]=n.apiKey),t},wA=t=>{const n=Xe().getActiveCrossServer();return n?`${n.host}${t}`:`${window.location.protocol}//${(window.location.host+window.location.pathname+t).replace(/\/\//g,"/")}`},Pt=async(t,e=void 0,n=void 0)=>{const i=new URLSearchParams(e);await fetch(`${wA(t)}?${i.toString()}`,{headers:bA()}).then(s=>{const r=Xe();if(s.ok)return s.json();if(s.status!==200)throw s.status===401&&r.newMessage("WGDashboard","Sign in session ended, please sign in again","warning"),new Error(s.statusText)}).then(s=>n?n(s):void 0).catch(s=>{console.log(s),Ql.push({path:"/signin"})})},dt=async(t,e,n)=>{await fetch(`${wA(t)}`,{headers:bA(),method:"POST",body:JSON.stringify(e)}).then(i=>{const s=Xe();if(i.ok)return i.json();if(i.status!==200)throw i.status===401&&s.newMessage("WGDashboard","Sign in session ended, please sign in again","warning"),new Error(i.statusText)}).then(i=>n?n(i):void 0).catch(i=>{console.log(i),Ql.push({path:"/signin"})})},Xe=_C("DashboardConfigurationStore",{state:()=>({Redirect:void 0,Configuration:void 0,Messages:[],Peers:{Selecting:!1,RefreshInterval:void 0},CrossServerConfiguration:{Enable:!1,ServerList:{}},ActiveServerConfiguration:void 0,IsElectronApp:!1,ShowNavBar:!1,Locale:void 0}),actions:{initCrossServerConfiguration(){const t=localStorage.getItem("CrossServerConfiguration");localStorage.getItem("ActiveCrossServerConfiguration")!==null&&(this.ActiveServerConfiguration=localStorage.getItem("ActiveCrossServerConfiguration")),t===null?window.localStorage.setItem("CrossServerConfiguration",JSON.stringify(this.CrossServerConfiguration)):this.CrossServerConfiguration=JSON.parse(t)},syncCrossServerConfiguration(){window.localStorage.setItem("CrossServerConfiguration",JSON.stringify(this.CrossServerConfiguration))},addCrossServerConfiguration(){this.CrossServerConfiguration.ServerList[Bs().toString()]={host:"",apiKey:"",active:!1}},deleteCrossServerConfiguration(t){delete this.CrossServerConfiguration.ServerList[t]},getActiveCrossServer(){const t=localStorage.getItem("ActiveCrossServerConfiguration");if(t!==null)return this.CrossServerConfiguration.ServerList[t]},setActiveCrossServer(t){this.ActiveServerConfiguration=t,localStorage.setItem("ActiveCrossServerConfiguration",t)},removeActiveCrossServer(){this.ActiveServerConfiguration=void 0,localStorage.removeItem("ActiveCrossServerConfiguration")},async getConfiguration(){await Pt("/api/getDashboardConfiguration",{},t=>{t.status&&(this.Configuration=t.data)})},async signOut(){await Pt("/api/signout",{},t=>{this.removeActiveCrossServer(),this.$router.go("/signin")})},newMessage(t,e,n){this.Messages.push({id:Bs(),from:At(t),content:At(e),type:n,show:!0})},applyLocale(t){if(this.Locale===null)return t;const n=Object.keys(this.Locale).filter(i=>t.match(new RegExp("^"+i+"$","g"))!==null);return console.log(n),n.length===0||n.length>1?t:this.Locale[n[0]]}}}),Kce={class:"navbar bg-dark sticky-top","data-bs-theme":"dark"},Uce={class:"container-fluid d-flex text-body align-items-center"},Gce={key:0,class:"ms-auto text-muted"},Xce={__name:"App",setup(t){const e=Xe();e.initCrossServerConfiguration(),window.IS_WGDASHBOARD_DESKTOP&&(e.IsElectronApp=!0,e.CrossServerConfiguration.Enable=!0),jt(e.CrossServerConfiguration,()=>{e.syncCrossServerConfiguration()},{deep:!0});const n=ve(()=>{if(e.ActiveServerConfiguration)return e.CrossServerConfiguration.ServerList[e.ActiveServerConfiguration]});return(i,s)=>(P(),F(Ie,null,[s[4]||(s[4]=h("div",{style:{"z-index":"9999",height:"5px"},class:"position-absolute loadingBar top-0 start-0"},null,-1)),h("nav",Kce,[h("div",Uce,[s[3]||(s[3]=h("span",{class:"navbar-brand mb-0 h1"},"WGDashboard",-1)),n.value!==void 0?(P(),F("small",Gce,[s[1]||(s[1]=h("i",{class:"bi bi-server me-2"},null,-1)),Be(pe(n.value.host),1)])):se("",!0),h("a",{role:"button",class:"navbarBtn text-body",onClick:s[0]||(s[0]=r=>Z(e).ShowNavBar=!Z(e).ShowNavBar),style:{"line-height":"0","font-size":"2rem"}},s[2]||(s[2]=[h("i",{class:"bi bi-list"},null,-1)]))])]),(P(),Ce(x_,null,{default:Pe(()=>[$(Z(MC),null,{default:Pe(({Component:r})=>[$(vt,{name:"app",mode:"out-in",type:"transition",appear:""},{default:Pe(()=>[(P(),Ce(_a(r)))]),_:2},1024)]),_:1})]),_:1}))],64))}},qce=ze(Xce,[["__scopeId","data-v-ca898237"]]);let zm;await fetch("/api/locale").then(t=>t.json()).then(t=>zm=t.data).catch(()=>{zm=null});const Qv=o$(qce);Qv.use(Ql);const xA=u$();xA.use(({store:t})=>{t.$router=uf(Ql)});Qv.use(xA);const Zce=Xe();Zce.Locale=zm;Qv.mount("#app");
