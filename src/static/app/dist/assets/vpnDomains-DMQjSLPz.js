import{_ as u,D as p,g,A as v,c as o,b as e,d,m as b,y as f,F as h,h as _,e as D,a,t as c,k as x}from"./index-D6I6MaRL.js";import{L as k}from"./localeText-B89FXDP0.js";const w={name:"vpnDomains",components:{LocaleText:k},setup(){return{store:p()}},data(){return{domains:[],newDomain:"",saving:!1,loading:!0,editIndex:null}},mounted(){this.load()},methods:{load(){g("/api/vpnDomains",{},t=>{t.status?this.domains=t.data:this.store.newMessage("Server",t.message,"danger"),this.loading=!1})},add(){this.newDomain.trim().length&&(this.domains.push({domain:this.newDomain.trim(),ip:""}),this.newDomain="")},save(){this.saving=!0,v("/api/vpnDomains",{domains:this.domains},t=>{t.status?this.store.newMessage("Server","Save","success"):this.store.newMessage("Server",t.message,"danger"),this.saving=!1})},deleteDomain(t){this.domains.splice(t,1)}}},y={class:"mt-md-5 mt-3 text-body mb-3"},C={class:"container"},S={class:"mb-3"},L={class:"input-group mb-3"},V=["disabled"],M={key:0},N={key:1,class:"spinner-border spinner-border-sm",role:"status"},T={key:0,class:"list-group"},B={class:"d-flex gap-2"},A=["onClick"];function F(t,s,P,j,i,l){const r=x("LocaleText");return a(),o("div",y,[e("div",C,[e("h3",S,[d(r,{t:"VPN Domains"})]),e("div",L,[b(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>i.newDomain=n)},null,512),[[f,i.newDomain]]),e("button",{class:"btn btn-success",onClick:s[1]||(s[1]=(...n)=>l.add&&l.add(...n))},[s[3]||(s[3]=e("i",{class:"bi bi-plus-circle-fill me-2"},null,-1)),d(r,{t:"Add"})]),e("button",{class:"btn btn-primary",onClick:s[2]||(s[2]=(...n)=>l.save&&l.save(...n)),disabled:i.saving},[i.saving?(a(),o("span",N)):(a(),o("span",M,[s[4]||(s[4]=e("i",{class:"bi bi-save-fill me-2"},null,-1)),d(r,{t:"Save"})]))],8,V)]),i.loading?D("",!0):(a(),o("ul",T,[(a(!0),o(h,null,_(i.domains,(n,m)=>(a(),o("li",{class:"list-group-item d-flex justify-content-between align-items-center",key:m},[e("span",null,c(n.domain)+" - "+c(n.ip),1),e("div",B,[e("a",{role:"button",class:"text-danger",onClick:E=>l.deleteDomain(m)},s[5]||(s[5]=[e("i",{class:"bi bi-trash-fill"},null,-1)]),8,A)])]))),128))]))])])}const U=u(w,[["render",F]]);export{U as default};
